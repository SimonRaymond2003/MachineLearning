<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Speeds | Machine Learning Applications</title>
  <meta name="description" content="Introduction" />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Speeds | Machine Learning Applications" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Introduction" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Speeds | Machine Learning Applications" />
  
  <meta name="twitter:description" content="Introduction" />
  

<meta name="author" content="Simon P. Raymond" />


<meta name="date" content="2024-12-29" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="imbalanced-application.html"/>
<link rel="next" href="multi-variable-classification.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">MachineLearning</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About Myself</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#purpose"><i class="fa fa-check"></i><b>1.1</b> Purpose</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#notes-for-public"><i class="fa fa-check"></i><b>1.2</b> Notes for public</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#work-in-progress"><i class="fa fa-check"></i><b>1.3</b> Work in progress</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="algorithms.html"><a href="algorithms.html"><i class="fa fa-check"></i><b>2</b> Algorithms</a>
<ul>
<li class="chapter" data-level="2.1" data-path="algorithms.html"><a href="algorithms.html#data"><i class="fa fa-check"></i><b>2.1</b> Data</a></li>
<li class="chapter" data-level="2.2" data-path="algorithms.html"><a href="algorithms.html#parametric"><i class="fa fa-check"></i><b>2.2</b> Parametric</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="algorithms.html"><a href="algorithms.html#lm"><i class="fa fa-check"></i><b>2.2.1</b> LM</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="algorithms.html"><a href="algorithms.html#trees"><i class="fa fa-check"></i><b>2.3</b> Trees</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="algorithms.html"><a href="algorithms.html#cart"><i class="fa fa-check"></i><b>2.3.1</b> CART</a></li>
<li class="chapter" data-level="2.3.2" data-path="algorithms.html"><a href="algorithms.html#bagging"><i class="fa fa-check"></i><b>2.3.2</b> Bagging</a></li>
<li class="chapter" data-level="2.3.3" data-path="algorithms.html"><a href="algorithms.html#rf"><i class="fa fa-check"></i><b>2.3.3</b> RF</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="algorithms.html"><a href="algorithms.html#boosting"><i class="fa fa-check"></i><b>2.4</b> Boosting</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="algorithms.html"><a href="algorithms.html#adaboost"><i class="fa fa-check"></i><b>2.4.1</b> Adaboost</a></li>
<li class="chapter" data-level="2.4.2" data-path="algorithms.html"><a href="algorithms.html#gbm-boost"><i class="fa fa-check"></i><b>2.4.2</b> GBM boost</a></li>
<li class="chapter" data-level="2.4.3" data-path="algorithms.html"><a href="algorithms.html#xgboost"><i class="fa fa-check"></i><b>2.4.3</b> XGBoost</a></li>
<li class="chapter" data-level="2.4.4" data-path="algorithms.html"><a href="algorithms.html#light-gbm-boost"><i class="fa fa-check"></i><b>2.4.4</b> Light GBM boost</a></li>
<li class="chapter" data-level="2.4.5" data-path="algorithms.html"><a href="algorithms.html#catboost"><i class="fa fa-check"></i><b>2.4.5</b> Catboost</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="algorithms.html"><a href="algorithms.html#other-non-parametric"><i class="fa fa-check"></i><b>2.5</b> Other Non-parametric</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="algorithms.html"><a href="algorithms.html#knn"><i class="fa fa-check"></i><b>2.5.1</b> KNN</a></li>
<li class="chapter" data-level="2.5.2" data-path="algorithms.html"><a href="algorithms.html#nueralnet"><i class="fa fa-check"></i><b>2.5.2</b> Nueralnet</a></li>
<li class="chapter" data-level="2.5.3" data-path="algorithms.html"><a href="algorithms.html#svm"><i class="fa fa-check"></i><b>2.5.3</b> SVM</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="binary-application.html"><a href="binary-application.html"><i class="fa fa-check"></i><b>3</b> Binary Application</a>
<ul>
<li class="chapter" data-level="3.1" data-path="binary-application.html"><a href="binary-application.html#data-1"><i class="fa fa-check"></i><b>3.1</b> Data</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="binary-application.html"><a href="binary-application.html#data-prep"><i class="fa fa-check"></i><b>3.1.1</b> Data Prep</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="binary-application.html"><a href="binary-application.html#model-selection"><i class="fa fa-check"></i><b>3.2</b> Model Selection</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="binary-application.html"><a href="binary-application.html#functions"><i class="fa fa-check"></i><b>3.2.1</b> Functions</a></li>
<li class="chapter" data-level="3.2.2" data-path="binary-application.html"><a href="binary-application.html#xgb"><i class="fa fa-check"></i><b>3.2.2</b> XGB</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="binary-application.html"><a href="binary-application.html#comparisions"><i class="fa fa-check"></i><b>3.3</b> Comparisions</a></li>
<li class="chapter" data-level="3.4" data-path="binary-application.html"><a href="binary-application.html#statistic-selection"><i class="fa fa-check"></i><b>3.4</b> Statistic selection</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="binary-application.html"><a href="binary-application.html#section"><i class="fa fa-check"></i><b>3.4.1</b> 0.5</a></li>
<li class="chapter" data-level="3.4.2" data-path="binary-application.html"><a href="binary-application.html#youdens-j-statistic"><i class="fa fa-check"></i><b>3.4.2</b> Youden’s J Statistic</a></li>
<li class="chapter" data-level="3.4.3" data-path="binary-application.html"><a href="binary-application.html#fscore"><i class="fa fa-check"></i><b>3.4.3</b> Fscore</a></li>
<li class="chapter" data-level="3.4.4" data-path="binary-application.html"><a href="binary-application.html#roc-curve"><i class="fa fa-check"></i><b>3.4.4</b> ROC curve</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="regressional-application.html"><a href="regressional-application.html"><i class="fa fa-check"></i><b>4</b> Regressional Application</a>
<ul>
<li class="chapter" data-level="4.1" data-path="regressional-application.html"><a href="regressional-application.html#data-2"><i class="fa fa-check"></i><b>4.1</b> Data</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="regressional-application.html"><a href="regressional-application.html#data-prep-1"><i class="fa fa-check"></i><b>4.1.1</b> Data Prep</a></li>
<li class="chapter" data-level="4.1.2" data-path="regressional-application.html"><a href="regressional-application.html#data-explorations"><i class="fa fa-check"></i><b>4.1.2</b> Data Explorations</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="regressional-application.html"><a href="regressional-application.html#model-selection-1"><i class="fa fa-check"></i><b>4.2</b> Model Selection</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="regressional-application.html"><a href="regressional-application.html#rf-1"><i class="fa fa-check"></i><b>4.2.1</b> RF</a></li>
<li class="chapter" data-level="4.2.2" data-path="regressional-application.html"><a href="regressional-application.html#lm-1"><i class="fa fa-check"></i><b>4.2.2</b> LM</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="imbalanced-application.html"><a href="imbalanced-application.html"><i class="fa fa-check"></i><b>5</b> Imbalanced Application</a>
<ul>
<li class="chapter" data-level="5.1" data-path="imbalanced-application.html"><a href="imbalanced-application.html#data-3"><i class="fa fa-check"></i><b>5.1</b> Data</a></li>
<li class="chapter" data-level="5.2" data-path="imbalanced-application.html"><a href="imbalanced-application.html#approaches"><i class="fa fa-check"></i><b>5.2</b> Approaches</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="imbalanced-application.html"><a href="imbalanced-application.html#no-changes"><i class="fa fa-check"></i><b>5.2.1</b> No changes</a></li>
<li class="chapter" data-level="5.2.2" data-path="imbalanced-application.html"><a href="imbalanced-application.html#undersample"><i class="fa fa-check"></i><b>5.2.2</b> Undersample</a></li>
<li class="chapter" data-level="5.2.3" data-path="imbalanced-application.html"><a href="imbalanced-application.html#oversampling"><i class="fa fa-check"></i><b>5.2.3</b> Oversampling</a></li>
<li class="chapter" data-level="5.2.4" data-path="imbalanced-application.html"><a href="imbalanced-application.html#smoteing"><i class="fa fa-check"></i><b>5.2.4</b> Smoteing</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="imbalanced-application.html"><a href="imbalanced-application.html#statistic-selection-1"><i class="fa fa-check"></i><b>5.3</b> Statistic selection</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="speeds.html"><a href="speeds.html"><i class="fa fa-check"></i><b>6</b> Speeds</a>
<ul>
<li class="chapter" data-level="6.1" data-path="speeds.html"><a href="speeds.html#functions-to-run-the-tests"><i class="fa fa-check"></i><b>6.1</b> Functions to run the tests</a></li>
<li class="chapter" data-level="6.2" data-path="speeds.html"><a href="speeds.html#data-4"><i class="fa fa-check"></i><b>6.2</b> Data</a></li>
<li class="chapter" data-level="6.3" data-path="speeds.html"><a href="speeds.html#rows"><i class="fa fa-check"></i><b>6.3</b> 10,000 rows</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="speeds.html"><a href="speeds.html#with-a-normal-matrix"><i class="fa fa-check"></i><b>6.3.1</b> With a normal Matrix</a></li>
<li class="chapter" data-level="6.3.2" data-path="speeds.html"><a href="speeds.html#with-a-sparse-matrix"><i class="fa fa-check"></i><b>6.3.2</b> With a sparse matrix</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="speeds.html"><a href="speeds.html#rows-1"><i class="fa fa-check"></i><b>6.4</b> 500,000 rows</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="speeds.html"><a href="speeds.html#with-a-normal-matrix-1"><i class="fa fa-check"></i><b>6.4.1</b> With a normal Matrix</a></li>
<li class="chapter" data-level="6.4.2" data-path="speeds.html"><a href="speeds.html#with-a-sparse-matrix-1"><i class="fa fa-check"></i><b>6.4.2</b> With a sparse matrix</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="speeds.html"><a href="speeds.html#presentations"><i class="fa fa-check"></i><b>6.5</b> Presentations</a></li>
<li class="chapter" data-level="6.6" data-path="speeds.html"><a href="speeds.html#analysis"><i class="fa fa-check"></i><b>6.6</b> Analysis</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="speeds.html"><a href="speeds.html#graphs"><i class="fa fa-check"></i><b>6.6.1</b> Graphs</a></li>
<li class="chapter" data-level="6.6.2" data-path="speeds.html"><a href="speeds.html#takaways"><i class="fa fa-check"></i><b>6.6.2</b> Takaways</a></li>
<li class="chapter" data-level="6.6.3" data-path="speeds.html"><a href="speeds.html#things-to-change"><i class="fa fa-check"></i><b>6.6.3</b> Things to change</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="multi-variable-classification.html"><a href="multi-variable-classification.html"><i class="fa fa-check"></i><b>7</b> Multi Variable Classification</a>
<ul>
<li class="chapter" data-level="7.1" data-path="multi-variable-classification.html"><a href="multi-variable-classification.html#data-5"><i class="fa fa-check"></i><b>7.1</b> Data</a></li>
<li class="chapter" data-level="7.2" data-path="multi-variable-classification.html"><a href="multi-variable-classification.html#aucs"><i class="fa fa-check"></i><b>7.2</b> AUCs</a></li>
<li class="chapter" data-level="7.3" data-path="multi-variable-classification.html"><a href="multi-variable-classification.html#confusion-table"><i class="fa fa-check"></i><b>7.3</b> Confusion Table</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="h20.html"><a href="h20.html"><i class="fa fa-check"></i><b>8</b> h20</a>
<ul>
<li class="chapter" data-level="8.1" data-path="h20.html"><a href="h20.html#set-up"><i class="fa fa-check"></i><b>8.1</b> Set-Up</a></li>
<li class="chapter" data-level="8.2" data-path="h20.html"><a href="h20.html#eda"><i class="fa fa-check"></i><b>8.2</b> EDA</a></li>
<li class="chapter" data-level="8.3" data-path="h20.html"><a href="h20.html#models-h20"><i class="fa fa-check"></i><b>8.3</b> Models h20</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="h20.html"><a href="h20.html#random-forest"><i class="fa fa-check"></i><b>8.3.1</b> Random Forest</a></li>
<li class="chapter" data-level="8.3.2" data-path="h20.html"><a href="h20.html#gradient-boosting-machine"><i class="fa fa-check"></i><b>8.3.2</b> Gradient Boosting Machine</a></li>
<li class="chapter" data-level="8.3.3" data-path="h20.html"><a href="h20.html#automl"><i class="fa fa-check"></i><b>8.3.3</b> AutoML</a></li>
<li class="chapter" data-level="8.3.4" data-path="h20.html"><a href="h20.html#xgboost-1"><i class="fa fa-check"></i><b>8.3.4</b> XGBoost</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="econometrics.html"><a href="econometrics.html"><i class="fa fa-check"></i><b>9</b> Econometrics</a>
<ul>
<li class="chapter" data-level="9.1" data-path="econometrics.html"><a href="econometrics.html#a.-california-test-scores"><i class="fa fa-check"></i><b>9.1</b> A. California Test Scores</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="econometrics.html"><a href="econometrics.html#introduction"><i class="fa fa-check"></i><b>9.1.1</b> Introduction</a></li>
<li class="chapter" data-level="9.1.2" data-path="econometrics.html"><a href="econometrics.html#theory"><i class="fa fa-check"></i><b>9.1.2</b> Theory</a></li>
<li class="chapter" data-level="9.1.3" data-path="econometrics.html"><a href="econometrics.html#building-the-models"><i class="fa fa-check"></i><b>9.1.3</b> Building The models</a></li>
<li class="chapter" data-level="9.1.4" data-path="econometrics.html"><a href="econometrics.html#proofs"><i class="fa fa-check"></i><b>9.1.4</b> Proofs</a></li>
<li class="chapter" data-level="9.1.5" data-path="econometrics.html"><a href="econometrics.html#tests"><i class="fa fa-check"></i><b>9.1.5</b> Tests</a></li>
<li class="chapter" data-level="9.1.6" data-path="econometrics.html"><a href="econometrics.html#significances-and-tests"><i class="fa fa-check"></i><b>9.1.6</b> Significances and Tests</a></li>
<li class="chapter" data-level="9.1.7" data-path="econometrics.html"><a href="econometrics.html#conclusion"><i class="fa fa-check"></i><b>9.1.7</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="econometrics.html"><a href="econometrics.html#auto-correlation"><i class="fa fa-check"></i><b>9.2</b> Auto Correlation</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="parrallel-processing.html"><a href="parrallel-processing.html"><i class="fa fa-check"></i><b>10</b> Parrallel Processing</a>
<ul>
<li class="chapter" data-level="10.1" data-path="parrallel-processing.html"><a href="parrallel-processing.html#parallel-with-parlapply"><i class="fa fa-check"></i><b>10.1</b> 1. parallel with parLapply</a></li>
<li class="chapter" data-level="10.2" data-path="parrallel-processing.html"><a href="parrallel-processing.html#foreach-with-doparallel"><i class="fa fa-check"></i><b>10.2</b> 2. foreach with doParallel</a></li>
<li class="chapter" data-level="10.3" data-path="parrallel-processing.html"><a href="parrallel-processing.html#future-with-future.apply"><i class="fa fa-check"></i><b>10.3</b> 3. future with future.apply</a></li>
<li class="chapter" data-level="10.4" data-path="parrallel-processing.html"><a href="parrallel-processing.html#purrr-with-furrr"><i class="fa fa-check"></i><b>10.4</b> 4. purrr with furrr</a></li>
<li class="chapter" data-level="10.5" data-path="parrallel-processing.html"><a href="parrallel-processing.html#purrr-synchronously"><i class="fa fa-check"></i><b>10.5</b> 5. purrr Synchronously</a></li>
<li class="chapter" data-level="10.6" data-path="parrallel-processing.html"><a href="parrallel-processing.html#comparisions-1"><i class="fa fa-check"></i><b>10.6</b> comparisions</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="randomforestinsight.html"><a href="randomforestinsight.html"><i class="fa fa-check"></i><b>11</b> RandomForestInsight</a></li>
<li class="chapter" data-level="12" data-path="sequential-data-embedding.html"><a href="sequential-data-embedding.html"><i class="fa fa-check"></i><b>12</b> Sequential Data Embedding</a></li>
<li class="chapter" data-level="13" data-path="hcc_survey_analysis.html"><a href="hcc_survey_analysis.html"><i class="fa fa-check"></i><b>13</b> HCC_Survey_Analysis</a>
<ul>
<li class="chapter" data-level="13.1" data-path="hcc_survey_analysis.html"><a href="hcc_survey_analysis.html#our-data-and-purpose"><i class="fa fa-check"></i><b>13.1</b> Our data and Purpose</a></li>
<li class="chapter" data-level="13.2" data-path="hcc_survey_analysis.html"><a href="hcc_survey_analysis.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>13.2</b> Exploratory Data Analysis</a></li>
<li class="chapter" data-level="13.3" data-path="hcc_survey_analysis.html"><a href="hcc_survey_analysis.html#modeling-random-forest"><i class="fa fa-check"></i><b>13.3</b> Modeling Random Forest</a></li>
<li class="chapter" data-level="13.4" data-path="hcc_survey_analysis.html"><a href="hcc_survey_analysis.html#global-importance"><i class="fa fa-check"></i><b>13.4</b> Global Importance</a></li>
<li class="chapter" data-level="13.5" data-path="hcc_survey_analysis.html"><a href="hcc_survey_analysis.html#local-importance"><i class="fa fa-check"></i><b>13.5</b> Local Importance</a></li>
<li class="chapter" data-level="13.6" data-path="hcc_survey_analysis.html"><a href="hcc_survey_analysis.html#partial-dependence-plots"><i class="fa fa-check"></i><b>13.6</b> Partial Dependence Plots</a></li>
<li class="chapter" data-level="13.7" data-path="hcc_survey_analysis.html"><a href="hcc_survey_analysis.html#random-forest-explainer"><i class="fa fa-check"></i><b>13.7</b> Random Forest Explainer</a></li>
<li class="chapter" data-level="13.8" data-path="hcc_survey_analysis.html"><a href="hcc_survey_analysis.html#final-notes"><i class="fa fa-check"></i><b>13.8</b> Final Notes</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="what-is-stacked-ensambled.html"><a href="what-is-stacked-ensambled.html"><i class="fa fa-check"></i><b>14</b> What Is Stacked Ensambled</a></li>
<li class="chapter" data-level="15" data-path="intro-econ-stats.html"><a href="intro-econ-stats.html"><i class="fa fa-check"></i><b>15</b> Intro Econ Stats</a></li>
<li class="chapter" data-level="16" data-path="nfl.html"><a href="nfl.html"><i class="fa fa-check"></i><b>16</b> NFL</a>
<ul>
<li class="chapter" data-level="16.1" data-path="nfl.html"><a href="nfl.html#wbs"><i class="fa fa-check"></i><b>16.1</b> WBs</a></li>
<li class="chapter" data-level="16.2" data-path="nfl.html"><a href="nfl.html#rbs"><i class="fa fa-check"></i><b>16.2</b> RBs</a></li>
<li class="chapter" data-level="16.3" data-path="nfl.html"><a href="nfl.html#qbs"><i class="fa fa-check"></i><b>16.3</b> QBs</a></li>
<li class="chapter" data-level="16.4" data-path="nfl.html"><a href="nfl.html#plots-and-analysis"><i class="fa fa-check"></i><b>16.4</b> Plots and Analysis</a></li>
<li class="chapter" data-level="16.5" data-path="nfl.html"><a href="nfl.html#lists-to-do"><i class="fa fa-check"></i><b>16.5</b> Lists to do</a></li>
<li class="chapter" data-level="16.6" data-path="nfl.html"><a href="nfl.html#team-mates"><i class="fa fa-check"></i><b>16.6</b> team mates</a></li>
<li class="chapter" data-level="16.7" data-path="nfl.html"><a href="nfl.html#testing"><i class="fa fa-check"></i><b>16.7</b> Testing</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Machine Learning Applications</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="speeds" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">Chapter 6</span> Speeds<a href="speeds.html#speeds" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="speeds.html#cb126-1" tabindex="-1"></a><span class="fu">library</span>(xgboost)</span>
<span id="cb126-2"><a href="speeds.html#cb126-2" tabindex="-1"></a><span class="fu">library</span>(ROCR)</span>
<span id="cb126-3"><a href="speeds.html#cb126-3" tabindex="-1"></a><span class="fu">library</span>(foreach)</span>
<span id="cb126-4"><a href="speeds.html#cb126-4" tabindex="-1"></a><span class="fu">library</span>(doParallel)</span>
<span id="cb126-5"><a href="speeds.html#cb126-5" tabindex="-1"></a><span class="fu">library</span>(Matrix)</span>
<span id="cb126-6"><a href="speeds.html#cb126-6" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb126-7"><a href="speeds.html#cb126-7" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb126-8"><a href="speeds.html#cb126-8" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb126-9"><a href="speeds.html#cb126-9" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span></code></pre></div>
<div id="functions-to-run-the-tests" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Functions to run the tests<a href="speeds.html#functions-to-run-the-tests" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>I will make 3 functions. One with my parallel processing, one with xgboost pp and then one with no pp at all so n thread = 1.</p>
<p>I have included the code so that you can see it but it is not important just know that we are looping r times and that the loops use bootstrapping for splits.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="speeds.html#cb127-1" tabindex="-1"></a>xgb1 <span class="ot">&lt;-</span> <span class="cf">function</span>(r, xs, y, params, nrounds) {</span>
<span id="cb127-2"><a href="speeds.html#cb127-2" tabindex="-1"></a>  start_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>() <span class="co"># Start timer</span></span>
<span id="cb127-3"><a href="speeds.html#cb127-3" tabindex="-1"></a>  </span>
<span id="cb127-4"><a href="speeds.html#cb127-4" tabindex="-1"></a>  auc <span class="ot">&lt;-</span> <span class="fu">numeric</span>(r) <span class="co"># Pre-allocate a numeric vector for AUC values</span></span>
<span id="cb127-5"><a href="speeds.html#cb127-5" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>r) {</span>
<span id="cb127-6"><a href="speeds.html#cb127-6" tabindex="-1"></a>    <span class="co"># Bootstrap sampling</span></span>
<span id="cb127-7"><a href="speeds.html#cb127-7" tabindex="-1"></a>    ind <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">nrow</span>(xs), <span class="fu">nrow</span>(xs) <span class="sc">*</span> <span class="fl">0.8</span>)</span>
<span id="cb127-8"><a href="speeds.html#cb127-8" tabindex="-1"></a>    md_x <span class="ot">&lt;-</span> xs[ind, ]</span>
<span id="cb127-9"><a href="speeds.html#cb127-9" tabindex="-1"></a>    md_y <span class="ot">&lt;-</span> y[ind]</span>
<span id="cb127-10"><a href="speeds.html#cb127-10" tabindex="-1"></a>    test_x <span class="ot">&lt;-</span> xs[<span class="sc">-</span>ind, ] </span>
<span id="cb127-11"><a href="speeds.html#cb127-11" tabindex="-1"></a>    test_y <span class="ot">&lt;-</span> y[<span class="sc">-</span>ind] </span>
<span id="cb127-12"><a href="speeds.html#cb127-12" tabindex="-1"></a>    </span>
<span id="cb127-13"><a href="speeds.html#cb127-13" tabindex="-1"></a><span class="co"># onvert to DMatrix</span></span>
<span id="cb127-14"><a href="speeds.html#cb127-14" tabindex="-1"></a>dtrain <span class="ot">&lt;-</span> <span class="fu">xgb.DMatrix</span>(<span class="at">data =</span> md_x, <span class="at">label =</span> md_y)</span>
<span id="cb127-15"><a href="speeds.html#cb127-15" tabindex="-1"></a>dtest <span class="ot">&lt;-</span> <span class="fu">xgb.DMatrix</span>(<span class="at">data =</span> test_x, <span class="at">label =</span> test_y)  </span>
<span id="cb127-16"><a href="speeds.html#cb127-16" tabindex="-1"></a></span>
<span id="cb127-17"><a href="speeds.html#cb127-17" tabindex="-1"></a>    <span class="co"># Train the model</span></span>
<span id="cb127-18"><a href="speeds.html#cb127-18" tabindex="-1"></a>params <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">objective =</span> <span class="st">&quot;binary:logistic&quot;</span>, <span class="at">eval_metric =</span> <span class="st">&quot;auc&quot;</span>)</span>
<span id="cb127-19"><a href="speeds.html#cb127-19" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">xgb.train</span>(<span class="at">params =</span> params, </span>
<span id="cb127-20"><a href="speeds.html#cb127-20" tabindex="-1"></a>                       <span class="at">data =</span> dtrain, </span>
<span id="cb127-21"><a href="speeds.html#cb127-21" tabindex="-1"></a>                       <span class="at">nrounds =</span> nrounds,</span>
<span id="cb127-22"><a href="speeds.html#cb127-22" tabindex="-1"></a>                       <span class="at">nthread =</span> <span class="dv">1</span>)</span>
<span id="cb127-23"><a href="speeds.html#cb127-23" tabindex="-1"></a></span>
<span id="cb127-24"><a href="speeds.html#cb127-24" tabindex="-1"></a>    predictions <span class="ot">&lt;-</span> <span class="fu">predict</span>(model, dtest)</span>
<span id="cb127-25"><a href="speeds.html#cb127-25" tabindex="-1"></a>    pred <span class="ot">&lt;-</span> ROCR<span class="sc">::</span><span class="fu">prediction</span>(predictions, test_y)</span>
<span id="cb127-26"><a href="speeds.html#cb127-26" tabindex="-1"></a>    perf <span class="ot">&lt;-</span> ROCR<span class="sc">::</span><span class="fu">performance</span>(pred, <span class="st">&quot;auc&quot;</span>)</span>
<span id="cb127-27"><a href="speeds.html#cb127-27" tabindex="-1"></a>    auc[i] <span class="ot">&lt;-</span> perf<span class="sc">@</span>y.values[[<span class="dv">1</span>]]</span>
<span id="cb127-28"><a href="speeds.html#cb127-28" tabindex="-1"></a>  }</span>
<span id="cb127-29"><a href="speeds.html#cb127-29" tabindex="-1"></a>  </span>
<span id="cb127-30"><a href="speeds.html#cb127-30" tabindex="-1"></a>  end_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>() <span class="co"># End timer</span></span>
<span id="cb127-31"><a href="speeds.html#cb127-31" tabindex="-1"></a>time_taken <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(end_time <span class="sc">-</span> start_time, <span class="at">units =</span> <span class="st">&quot;secs&quot;</span>)</span>
<span id="cb127-32"><a href="speeds.html#cb127-32" tabindex="-1"></a>  </span>
<span id="cb127-33"><a href="speeds.html#cb127-33" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">auc =</span> auc, <span class="at">time_taken =</span> time_taken)</span>
<span id="cb127-34"><a href="speeds.html#cb127-34" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="speeds.html#cb128-1" tabindex="-1"></a>xgb2 <span class="ot">&lt;-</span> <span class="cf">function</span>(r, xs, y, params, nrounds) {</span>
<span id="cb128-2"><a href="speeds.html#cb128-2" tabindex="-1"></a>  start_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>() <span class="co"># Start timer</span></span>
<span id="cb128-3"><a href="speeds.html#cb128-3" tabindex="-1"></a>  </span>
<span id="cb128-4"><a href="speeds.html#cb128-4" tabindex="-1"></a>  auc <span class="ot">&lt;-</span> <span class="fu">numeric</span>(r) <span class="co"># Initialize the AUC vector to store AUC values for each iteration</span></span>
<span id="cb128-5"><a href="speeds.html#cb128-5" tabindex="-1"></a>  </span>
<span id="cb128-6"><a href="speeds.html#cb128-6" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>r) {</span>
<span id="cb128-7"><a href="speeds.html#cb128-7" tabindex="-1"></a>   <span class="co"># Bootstrap sampling</span></span>
<span id="cb128-8"><a href="speeds.html#cb128-8" tabindex="-1"></a>    ind <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">nrow</span>(xs), <span class="fu">nrow</span>(xs) <span class="sc">*</span> <span class="fl">0.8</span>)</span>
<span id="cb128-9"><a href="speeds.html#cb128-9" tabindex="-1"></a>    md_x <span class="ot">&lt;-</span> xs[ind, ]</span>
<span id="cb128-10"><a href="speeds.html#cb128-10" tabindex="-1"></a>    md_y <span class="ot">&lt;-</span> y[ind]</span>
<span id="cb128-11"><a href="speeds.html#cb128-11" tabindex="-1"></a>    test_x <span class="ot">&lt;-</span> xs[<span class="sc">-</span>ind, ] <span class="co"># Potential indexing issue</span></span>
<span id="cb128-12"><a href="speeds.html#cb128-12" tabindex="-1"></a>    test_y <span class="ot">&lt;-</span> y[<span class="sc">-</span>ind] <span class="co"># Potential indexing issue</span></span>
<span id="cb128-13"><a href="speeds.html#cb128-13" tabindex="-1"></a>    </span>
<span id="cb128-14"><a href="speeds.html#cb128-14" tabindex="-1"></a><span class="co"># onvert to DMatrix</span></span>
<span id="cb128-15"><a href="speeds.html#cb128-15" tabindex="-1"></a>dtrain <span class="ot">&lt;-</span> <span class="fu">xgb.DMatrix</span>(<span class="at">data =</span> md_x, <span class="at">label =</span> md_y)</span>
<span id="cb128-16"><a href="speeds.html#cb128-16" tabindex="-1"></a>dtest <span class="ot">&lt;-</span> <span class="fu">xgb.DMatrix</span>(<span class="at">data =</span> test_x, <span class="at">label =</span> test_y)  </span>
<span id="cb128-17"><a href="speeds.html#cb128-17" tabindex="-1"></a></span>
<span id="cb128-18"><a href="speeds.html#cb128-18" tabindex="-1"></a>    <span class="co"># Train the model</span></span>
<span id="cb128-19"><a href="speeds.html#cb128-19" tabindex="-1"></a>params <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">objective =</span> <span class="st">&quot;binary:logistic&quot;</span>, <span class="at">eval_metric =</span> <span class="st">&quot;auc&quot;</span>)</span>
<span id="cb128-20"><a href="speeds.html#cb128-20" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">xgb.train</span>(<span class="at">params =</span> params, </span>
<span id="cb128-21"><a href="speeds.html#cb128-21" tabindex="-1"></a>                       <span class="at">data =</span> dtrain, </span>
<span id="cb128-22"><a href="speeds.html#cb128-22" tabindex="-1"></a>                       <span class="at">nrounds =</span> nrounds,</span>
<span id="cb128-23"><a href="speeds.html#cb128-23" tabindex="-1"></a>                       <span class="at">nthread =</span> <span class="fu">detectCores</span>() <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb128-24"><a href="speeds.html#cb128-24" tabindex="-1"></a></span>
<span id="cb128-25"><a href="speeds.html#cb128-25" tabindex="-1"></a>    <span class="co"># Predicting and calculating AUC</span></span>
<span id="cb128-26"><a href="speeds.html#cb128-26" tabindex="-1"></a>    predictions <span class="ot">&lt;-</span> <span class="fu">predict</span>(model, dtest)</span>
<span id="cb128-27"><a href="speeds.html#cb128-27" tabindex="-1"></a>    pred <span class="ot">&lt;-</span> ROCR<span class="sc">::</span><span class="fu">prediction</span>(predictions, test_y)</span>
<span id="cb128-28"><a href="speeds.html#cb128-28" tabindex="-1"></a>    perf <span class="ot">&lt;-</span> ROCR<span class="sc">::</span><span class="fu">performance</span>(pred, <span class="st">&quot;auc&quot;</span>)</span>
<span id="cb128-29"><a href="speeds.html#cb128-29" tabindex="-1"></a>    auc[i] <span class="ot">&lt;-</span> perf<span class="sc">@</span>y.values[[<span class="dv">1</span>]]</span>
<span id="cb128-30"><a href="speeds.html#cb128-30" tabindex="-1"></a>  }</span>
<span id="cb128-31"><a href="speeds.html#cb128-31" tabindex="-1"></a>  </span>
<span id="cb128-32"><a href="speeds.html#cb128-32" tabindex="-1"></a>  end_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>() <span class="co"># End timer</span></span>
<span id="cb128-33"><a href="speeds.html#cb128-33" tabindex="-1"></a>time_taken <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(end_time <span class="sc">-</span> start_time, <span class="at">units =</span> <span class="st">&quot;secs&quot;</span>)</span>
<span id="cb128-34"><a href="speeds.html#cb128-34" tabindex="-1"></a>  </span>
<span id="cb128-35"><a href="speeds.html#cb128-35" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">mean_auc =</span> <span class="fu">mean</span>(auc), <span class="at">time_taken =</span> time_taken)</span>
<span id="cb128-36"><a href="speeds.html#cb128-36" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="speeds.html#cb129-1" tabindex="-1"></a>xgbpar <span class="ot">&lt;-</span> <span class="cf">function</span>(r, xs, y, params, nrounds) {</span>
<span id="cb129-2"><a href="speeds.html#cb129-2" tabindex="-1"></a>  start_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>() <span class="co"># Start timer</span></span>
<span id="cb129-3"><a href="speeds.html#cb129-3" tabindex="-1"></a>  </span>
<span id="cb129-4"><a href="speeds.html#cb129-4" tabindex="-1"></a>  cl <span class="ot">&lt;-</span> <span class="fu">makeCluster</span>(<span class="fu">detectCores</span>() <span class="sc">-</span> <span class="dv">1</span>) <span class="co"># Use one less than the total number of cores</span></span>
<span id="cb129-5"><a href="speeds.html#cb129-5" tabindex="-1"></a>  <span class="fu">registerDoParallel</span>(cl)</span>
<span id="cb129-6"><a href="speeds.html#cb129-6" tabindex="-1"></a></span>
<span id="cb129-7"><a href="speeds.html#cb129-7" tabindex="-1"></a>  <span class="co"># Parallel processing using foreach</span></span>
<span id="cb129-8"><a href="speeds.html#cb129-8" tabindex="-1"></a>  results <span class="ot">&lt;-</span> <span class="fu">foreach</span>(<span class="at">i =</span> <span class="dv">1</span><span class="sc">:</span>r, <span class="at">.combine =</span> <span class="st">&#39;c&#39;</span>, <span class="at">.packages =</span> <span class="fu">c</span>(<span class="st">&#39;xgboost&#39;</span>, <span class="st">&#39;ROCR&#39;</span>)) <span class="sc">%dopar%</span> {</span>
<span id="cb129-9"><a href="speeds.html#cb129-9" tabindex="-1"></a>    <span class="co"># Bootstrap sampling</span></span>
<span id="cb129-10"><a href="speeds.html#cb129-10" tabindex="-1"></a>    ind <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">nrow</span>(xs), <span class="fu">nrow</span>(xs) <span class="sc">*</span> <span class="fl">0.8</span>)</span>
<span id="cb129-11"><a href="speeds.html#cb129-11" tabindex="-1"></a>    md_x <span class="ot">&lt;-</span> xs[ind, ]</span>
<span id="cb129-12"><a href="speeds.html#cb129-12" tabindex="-1"></a>    md_y <span class="ot">&lt;-</span> y[ind]</span>
<span id="cb129-13"><a href="speeds.html#cb129-13" tabindex="-1"></a>    test_x <span class="ot">&lt;-</span> xs[<span class="sc">-</span>ind, ] <span class="co"># Potential indexing issue</span></span>
<span id="cb129-14"><a href="speeds.html#cb129-14" tabindex="-1"></a>    test_y <span class="ot">&lt;-</span> y[<span class="sc">-</span>ind] <span class="co"># Potential indexing issue</span></span>
<span id="cb129-15"><a href="speeds.html#cb129-15" tabindex="-1"></a>    </span>
<span id="cb129-16"><a href="speeds.html#cb129-16" tabindex="-1"></a><span class="co"># onvert to DMatrix</span></span>
<span id="cb129-17"><a href="speeds.html#cb129-17" tabindex="-1"></a>dtrain <span class="ot">&lt;-</span> <span class="fu">xgb.DMatrix</span>(<span class="at">data =</span> md_x, <span class="at">label =</span> md_y)</span>
<span id="cb129-18"><a href="speeds.html#cb129-18" tabindex="-1"></a>dtest <span class="ot">&lt;-</span> <span class="fu">xgb.DMatrix</span>(<span class="at">data =</span> test_x, <span class="at">label =</span> test_y)  </span>
<span id="cb129-19"><a href="speeds.html#cb129-19" tabindex="-1"></a></span>
<span id="cb129-20"><a href="speeds.html#cb129-20" tabindex="-1"></a>    <span class="co"># Train the model</span></span>
<span id="cb129-21"><a href="speeds.html#cb129-21" tabindex="-1"></a>params <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">objective =</span> <span class="st">&quot;binary:logistic&quot;</span>, <span class="at">eval_metric =</span> <span class="st">&quot;auc&quot;</span>)</span>
<span id="cb129-22"><a href="speeds.html#cb129-22" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">xgb.train</span>(<span class="at">params =</span> params, </span>
<span id="cb129-23"><a href="speeds.html#cb129-23" tabindex="-1"></a>                       <span class="at">data =</span> dtrain, </span>
<span id="cb129-24"><a href="speeds.html#cb129-24" tabindex="-1"></a>                       <span class="at">nrounds =</span> nrounds,</span>
<span id="cb129-25"><a href="speeds.html#cb129-25" tabindex="-1"></a>                       <span class="at">nthread =</span> <span class="dv">1</span>)</span>
<span id="cb129-26"><a href="speeds.html#cb129-26" tabindex="-1"></a></span>
<span id="cb129-27"><a href="speeds.html#cb129-27" tabindex="-1"></a>    predictions <span class="ot">&lt;-</span> <span class="fu">predict</span>(model, dtest)</span>
<span id="cb129-28"><a href="speeds.html#cb129-28" tabindex="-1"></a>    pred <span class="ot">&lt;-</span> <span class="fu">prediction</span>(predictions, test_y)</span>
<span id="cb129-29"><a href="speeds.html#cb129-29" tabindex="-1"></a>    perf <span class="ot">&lt;-</span> <span class="fu">performance</span>(pred, <span class="st">&quot;auc&quot;</span>)</span>
<span id="cb129-30"><a href="speeds.html#cb129-30" tabindex="-1"></a>    perf<span class="sc">@</span>y.values[[<span class="dv">1</span>]]</span>
<span id="cb129-31"><a href="speeds.html#cb129-31" tabindex="-1"></a>  }</span>
<span id="cb129-32"><a href="speeds.html#cb129-32" tabindex="-1"></a></span>
<span id="cb129-33"><a href="speeds.html#cb129-33" tabindex="-1"></a>  <span class="co"># Stop the cluster</span></span>
<span id="cb129-34"><a href="speeds.html#cb129-34" tabindex="-1"></a>  <span class="fu">stopCluster</span>(cl)</span>
<span id="cb129-35"><a href="speeds.html#cb129-35" tabindex="-1"></a>  </span>
<span id="cb129-36"><a href="speeds.html#cb129-36" tabindex="-1"></a>  end_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>() <span class="co"># End timer</span></span>
<span id="cb129-37"><a href="speeds.html#cb129-37" tabindex="-1"></a>time_taken <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(end_time <span class="sc">-</span> start_time, <span class="at">units =</span> <span class="st">&quot;secs&quot;</span>)</span>
<span id="cb129-38"><a href="speeds.html#cb129-38" tabindex="-1"></a></span>
<span id="cb129-39"><a href="speeds.html#cb129-39" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">mean_auc =</span> <span class="fu">mean</span>(results), <span class="at">time_taken =</span> time_taken)</span>
<span id="cb129-40"><a href="speeds.html#cb129-40" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="data-4" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Data<a href="speeds.html#data-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="speeds.html#cb130-1" tabindex="-1"></a>generate_dataset <span class="ot">&lt;-</span> <span class="cf">function</span>(n_rows) {</span>
<span id="cb130-2"><a href="speeds.html#cb130-2" tabindex="-1"></a>  <span class="fu">set.seed</span>(<span class="dv">123</span>) <span class="co"># Ensure reproducibility</span></span>
<span id="cb130-3"><a href="speeds.html#cb130-3" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">y =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), n_rows, <span class="at">replace =</span> <span class="cn">TRUE</span>))</span>
<span id="cb130-4"><a href="speeds.html#cb130-4" tabindex="-1"></a>  </span>
<span id="cb130-5"><a href="speeds.html#cb130-5" tabindex="-1"></a>  <span class="co"># Add 10 numeric columns</span></span>
<span id="cb130-6"><a href="speeds.html#cb130-6" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb130-7"><a href="speeds.html#cb130-7" tabindex="-1"></a>    df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="sc">!!</span><span class="fu">paste0</span>(<span class="st">&quot;num&quot;</span>, i) <span class="sc">:=</span> <span class="fu">runif</span>(n_rows))</span>
<span id="cb130-8"><a href="speeds.html#cb130-8" tabindex="-1"></a>  }</span>
<span id="cb130-9"><a href="speeds.html#cb130-9" tabindex="-1"></a>  </span>
<span id="cb130-10"><a href="speeds.html#cb130-10" tabindex="-1"></a>  <span class="co"># Add 20 factor columns</span></span>
<span id="cb130-11"><a href="speeds.html#cb130-11" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>) {</span>
<span id="cb130-12"><a href="speeds.html#cb130-12" tabindex="-1"></a>    df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="sc">!!</span><span class="fu">paste0</span>(<span class="st">&quot;fac&quot;</span>, i) <span class="sc">:=</span> <span class="fu">factor</span>(<span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">&quot;1&quot;</span>, <span class="st">&quot;2&quot;</span>, <span class="st">&quot;3&quot;</span>), n_rows, <span class="at">replace =</span> <span class="cn">TRUE</span>)))</span>
<span id="cb130-13"><a href="speeds.html#cb130-13" tabindex="-1"></a>  }</span>
<span id="cb130-14"><a href="speeds.html#cb130-14" tabindex="-1"></a>  </span>
<span id="cb130-15"><a href="speeds.html#cb130-15" tabindex="-1"></a>  <span class="fu">return</span>(df)</span>
<span id="cb130-16"><a href="speeds.html#cb130-16" tabindex="-1"></a>}</span>
<span id="cb130-17"><a href="speeds.html#cb130-17" tabindex="-1"></a></span>
<span id="cb130-18"><a href="speeds.html#cb130-18" tabindex="-1"></a><span class="co"># Generate datasets of different sizes</span></span>
<span id="cb130-19"><a href="speeds.html#cb130-19" tabindex="-1"></a>df<span class="ot">&lt;-</span> <span class="fu">generate_dataset</span>(<span class="dv">1000</span>)</span>
<span id="cb130-20"><a href="speeds.html#cb130-20" tabindex="-1"></a>dfb <span class="ot">&lt;-</span> <span class="fu">generate_dataset</span>(<span class="dv">500000</span>)</span></code></pre></div>
</div>
<div id="rows" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> 10,000 rows<a href="speeds.html#rows" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Create the data. as a note this data has no relations so it wont be predictable
20 factor collums
10 numeric</p>
<div id="with-a-normal-matrix" class="section level3 hasAnchor" number="6.3.1">
<h3><span class="header-section-number">6.3.1</span> With a normal Matrix<a href="speeds.html#with-a-normal-matrix" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="speeds.html#cb131-1" tabindex="-1"></a>xs <span class="ot">&lt;-</span> <span class="fu">model.matrix</span>(<span class="sc">~</span> . <span class="sc">-</span><span class="dv">1</span> <span class="sc">-</span> y, <span class="at">data =</span> df)</span>
<span id="cb131-2"><a href="speeds.html#cb131-2" tabindex="-1"></a>y <span class="ot">&lt;-</span> df<span class="sc">$</span>y</span></code></pre></div>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="speeds.html#cb132-1" tabindex="-1"></a>params <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb132-2"><a href="speeds.html#cb132-2" tabindex="-1"></a>  <span class="at">booster =</span> <span class="st">&quot;gbtree&quot;</span>,</span>
<span id="cb132-3"><a href="speeds.html#cb132-3" tabindex="-1"></a>  <span class="at">objective =</span> <span class="st">&quot;binary:logistic&quot;</span>,</span>
<span id="cb132-4"><a href="speeds.html#cb132-4" tabindex="-1"></a>  <span class="at">eta =</span> <span class="fl">0.1</span>,</span>
<span id="cb132-5"><a href="speeds.html#cb132-5" tabindex="-1"></a>  <span class="at">gamma =</span> <span class="dv">0</span>,</span>
<span id="cb132-6"><a href="speeds.html#cb132-6" tabindex="-1"></a>  <span class="at">max_depth =</span> <span class="dv">6</span>,</span>
<span id="cb132-7"><a href="speeds.html#cb132-7" tabindex="-1"></a>  <span class="at">min_child_weight =</span> <span class="dv">1</span>,</span>
<span id="cb132-8"><a href="speeds.html#cb132-8" tabindex="-1"></a>  <span class="at">subsample =</span> <span class="dv">1</span>,</span>
<span id="cb132-9"><a href="speeds.html#cb132-9" tabindex="-1"></a>  <span class="at">colsample_bytree =</span> <span class="dv">1</span>,</span>
<span id="cb132-10"><a href="speeds.html#cb132-10" tabindex="-1"></a>  <span class="at">lambda =</span> <span class="dv">1</span>,</span>
<span id="cb132-11"><a href="speeds.html#cb132-11" tabindex="-1"></a>  <span class="at">alpha =</span> <span class="dv">0</span></span>
<span id="cb132-12"><a href="speeds.html#cb132-12" tabindex="-1"></a>)</span>
<span id="cb132-13"><a href="speeds.html#cb132-13" tabindex="-1"></a>nrounds <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb132-14"><a href="speeds.html#cb132-14" tabindex="-1"></a>r <span class="ot">&lt;-</span> <span class="fu">detectCores</span>() <span class="sc">-</span> <span class="dv">1</span></span></code></pre></div>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="speeds.html#cb133-1" tabindex="-1"></a><span class="co"># Execute the functions</span></span>
<span id="cb133-2"><a href="speeds.html#cb133-2" tabindex="-1"></a>x1 <span class="ot">&lt;-</span> <span class="fu">xgb1</span>(r, xs, y, params, nrounds)</span>
<span id="cb133-3"><a href="speeds.html#cb133-3" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> <span class="fu">xgb2</span>(r, xs, y, params, nrounds)</span>
<span id="cb133-4"><a href="speeds.html#cb133-4" tabindex="-1"></a>xp <span class="ot">&lt;-</span> <span class="fu">xgbpar</span>(r, xs, y, params, nrounds)</span>
<span id="cb133-5"><a href="speeds.html#cb133-5" tabindex="-1"></a></span>
<span id="cb133-6"><a href="speeds.html#cb133-6" tabindex="-1"></a><span class="co"># Extract execution times</span></span>
<span id="cb133-7"><a href="speeds.html#cb133-7" tabindex="-1"></a>t1sf <span class="ot">&lt;-</span> x1<span class="sc">$</span>time_taken</span>
<span id="cb133-8"><a href="speeds.html#cb133-8" tabindex="-1"></a>t2sf <span class="ot">&lt;-</span> x2<span class="sc">$</span>time_taken</span>
<span id="cb133-9"><a href="speeds.html#cb133-9" tabindex="-1"></a>tpsf <span class="ot">&lt;-</span> xp<span class="sc">$</span>time_taken</span></code></pre></div>
</div>
<div id="with-a-sparse-matrix" class="section level3 hasAnchor" number="6.3.2">
<h3><span class="header-section-number">6.3.2</span> With a sparse matrix<a href="speeds.html#with-a-sparse-matrix" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For a sparse matrix. The data must be one hot coded then turned into a dataframe. Then turned into a sparse matrix.</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="speeds.html#cb134-1" tabindex="-1"></a>y <span class="ot">&lt;-</span> df<span class="sc">$</span>y</span>
<span id="cb134-2"><a href="speeds.html#cb134-2" tabindex="-1"></a>xs <span class="ot">&lt;-</span> <span class="fu">sparse.model.matrix</span>(<span class="sc">~</span> ., <span class="at">data =</span> <span class="fu">as.data.frame</span>(xs))</span></code></pre></div>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="speeds.html#cb135-1" tabindex="-1"></a>params <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb135-2"><a href="speeds.html#cb135-2" tabindex="-1"></a>  <span class="at">booster =</span> <span class="st">&quot;gbtree&quot;</span>,</span>
<span id="cb135-3"><a href="speeds.html#cb135-3" tabindex="-1"></a>  <span class="at">objective =</span> <span class="st">&quot;binary:logistic&quot;</span>,</span>
<span id="cb135-4"><a href="speeds.html#cb135-4" tabindex="-1"></a>  <span class="at">eta =</span> <span class="fl">0.1</span>,</span>
<span id="cb135-5"><a href="speeds.html#cb135-5" tabindex="-1"></a>  <span class="at">gamma =</span> <span class="dv">0</span>,</span>
<span id="cb135-6"><a href="speeds.html#cb135-6" tabindex="-1"></a>  <span class="at">max_depth =</span> <span class="dv">6</span>,</span>
<span id="cb135-7"><a href="speeds.html#cb135-7" tabindex="-1"></a>  <span class="at">min_child_weight =</span> <span class="dv">1</span>,</span>
<span id="cb135-8"><a href="speeds.html#cb135-8" tabindex="-1"></a>  <span class="at">subsample =</span> <span class="dv">1</span>,</span>
<span id="cb135-9"><a href="speeds.html#cb135-9" tabindex="-1"></a>  <span class="at">colsample_bytree =</span> <span class="dv">1</span>,</span>
<span id="cb135-10"><a href="speeds.html#cb135-10" tabindex="-1"></a>  <span class="at">lambda =</span> <span class="dv">1</span>,</span>
<span id="cb135-11"><a href="speeds.html#cb135-11" tabindex="-1"></a>  <span class="at">alpha =</span> <span class="dv">0</span></span>
<span id="cb135-12"><a href="speeds.html#cb135-12" tabindex="-1"></a>)</span>
<span id="cb135-13"><a href="speeds.html#cb135-13" tabindex="-1"></a>nrounds <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb135-14"><a href="speeds.html#cb135-14" tabindex="-1"></a>r <span class="ot">&lt;-</span> <span class="fu">detectCores</span>() <span class="sc">-</span> <span class="dv">1</span></span></code></pre></div>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="speeds.html#cb136-1" tabindex="-1"></a><span class="co"># Execute the functions</span></span>
<span id="cb136-2"><a href="speeds.html#cb136-2" tabindex="-1"></a>x1 <span class="ot">&lt;-</span> <span class="fu">xgb1</span>(r, xs, y, params, nrounds)</span>
<span id="cb136-3"><a href="speeds.html#cb136-3" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> <span class="fu">xgb2</span>(r, xs, y, params, nrounds)</span>
<span id="cb136-4"><a href="speeds.html#cb136-4" tabindex="-1"></a>xp <span class="ot">&lt;-</span> <span class="fu">xgbpar</span>(r, xs, y, params, nrounds)</span>
<span id="cb136-5"><a href="speeds.html#cb136-5" tabindex="-1"></a></span>
<span id="cb136-6"><a href="speeds.html#cb136-6" tabindex="-1"></a><span class="co"># Extract execution times</span></span>
<span id="cb136-7"><a href="speeds.html#cb136-7" tabindex="-1"></a>t1ssf <span class="ot">&lt;-</span> x1<span class="sc">$</span>time_taken</span>
<span id="cb136-8"><a href="speeds.html#cb136-8" tabindex="-1"></a>t2ssf <span class="ot">&lt;-</span> x2<span class="sc">$</span>time_taken</span>
<span id="cb136-9"><a href="speeds.html#cb136-9" tabindex="-1"></a>tpssf <span class="ot">&lt;-</span> xp<span class="sc">$</span>time_taken</span></code></pre></div>
</div>
</div>
<div id="rows-1" class="section level2 hasAnchor" number="6.4">
<h2><span class="header-section-number">6.4</span> 500,000 rows<a href="speeds.html#rows-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="with-a-normal-matrix-1" class="section level3 hasAnchor" number="6.4.1">
<h3><span class="header-section-number">6.4.1</span> With a normal Matrix<a href="speeds.html#with-a-normal-matrix-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="speeds.html#cb137-1" tabindex="-1"></a>xs <span class="ot">&lt;-</span> <span class="fu">model.matrix</span>(<span class="sc">~</span> . <span class="sc">-</span><span class="dv">1</span> <span class="sc">-</span> y, <span class="at">data =</span> dfb)</span>
<span id="cb137-2"><a href="speeds.html#cb137-2" tabindex="-1"></a>y <span class="ot">&lt;-</span> dfb<span class="sc">$</span>y</span></code></pre></div>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="speeds.html#cb138-1" tabindex="-1"></a>params <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb138-2"><a href="speeds.html#cb138-2" tabindex="-1"></a>  <span class="at">booster =</span> <span class="st">&quot;gbtree&quot;</span>,</span>
<span id="cb138-3"><a href="speeds.html#cb138-3" tabindex="-1"></a>  <span class="at">objective =</span> <span class="st">&quot;binary:logistic&quot;</span>,</span>
<span id="cb138-4"><a href="speeds.html#cb138-4" tabindex="-1"></a>  <span class="at">eta =</span> <span class="fl">0.1</span>,</span>
<span id="cb138-5"><a href="speeds.html#cb138-5" tabindex="-1"></a>  <span class="at">gamma =</span> <span class="dv">0</span>,</span>
<span id="cb138-6"><a href="speeds.html#cb138-6" tabindex="-1"></a>  <span class="at">max_depth =</span> <span class="dv">6</span>,</span>
<span id="cb138-7"><a href="speeds.html#cb138-7" tabindex="-1"></a>  <span class="at">min_child_weight =</span> <span class="dv">1</span>,</span>
<span id="cb138-8"><a href="speeds.html#cb138-8" tabindex="-1"></a>  <span class="at">subsample =</span> <span class="dv">1</span>,</span>
<span id="cb138-9"><a href="speeds.html#cb138-9" tabindex="-1"></a>  <span class="at">colsample_bytree =</span> <span class="dv">1</span>,</span>
<span id="cb138-10"><a href="speeds.html#cb138-10" tabindex="-1"></a>  <span class="at">lambda =</span> <span class="dv">1</span>,</span>
<span id="cb138-11"><a href="speeds.html#cb138-11" tabindex="-1"></a>  <span class="at">alpha =</span> <span class="dv">0</span></span>
<span id="cb138-12"><a href="speeds.html#cb138-12" tabindex="-1"></a>)</span>
<span id="cb138-13"><a href="speeds.html#cb138-13" tabindex="-1"></a>nrounds <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb138-14"><a href="speeds.html#cb138-14" tabindex="-1"></a>r <span class="ot">&lt;-</span> <span class="fu">detectCores</span>() <span class="sc">-</span> <span class="dv">1</span></span></code></pre></div>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="speeds.html#cb139-1" tabindex="-1"></a><span class="co"># Execute the functions</span></span>
<span id="cb139-2"><a href="speeds.html#cb139-2" tabindex="-1"></a>x1 <span class="ot">&lt;-</span> <span class="fu">xgb1</span>(r, xs, y, params, nrounds)</span>
<span id="cb139-3"><a href="speeds.html#cb139-3" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> <span class="fu">xgb2</span>(r, xs, y, params, nrounds)</span>
<span id="cb139-4"><a href="speeds.html#cb139-4" tabindex="-1"></a>xp <span class="ot">&lt;-</span> <span class="fu">xgbpar</span>(r, xs, y, params, nrounds)</span>
<span id="cb139-5"><a href="speeds.html#cb139-5" tabindex="-1"></a></span>
<span id="cb139-6"><a href="speeds.html#cb139-6" tabindex="-1"></a><span class="co"># Extract execution times</span></span>
<span id="cb139-7"><a href="speeds.html#cb139-7" tabindex="-1"></a>t150 <span class="ot">&lt;-</span> x1<span class="sc">$</span>time_taken</span>
<span id="cb139-8"><a href="speeds.html#cb139-8" tabindex="-1"></a>t250 <span class="ot">&lt;-</span> x2<span class="sc">$</span>time_taken</span>
<span id="cb139-9"><a href="speeds.html#cb139-9" tabindex="-1"></a>tp50 <span class="ot">&lt;-</span> xp<span class="sc">$</span>time_taken</span></code></pre></div>
</div>
<div id="with-a-sparse-matrix-1" class="section level3 hasAnchor" number="6.4.2">
<h3><span class="header-section-number">6.4.2</span> With a sparse matrix<a href="speeds.html#with-a-sparse-matrix-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For a sparse matrix. The data must be one hot coded then turned into a dataframe. Then turned into a sparse matrix.</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="speeds.html#cb140-1" tabindex="-1"></a>y <span class="ot">&lt;-</span> dfb<span class="sc">$</span>y</span>
<span id="cb140-2"><a href="speeds.html#cb140-2" tabindex="-1"></a></span>
<span id="cb140-3"><a href="speeds.html#cb140-3" tabindex="-1"></a>xs <span class="ot">&lt;-</span> <span class="fu">model.matrix</span>(<span class="sc">~</span> . <span class="sc">-</span><span class="dv">1</span> <span class="sc">-</span> y, <span class="at">data =</span> dfb)</span>
<span id="cb140-4"><a href="speeds.html#cb140-4" tabindex="-1"></a>xs <span class="ot">&lt;-</span> <span class="fu">sparse.model.matrix</span>(<span class="sc">~</span> ., <span class="at">data =</span> <span class="fu">as.data.frame</span>(xs))</span></code></pre></div>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="speeds.html#cb141-1" tabindex="-1"></a>params <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb141-2"><a href="speeds.html#cb141-2" tabindex="-1"></a>  <span class="at">booster =</span> <span class="st">&quot;gbtree&quot;</span>,</span>
<span id="cb141-3"><a href="speeds.html#cb141-3" tabindex="-1"></a>  <span class="at">objective =</span> <span class="st">&quot;binary:logistic&quot;</span>,</span>
<span id="cb141-4"><a href="speeds.html#cb141-4" tabindex="-1"></a>  <span class="at">eta =</span> <span class="fl">0.1</span>,</span>
<span id="cb141-5"><a href="speeds.html#cb141-5" tabindex="-1"></a>  <span class="at">gamma =</span> <span class="dv">0</span>,</span>
<span id="cb141-6"><a href="speeds.html#cb141-6" tabindex="-1"></a>  <span class="at">max_depth =</span> <span class="dv">6</span>,</span>
<span id="cb141-7"><a href="speeds.html#cb141-7" tabindex="-1"></a>  <span class="at">min_child_weight =</span> <span class="dv">1</span>,</span>
<span id="cb141-8"><a href="speeds.html#cb141-8" tabindex="-1"></a>  <span class="at">subsample =</span> <span class="dv">1</span>,</span>
<span id="cb141-9"><a href="speeds.html#cb141-9" tabindex="-1"></a>  <span class="at">colsample_bytree =</span> <span class="dv">1</span>,</span>
<span id="cb141-10"><a href="speeds.html#cb141-10" tabindex="-1"></a>  <span class="at">lambda =</span> <span class="dv">1</span>,</span>
<span id="cb141-11"><a href="speeds.html#cb141-11" tabindex="-1"></a>  <span class="at">alpha =</span> <span class="dv">0</span></span>
<span id="cb141-12"><a href="speeds.html#cb141-12" tabindex="-1"></a>)</span>
<span id="cb141-13"><a href="speeds.html#cb141-13" tabindex="-1"></a>nrounds <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb141-14"><a href="speeds.html#cb141-14" tabindex="-1"></a>r <span class="ot">&lt;-</span> <span class="fu">detectCores</span>() <span class="sc">-</span> <span class="dv">1</span></span></code></pre></div>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="speeds.html#cb142-1" tabindex="-1"></a><span class="co"># Execute the functions</span></span>
<span id="cb142-2"><a href="speeds.html#cb142-2" tabindex="-1"></a>x1 <span class="ot">&lt;-</span> <span class="fu">xgb1</span>(r, xs, y, params, nrounds)</span>
<span id="cb142-3"><a href="speeds.html#cb142-3" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> <span class="fu">xgb2</span>(r, xs, y, params, nrounds)</span>
<span id="cb142-4"><a href="speeds.html#cb142-4" tabindex="-1"></a>xp <span class="ot">&lt;-</span> <span class="fu">xgbpar</span>(r, xs, y, params, nrounds)</span>
<span id="cb142-5"><a href="speeds.html#cb142-5" tabindex="-1"></a></span>
<span id="cb142-6"><a href="speeds.html#cb142-6" tabindex="-1"></a><span class="co"># Extract execution times</span></span>
<span id="cb142-7"><a href="speeds.html#cb142-7" tabindex="-1"></a>t1s50 <span class="ot">&lt;-</span> x1<span class="sc">$</span>time_taken</span>
<span id="cb142-8"><a href="speeds.html#cb142-8" tabindex="-1"></a>t2s50 <span class="ot">&lt;-</span> x2<span class="sc">$</span>time_taken</span>
<span id="cb142-9"><a href="speeds.html#cb142-9" tabindex="-1"></a>tps50 <span class="ot">&lt;-</span> xp<span class="sc">$</span>time_taken</span></code></pre></div>
</div>
</div>
<div id="presentations" class="section level2 hasAnchor" number="6.5">
<h2><span class="header-section-number">6.5</span> Presentations<a href="speeds.html#presentations" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Print them out</p>
<p>nrounds is 100 for all</p>
<p>10ks</p>
<p>matrix</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="speeds.html#cb143-1" tabindex="-1"></a>t1sf </span></code></pre></div>
<pre><code>## [1] 2.435772</code></pre>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="speeds.html#cb145-1" tabindex="-1"></a>t2sf</span></code></pre></div>
<pre><code>## [1] 4.363386</code></pre>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="speeds.html#cb147-1" tabindex="-1"></a>tpsf</span></code></pre></div>
<pre><code>## [1] 4.455129</code></pre>
<p>sparse</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="speeds.html#cb149-1" tabindex="-1"></a>t1ssf </span></code></pre></div>
<pre><code>## [1] 1.903891</code></pre>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="speeds.html#cb151-1" tabindex="-1"></a>t2ssf</span></code></pre></div>
<pre><code>## [1] 4.151235</code></pre>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="speeds.html#cb153-1" tabindex="-1"></a>tpssf</span></code></pre></div>
<pre><code>## [1] 4.104647</code></pre>
<p>500ks</p>
<p>matrix</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="speeds.html#cb155-1" tabindex="-1"></a>t150 </span></code></pre></div>
<pre><code>## [1] 1104.106</code></pre>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="speeds.html#cb157-1" tabindex="-1"></a>t250 </span></code></pre></div>
<pre><code>## [1] 378.959</code></pre>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="speeds.html#cb159-1" tabindex="-1"></a>tp50</span></code></pre></div>
<pre><code>## [1] 707.4114</code></pre>
<p>sparse</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="speeds.html#cb161-1" tabindex="-1"></a>t1s50 </span></code></pre></div>
<pre><code>## [1] 754.743</code></pre>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="speeds.html#cb163-1" tabindex="-1"></a>t2s50 </span></code></pre></div>
<pre><code>## [1] 274.7935</code></pre>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="speeds.html#cb165-1" tabindex="-1"></a>tps50 </span></code></pre></div>
<pre><code>## [1] 545.2745</code></pre>
</div>
<div id="analysis" class="section level2 hasAnchor" number="6.6">
<h2><span class="header-section-number">6.6</span> Analysis<a href="speeds.html#analysis" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="graphs" class="section level3 hasAnchor" number="6.6.1">
<h3><span class="header-section-number">6.6.1</span> Graphs<a href="speeds.html#graphs" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="speeds.html#cb167-1" tabindex="-1"></a><span class="co"># Data preparation</span></span>
<span id="cb167-2"><a href="speeds.html#cb167-2" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb167-3"><a href="speeds.html#cb167-3" tabindex="-1"></a>  <span class="at">dataset_size =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&quot;10k&quot;</span>, <span class="dv">6</span>), <span class="fu">rep</span>(<span class="st">&quot;500k&quot;</span>, <span class="dv">6</span>)),</span>
<span id="cb167-4"><a href="speeds.html#cb167-4" tabindex="-1"></a>  <span class="at">matrix_type =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;Normal&quot;</span>, <span class="st">&quot;Sparse&quot;</span>), <span class="at">each =</span> <span class="dv">3</span>, <span class="at">times =</span> <span class="dv">2</span>),</span>
<span id="cb167-5"><a href="speeds.html#cb167-5" tabindex="-1"></a>  <span class="at">method =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;No PP&quot;</span>, <span class="st">&quot;XGBoost PP&quot;</span>, <span class="st">&quot;Own PP&quot;</span>), <span class="at">times =</span> <span class="dv">4</span>),</span>
<span id="cb167-6"><a href="speeds.html#cb167-6" tabindex="-1"></a>  <span class="at">execution_time =</span> <span class="fu">c</span>(t1sf, t2sf, tpsf, t1ssf, t2ssf, tpssf,</span>
<span id="cb167-7"><a href="speeds.html#cb167-7" tabindex="-1"></a>                     t150, t250, tp50, t1s50, t2s50, tps50)</span>
<span id="cb167-8"><a href="speeds.html#cb167-8" tabindex="-1"></a>)</span>
<span id="cb167-9"><a href="speeds.html#cb167-9" tabindex="-1"></a></span>
<span id="cb167-10"><a href="speeds.html#cb167-10" tabindex="-1"></a></span>
<span id="cb167-11"><a href="speeds.html#cb167-11" tabindex="-1"></a><span class="co"># Graph for comparing methods on 10k rows dataset</span></span>
<span id="cb167-12"><a href="speeds.html#cb167-12" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">subset</span>(results, dataset_size <span class="sc">==</span> <span class="st">&quot;10k&quot;</span>), <span class="fu">aes</span>(<span class="at">x =</span> method, <span class="at">y =</span> execution_time, <span class="at">fill =</span> matrix_type)) <span class="sc">+</span></span>
<span id="cb167-13"><a href="speeds.html#cb167-13" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb167-14"><a href="speeds.html#cb167-14" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Execution Time Comparison for 10k Rows Dataset&quot;</span>,</span>
<span id="cb167-15"><a href="speeds.html#cb167-15" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Method&quot;</span>,</span>
<span id="cb167-16"><a href="speeds.html#cb167-16" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Execution Time (seconds)&quot;</span>,</span>
<span id="cb167-17"><a href="speeds.html#cb167-17" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">&quot;Matrix Type&quot;</span>) <span class="sc">+</span></span>
<span id="cb167-18"><a href="speeds.html#cb167-18" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb167-19"><a href="speeds.html#cb167-19" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-92-1.png" width="672" /></p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="speeds.html#cb168-1" tabindex="-1"></a><span class="co"># Graph for comparing methods on 500k rows dataset</span></span>
<span id="cb168-2"><a href="speeds.html#cb168-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">subset</span>(results, dataset_size <span class="sc">==</span> <span class="st">&quot;500k&quot;</span>), <span class="fu">aes</span>(<span class="at">x =</span> method, <span class="at">y =</span> execution_time, <span class="at">fill =</span> matrix_type)) <span class="sc">+</span></span>
<span id="cb168-3"><a href="speeds.html#cb168-3" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb168-4"><a href="speeds.html#cb168-4" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Execution Time Comparison for 500k Rows Dataset&quot;</span>,</span>
<span id="cb168-5"><a href="speeds.html#cb168-5" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Method&quot;</span>,</span>
<span id="cb168-6"><a href="speeds.html#cb168-6" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Execution Time (seconds)&quot;</span>,</span>
<span id="cb168-7"><a href="speeds.html#cb168-7" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">&quot;Matrix Type&quot;</span>) <span class="sc">+</span></span>
<span id="cb168-8"><a href="speeds.html#cb168-8" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb168-9"><a href="speeds.html#cb168-9" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-92-2.png" width="672" /></p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="speeds.html#cb169-1" tabindex="-1"></a><span class="co"># Update the results data frame to include execution time per row</span></span>
<span id="cb169-2"><a href="speeds.html#cb169-2" tabindex="-1"></a>results<span class="sc">$</span>execution_time_per_row <span class="ot">&lt;-</span> <span class="fu">with</span>(results, execution_time <span class="sc">/</span> <span class="fu">ifelse</span>(dataset_size <span class="sc">==</span> <span class="st">&quot;10k&quot;</span>, <span class="dv">10000</span>, <span class="dv">500000</span>))</span>
<span id="cb169-3"><a href="speeds.html#cb169-3" tabindex="-1"></a></span>
<span id="cb169-4"><a href="speeds.html#cb169-4" tabindex="-1"></a><span class="co"># Re-define the plotting function to use execution_time_per_row</span></span>
<span id="cb169-5"><a href="speeds.html#cb169-5" tabindex="-1"></a>plot_dataset_size_effect_per_row <span class="ot">&lt;-</span> <span class="cf">function</span>(data, method_name) {</span>
<span id="cb169-6"><a href="speeds.html#cb169-6" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">subset</span>(data, method <span class="sc">==</span> method_name), <span class="fu">aes</span>(<span class="at">x =</span> dataset_size, <span class="at">y =</span> execution_time_per_row, <span class="at">fill =</span> dataset_size)) <span class="sc">+</span></span>
<span id="cb169-7"><a href="speeds.html#cb169-7" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb169-8"><a href="speeds.html#cb169-8" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste</span>(<span class="st">&quot;Effect of Dataset Size on&quot;</span>, method_name, <span class="st">&quot;Execution Time Per Row&quot;</span>),</span>
<span id="cb169-9"><a href="speeds.html#cb169-9" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">&quot;Dataset Size&quot;</span>,</span>
<span id="cb169-10"><a href="speeds.html#cb169-10" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">&quot;Execution Time Per Row (seconds)&quot;</span>,</span>
<span id="cb169-11"><a href="speeds.html#cb169-11" tabindex="-1"></a>         <span class="at">fill =</span> <span class="st">&quot;Dataset Size&quot;</span>) <span class="sc">+</span></span>
<span id="cb169-12"><a href="speeds.html#cb169-12" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb169-13"><a href="speeds.html#cb169-13" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb169-14"><a href="speeds.html#cb169-14" tabindex="-1"></a>}</span>
<span id="cb169-15"><a href="speeds.html#cb169-15" tabindex="-1"></a></span>
<span id="cb169-16"><a href="speeds.html#cb169-16" tabindex="-1"></a><span class="co"># Separate results for normal and sparse matrices</span></span>
<span id="cb169-17"><a href="speeds.html#cb169-17" tabindex="-1"></a>normal_results_per_row <span class="ot">&lt;-</span> <span class="fu">subset</span>(results, matrix_type <span class="sc">==</span> <span class="st">&quot;Normal&quot;</span>)</span>
<span id="cb169-18"><a href="speeds.html#cb169-18" tabindex="-1"></a>sparse_results_per_row <span class="ot">&lt;-</span> <span class="fu">subset</span>(results, matrix_type <span class="sc">==</span> <span class="st">&quot;Sparse&quot;</span>)</span>
<span id="cb169-19"><a href="speeds.html#cb169-19" tabindex="-1"></a></span>
<span id="cb169-20"><a href="speeds.html#cb169-20" tabindex="-1"></a><span class="co"># Plotting for each method, now on a per-row basis</span></span>
<span id="cb169-21"><a href="speeds.html#cb169-21" tabindex="-1"></a><span class="fu">plot_dataset_size_effect_per_row</span>(normal_results_per_row, <span class="st">&quot;No PP&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-93-1.png" width="672" /></p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="speeds.html#cb170-1" tabindex="-1"></a><span class="fu">plot_dataset_size_effect_per_row</span>(normal_results_per_row, <span class="st">&quot;XGBoost PP&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-93-2.png" width="672" /></p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="speeds.html#cb171-1" tabindex="-1"></a><span class="fu">plot_dataset_size_effect_per_row</span>(normal_results_per_row, <span class="st">&quot;Own PP&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-93-3.png" width="672" /></p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="speeds.html#cb172-1" tabindex="-1"></a><span class="co"># Plotting for No PP, XGBoost PP, and Own PP methods for Sparse Matrix</span></span>
<span id="cb172-2"><a href="speeds.html#cb172-2" tabindex="-1"></a><span class="fu">plot_dataset_size_effect_per_row</span>(sparse_results_per_row, <span class="st">&quot;No PP&quot;</span>) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;No Parallel Processing (Sparse Matrix)&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-93-4.png" width="672" /></p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="speeds.html#cb173-1" tabindex="-1"></a><span class="fu">plot_dataset_size_effect_per_row</span>(sparse_results_per_row, <span class="st">&quot;XGBoost PP&quot;</span>) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;XGBoost Parallel Processing (Sparse Matrix)&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-93-5.png" width="672" /></p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="speeds.html#cb174-1" tabindex="-1"></a><span class="fu">plot_dataset_size_effect_per_row</span>(sparse_results_per_row, <span class="st">&quot;Own PP&quot;</span>) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;Own Parallel Processing (Sparse Matrix)&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-93-6.png" width="672" /></p>
</div>
<div id="takaways" class="section level3 hasAnchor" number="6.6.2">
<h3><span class="header-section-number">6.6.2</span> Takaways<a href="speeds.html#takaways" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>With factor collums sparse seems to be better. With numeric collums though it would be worse. XGB is better with internal processing when nrows is huge. When nrows is smaller though we should probably be using gbm anyways.</p>
<p>Also times include how many loops we are doing which is related to numcores of the machine being used if you look at our codes</p>
</div>
<div id="things-to-change" class="section level3 hasAnchor" number="6.6.3">
<h3><span class="header-section-number">6.6.3</span> Things to change<a href="speeds.html#things-to-change" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Test light gbm and gbm with these.</p>
<p>test if only numerical data kills a sparse matrix.</p>
<p>What about doparrallel with numcores set inside the xgboost funtions.</p>
<p>What about purrr or other ways of parrallel processing.</p>
<p>Do correlations in the data(the data actually being predictable have a effect).</p>
<p>Does scaling help with speed?</p>
<p>Test purrr/furrr</p>
<p>Test these vs h2o</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="imbalanced-application.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="multi-variable-classification.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/05_Speeds.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
