<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Algorithms | Machine Learning Applications</title>
  <meta name="description" content="Introduction" />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Algorithms | Machine Learning Applications" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Introduction" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Algorithms | Machine Learning Applications" />
  
  <meta name="twitter:description" content="Introduction" />
  

<meta name="author" content="Simon P. Raymond" />


<meta name="date" content="2024-02-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="binary-application.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About Myself</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#purpose"><i class="fa fa-check"></i><b>1.1</b> Purpose</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#notes-for-public"><i class="fa fa-check"></i><b>1.2</b> Notes for public</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#work-in-progress"><i class="fa fa-check"></i><b>1.3</b> Work in progress</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="algorithms.html"><a href="algorithms.html"><i class="fa fa-check"></i><b>2</b> Algorithms</a>
<ul>
<li class="chapter" data-level="2.1" data-path="algorithms.html"><a href="algorithms.html#data"><i class="fa fa-check"></i><b>2.1</b> Data</a></li>
<li class="chapter" data-level="2.2" data-path="algorithms.html"><a href="algorithms.html#parametric"><i class="fa fa-check"></i><b>2.2</b> Parametric</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="algorithms.html"><a href="algorithms.html#lm"><i class="fa fa-check"></i><b>2.2.1</b> LM</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="algorithms.html"><a href="algorithms.html#trees"><i class="fa fa-check"></i><b>2.3</b> Trees</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="algorithms.html"><a href="algorithms.html#cart"><i class="fa fa-check"></i><b>2.3.1</b> CART</a></li>
<li class="chapter" data-level="2.3.2" data-path="algorithms.html"><a href="algorithms.html#bagging"><i class="fa fa-check"></i><b>2.3.2</b> Bagging</a></li>
<li class="chapter" data-level="2.3.3" data-path="algorithms.html"><a href="algorithms.html#rf"><i class="fa fa-check"></i><b>2.3.3</b> RF</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="algorithms.html"><a href="algorithms.html#boosting"><i class="fa fa-check"></i><b>2.4</b> Boosting</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="algorithms.html"><a href="algorithms.html#adaboost"><i class="fa fa-check"></i><b>2.4.1</b> Adaboost</a></li>
<li class="chapter" data-level="2.4.2" data-path="algorithms.html"><a href="algorithms.html#gbm-boost"><i class="fa fa-check"></i><b>2.4.2</b> GBM boost</a></li>
<li class="chapter" data-level="2.4.3" data-path="algorithms.html"><a href="algorithms.html#xgboost"><i class="fa fa-check"></i><b>2.4.3</b> XGBoost</a></li>
<li class="chapter" data-level="2.4.4" data-path="algorithms.html"><a href="algorithms.html#light-gbm-boost"><i class="fa fa-check"></i><b>2.4.4</b> Light GBM boost</a></li>
<li class="chapter" data-level="2.4.5" data-path="algorithms.html"><a href="algorithms.html#catboost"><i class="fa fa-check"></i><b>2.4.5</b> Catboost</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="algorithms.html"><a href="algorithms.html#other-non-parametric"><i class="fa fa-check"></i><b>2.5</b> Other Non-parametric</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="algorithms.html"><a href="algorithms.html#nueralnet"><i class="fa fa-check"></i><b>2.5.1</b> Nueralnet</a></li>
<li class="chapter" data-level="2.5.2" data-path="algorithms.html"><a href="algorithms.html#svm"><i class="fa fa-check"></i><b>2.5.2</b> SVM</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="binary-application.html"><a href="binary-application.html"><i class="fa fa-check"></i><b>3</b> Binary Application</a>
<ul>
<li class="chapter" data-level="3.1" data-path="binary-application.html"><a href="binary-application.html#data-1"><i class="fa fa-check"></i><b>3.1</b> Data</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="binary-application.html"><a href="binary-application.html#data-prep"><i class="fa fa-check"></i><b>3.1.1</b> Data Prep</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="binary-application.html"><a href="binary-application.html#model-selection"><i class="fa fa-check"></i><b>3.2</b> Model Selection</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="binary-application.html"><a href="binary-application.html#functions"><i class="fa fa-check"></i><b>3.2.1</b> Functions</a></li>
<li class="chapter" data-level="3.2.2" data-path="binary-application.html"><a href="binary-application.html#xgb"><i class="fa fa-check"></i><b>3.2.2</b> XGB</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="binary-application.html"><a href="binary-application.html#comparisions"><i class="fa fa-check"></i><b>3.3</b> Comparisions</a></li>
<li class="chapter" data-level="3.4" data-path="binary-application.html"><a href="binary-application.html#statistic-selection"><i class="fa fa-check"></i><b>3.4</b> Statistic selection</a></li>
<li class="chapter" data-level="3.5" data-path="binary-application.html"><a href="binary-application.html#confusion-table-and-roc"><i class="fa fa-check"></i><b>3.5</b> Confusion table and ROC</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="regressional-application.html"><a href="regressional-application.html"><i class="fa fa-check"></i><b>4</b> Regressional Application</a>
<ul>
<li class="chapter" data-level="4.1" data-path="regressional-application.html"><a href="regressional-application.html#data-2"><i class="fa fa-check"></i><b>4.1</b> Data</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="regressional-application.html"><a href="regressional-application.html#data-prep-1"><i class="fa fa-check"></i><b>4.1.1</b> Data Prep</a></li>
<li class="chapter" data-level="4.1.2" data-path="regressional-application.html"><a href="regressional-application.html#data-explorations"><i class="fa fa-check"></i><b>4.1.2</b> Data Explorations</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="regressional-application.html"><a href="regressional-application.html#model-selection-1"><i class="fa fa-check"></i><b>4.2</b> Model Selection</a></li>
<li class="chapter" data-level="4.3" data-path="regressional-application.html"><a href="regressional-application.html#statistic-selection-1"><i class="fa fa-check"></i><b>4.3</b> Statistic selection</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="imbalanced-application.html"><a href="imbalanced-application.html"><i class="fa fa-check"></i><b>5</b> Imbalanced Application</a>
<ul>
<li class="chapter" data-level="5.1" data-path="imbalanced-application.html"><a href="imbalanced-application.html#data-3"><i class="fa fa-check"></i><b>5.1</b> Data</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="imbalanced-application.html"><a href="imbalanced-application.html#data-prep-2"><i class="fa fa-check"></i><b>5.1.1</b> Data Prep</a></li>
<li class="chapter" data-level="5.1.2" data-path="imbalanced-application.html"><a href="imbalanced-application.html#data-explorations-1"><i class="fa fa-check"></i><b>5.1.2</b> Data Explorations</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="imbalanced-application.html"><a href="imbalanced-application.html#model-selection-2"><i class="fa fa-check"></i><b>5.2</b> Model Selection</a></li>
<li class="chapter" data-level="5.3" data-path="imbalanced-application.html"><a href="imbalanced-application.html#statistic-selection-2"><i class="fa fa-check"></i><b>5.3</b> Statistic selection</a></li>
<li class="chapter" data-level="5.4" data-path="imbalanced-application.html"><a href="imbalanced-application.html#data-4"><i class="fa fa-check"></i><b>5.4</b> Data</a></li>
<li class="chapter" data-level="5.5" data-path="imbalanced-application.html"><a href="imbalanced-application.html#approaches"><i class="fa fa-check"></i><b>5.5</b> Approaches</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="imbalanced-application.html"><a href="imbalanced-application.html#no-changes"><i class="fa fa-check"></i><b>5.5.1</b> No changes</a></li>
<li class="chapter" data-level="5.5.2" data-path="imbalanced-application.html"><a href="imbalanced-application.html#undersample"><i class="fa fa-check"></i><b>5.5.2</b> Undersample</a></li>
<li class="chapter" data-level="5.5.3" data-path="imbalanced-application.html"><a href="imbalanced-application.html#oversampling"><i class="fa fa-check"></i><b>5.5.3</b> Oversampling</a></li>
<li class="chapter" data-level="5.5.4" data-path="imbalanced-application.html"><a href="imbalanced-application.html#smoteing"><i class="fa fa-check"></i><b>5.5.4</b> Smoteing</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="imbalanced-application.html"><a href="imbalanced-application.html#statistic-selection-3"><i class="fa fa-check"></i><b>5.6</b> Statistic selection</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="speeds.html"><a href="speeds.html"><i class="fa fa-check"></i><b>6</b> Speeds</a>
<ul>
<li class="chapter" data-level="6.1" data-path="speeds.html"><a href="speeds.html#functions-to-run-the-tests"><i class="fa fa-check"></i><b>6.1</b> Functions to run the tests</a></li>
<li class="chapter" data-level="6.2" data-path="speeds.html"><a href="speeds.html#rows"><i class="fa fa-check"></i><b>6.2</b> 10,000 rows</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="speeds.html"><a href="speeds.html#with-a-normal-matrix"><i class="fa fa-check"></i><b>6.2.1</b> With a normal Matrix</a></li>
<li class="chapter" data-level="6.2.2" data-path="speeds.html"><a href="speeds.html#with-a-sparse-matrix"><i class="fa fa-check"></i><b>6.2.2</b> With a sparse matrix</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="speeds.html"><a href="speeds.html#rows-1"><i class="fa fa-check"></i><b>6.3</b> 100,000 rows</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="speeds.html"><a href="speeds.html#with-a-normal-matrix-1"><i class="fa fa-check"></i><b>6.3.1</b> With a normal Matrix</a></li>
<li class="chapter" data-level="6.3.2" data-path="speeds.html"><a href="speeds.html#with-a-sparse-matrix-1"><i class="fa fa-check"></i><b>6.3.2</b> With a sparse matrix</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="speeds.html"><a href="speeds.html#rows-2"><i class="fa fa-check"></i><b>6.4</b> 500,000 rows</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="speeds.html"><a href="speeds.html#with-a-normal-matrix-2"><i class="fa fa-check"></i><b>6.4.1</b> With a normal Matrix</a></li>
<li class="chapter" data-level="6.4.2" data-path="speeds.html"><a href="speeds.html#with-a-sparse-matrix-2"><i class="fa fa-check"></i><b>6.4.2</b> With a sparse matrix</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="speeds.html"><a href="speeds.html#presentations"><i class="fa fa-check"></i><b>6.5</b> Presentations</a></li>
<li class="chapter" data-level="6.6" data-path="speeds.html"><a href="speeds.html#analysis"><i class="fa fa-check"></i><b>6.6</b> Analysis</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="speeds.html"><a href="speeds.html#graphs"><i class="fa fa-check"></i><b>6.6.1</b> Graphs</a></li>
<li class="chapter" data-level="6.6.2" data-path="speeds.html"><a href="speeds.html#takaways"><i class="fa fa-check"></i><b>6.6.2</b> Takaways</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="notes-for-myself.html"><a href="notes-for-myself.html"><i class="fa fa-check"></i><b>7</b> Notes for myself</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Machine Learning Applications</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="algorithms" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Chapter 2</span> Algorithms<a href="algorithms.html#algorithms" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>These all will be done in classification but can easily be changed and you can look at the regressional examples</p>
<div id="data" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Data<a href="algorithms.html#data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="algorithms.html#cb1-1" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(dplyr))</span>
<span id="cb1-2"><a href="algorithms.html#cb1-2" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(ROCR))</span>
<span id="cb1-3"><a href="algorithms.html#cb1-3" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(rpart))</span>
<span id="cb1-4"><a href="algorithms.html#cb1-4" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(randomForest))</span>
<span id="cb1-5"><a href="algorithms.html#cb1-5" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(xgboost))</span>
<span id="cb1-6"><a href="algorithms.html#cb1-6" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(doParallel))</span>
<span id="cb1-7"><a href="algorithms.html#cb1-7" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(gbm))</span>
<span id="cb1-8"><a href="algorithms.html#cb1-8" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(ada))</span></code></pre></div>
<p>Im not gonna put alot of emphasis on the data in this section</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="algorithms.html#cb2-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>) <span class="co"># Ensure reproducibility</span></span>
<span id="cb2-2"><a href="algorithms.html#cb2-2" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">5000</span></span>
<span id="cb2-3"><a href="algorithms.html#cb2-3" tabindex="-1"></a></span>
<span id="cb2-4"><a href="algorithms.html#cb2-4" tabindex="-1"></a><span class="co"># Numeric Features</span></span>
<span id="cb2-5"><a href="algorithms.html#cb2-5" tabindex="-1"></a>x1 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>, n)</span>
<span id="cb2-6"><a href="algorithms.html#cb2-6" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">20</span>, n, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-7"><a href="algorithms.html#cb2-7" tabindex="-1"></a>x3 <span class="ot">&lt;-</span> <span class="fu">rbinom</span>(n, <span class="dv">1</span>, <span class="fl">0.5</span>)</span>
<span id="cb2-8"><a href="algorithms.html#cb2-8" tabindex="-1"></a>x4 <span class="ot">&lt;-</span> x2 <span class="sc">*</span> x3</span>
<span id="cb2-9"><a href="algorithms.html#cb2-9" tabindex="-1"></a>x5 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="fl">5.2</span>, <span class="at">sd =</span> <span class="fl">1.25</span>)</span>
<span id="cb2-10"><a href="algorithms.html#cb2-10" tabindex="-1"></a>x6 <span class="ot">&lt;-</span> <span class="fu">runif</span>(n, <span class="dv">0</span>, <span class="dv">100</span>)</span>
<span id="cb2-11"><a href="algorithms.html#cb2-11" tabindex="-1"></a>x7 <span class="ot">&lt;-</span> <span class="fu">rpois</span>(n, <span class="at">lambda =</span> <span class="dv">3</span>)</span>
<span id="cb2-12"><a href="algorithms.html#cb2-12" tabindex="-1"></a>x8 <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">5</span>, n, <span class="at">replace =</span> <span class="cn">TRUE</span>) <span class="co"># Will be converted to factor later</span></span>
<span id="cb2-13"><a href="algorithms.html#cb2-13" tabindex="-1"></a></span>
<span id="cb2-14"><a href="algorithms.html#cb2-14" tabindex="-1"></a><span class="co"># Factor Features (simulated by numeric but will be converted)</span></span>
<span id="cb2-15"><a href="algorithms.html#cb2-15" tabindex="-1"></a>x9 <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>), n, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-16"><a href="algorithms.html#cb2-16" tabindex="-1"></a>x10 <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>), n, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-17"><a href="algorithms.html#cb2-17" tabindex="-1"></a></span>
<span id="cb2-18"><a href="algorithms.html#cb2-18" tabindex="-1"></a><span class="co"># Convert to factors</span></span>
<span id="cb2-19"><a href="algorithms.html#cb2-19" tabindex="-1"></a>x8 <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(x8)</span>
<span id="cb2-20"><a href="algorithms.html#cb2-20" tabindex="-1"></a>x9 <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(x9)</span>
<span id="cb2-21"><a href="algorithms.html#cb2-21" tabindex="-1"></a>x10 <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(x10)</span>
<span id="cb2-22"><a href="algorithms.html#cb2-22" tabindex="-1"></a></span>
<span id="cb2-23"><a href="algorithms.html#cb2-23" tabindex="-1"></a><span class="co"># Coefficients</span></span>
<span id="cb2-24"><a href="algorithms.html#cb2-24" tabindex="-1"></a>beta <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.5</span>, <span class="fl">0.25</span>, <span class="sc">-</span><span class="fl">0.75</span>, <span class="fl">0.5</span>, <span class="dv">2</span>, <span class="fl">0.05</span>, <span class="sc">-</span><span class="fl">0.03</span>, <span class="fl">0.5</span>) <span class="co"># For numeric predictors</span></span>
<span id="cb2-25"><a href="algorithms.html#cb2-25" tabindex="-1"></a></span>
<span id="cb2-26"><a href="algorithms.html#cb2-26" tabindex="-1"></a><span class="co"># Linear combination, simplifying interaction and effects for demonstration</span></span>
<span id="cb2-27"><a href="algorithms.html#cb2-27" tabindex="-1"></a>lin_comb <span class="ot">&lt;-</span> beta[<span class="dv">1</span>]<span class="sc">*</span>x1 <span class="sc">+</span> beta[<span class="dv">2</span>]<span class="sc">*</span>x2 <span class="sc">+</span> beta[<span class="dv">3</span>]<span class="sc">*</span>x3 <span class="sc">+</span> beta[<span class="dv">4</span>]<span class="sc">*</span>x4 <span class="sc">+</span> beta[<span class="dv">5</span>]<span class="sc">*</span>x5 <span class="sc">+</span></span>
<span id="cb2-28"><a href="algorithms.html#cb2-28" tabindex="-1"></a>            beta[<span class="dv">6</span>]<span class="sc">*</span>x6 <span class="sc">+</span> beta[<span class="dv">7</span>]<span class="sc">*</span>x7 <span class="sc">+</span> <span class="fu">as.numeric</span>(x8)<span class="sc">*</span>beta[<span class="dv">8</span>]</span>
<span id="cb2-29"><a href="algorithms.html#cb2-29" tabindex="-1"></a></span>
<span id="cb2-30"><a href="algorithms.html#cb2-30" tabindex="-1"></a><span class="co"># Error term</span></span>
<span id="cb2-31"><a href="algorithms.html#cb2-31" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n)<span class="sc">*</span><span class="dv">6</span></span>
<span id="cb2-32"><a href="algorithms.html#cb2-32" tabindex="-1"></a></span>
<span id="cb2-33"><a href="algorithms.html#cb2-33" tabindex="-1"></a><span class="co"># Generating binary outcome based on the median of the linear combination</span></span>
<span id="cb2-34"><a href="algorithms.html#cb2-34" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(lin_comb <span class="sc">+</span> ui <span class="sc">&gt;</span> <span class="fu">median</span>(lin_comb <span class="sc">+</span> ui), <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb2-35"><a href="algorithms.html#cb2-35" tabindex="-1"></a></span>
<span id="cb2-36"><a href="algorithms.html#cb2-36" tabindex="-1"></a><span class="co"># Data frame with numeric and factor variables</span></span>
<span id="cb2-37"><a href="algorithms.html#cb2-37" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">y =</span> y, x1, x2, x3, x4, x5, x6, x7, x8, x9, x10)</span>
<span id="cb2-38"><a href="algorithms.html#cb2-38" tabindex="-1"></a></span>
<span id="cb2-39"><a href="algorithms.html#cb2-39" tabindex="-1"></a></span>
<span id="cb2-40"><a href="algorithms.html#cb2-40" tabindex="-1"></a>data <span class="ot">&lt;-</span> data[,<span class="sc">-</span><span class="dv">2</span>]</span>
<span id="cb2-41"><a href="algorithms.html#cb2-41" tabindex="-1"></a>dataf <span class="ot">&lt;-</span> data</span>
<span id="cb2-42"><a href="algorithms.html#cb2-42" tabindex="-1"></a>dataf<span class="sc">$</span>y <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(dataf<span class="sc">$</span>y)</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="algorithms.html#cb3-1" tabindex="-1"></a><span class="fu">glimpse</span>(data)</span></code></pre></div>
<pre><code>## Rows: 5,000
## Columns: 10
## $ y   &lt;dbl&gt; 1, 1, 0, 0, 1, 0, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 0, 1, 1, 0, 1, 1, …
## $ x2  &lt;int&gt; 14, 18, 13, 2, 9, 17, 10, 4, 19, 13, 4, 18, 8, 2, 7, 6, 9, 8, 18, …
## $ x3  &lt;int&gt; 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, …
## $ x4  &lt;int&gt; 14, 0, 13, 2, 9, 0, 10, 4, 19, 0, 4, 0, 8, 0, 0, 6, 0, 0, 18, 3, 1…
## $ x5  &lt;dbl&gt; 7.682966, 5.219242, 4.935758, 4.428422, 4.189787, 4.640135, 6.6619…
## $ x6  &lt;dbl&gt; 86.074513, 51.395250, 23.604642, 27.935086, 41.140988, 73.218613, …
## $ x7  &lt;int&gt; 1, 0, 5, 6, 2, 4, 1, 6, 2, 4, 3, 3, 7, 3, 1, 2, 1, 5, 3, 2, 3, 2, …
## $ x8  &lt;fct&gt; 4, 3, 1, 1, 3, 3, 4, 2, 0, 0, 4, 4, 4, 1, 1, 3, 0, 4, 4, 0, 4, 5, …
## $ x9  &lt;fct&gt; C, C, C, B, C, B, A, B, A, B, A, B, A, C, A, C, B, C, A, B, B, B, …
## $ x10 &lt;fct&gt; No, Yes, Yes, No, No, Yes, Yes, Yes, Yes, Yes, No, Yes, No, Yes, N…</code></pre>
</div>
<div id="parametric" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Parametric<a href="algorithms.html#parametric" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="lm" class="section level3 hasAnchor" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> LM<a href="algorithms.html#lm" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="algorithms.html#cb5-1" tabindex="-1"></a>auc_lm <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb5-2"><a href="algorithms.html#cb5-2" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb5-3"><a href="algorithms.html#cb5-3" tabindex="-1"></a></span>
<span id="cb5-4"><a href="algorithms.html#cb5-4" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n){</span>
<span id="cb5-5"><a href="algorithms.html#cb5-5" tabindex="-1"></a>  </span>
<span id="cb5-6"><a href="algorithms.html#cb5-6" tabindex="-1"></a>    idx <span class="ot">&lt;-</span> <span class="fu">unique</span>(<span class="fu">sample</span>(<span class="fu">nrow</span>(data), <span class="at">size =</span> <span class="fu">nrow</span>(data), <span class="at">replace =</span> <span class="cn">TRUE</span>))</span>
<span id="cb5-7"><a href="algorithms.html#cb5-7" tabindex="-1"></a>  trn <span class="ot">&lt;-</span> data[idx, ]</span>
<span id="cb5-8"><a href="algorithms.html#cb5-8" tabindex="-1"></a>  tst <span class="ot">&lt;-</span> data[<span class="sc">-</span>idx, ] </span>
<span id="cb5-9"><a href="algorithms.html#cb5-9" tabindex="-1"></a>  </span>
<span id="cb5-10"><a href="algorithms.html#cb5-10" tabindex="-1"></a>  mdl <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> ., <span class="at">data =</span> trn)</span>
<span id="cb5-11"><a href="algorithms.html#cb5-11" tabindex="-1"></a>  phat <span class="ot">&lt;-</span> <span class="fu">predict</span>(mdl, tst)</span>
<span id="cb5-12"><a href="algorithms.html#cb5-12" tabindex="-1"></a>  </span>
<span id="cb5-13"><a href="algorithms.html#cb5-13" tabindex="-1"></a>  pred <span class="ot">&lt;-</span> <span class="fu">prediction</span>(phat, tst<span class="sc">$</span>y)</span>
<span id="cb5-14"><a href="algorithms.html#cb5-14" tabindex="-1"></a>  auc_lm[i] <span class="ot">&lt;-</span> <span class="fu">performance</span>(pred, <span class="st">&quot;auc&quot;</span>)<span class="sc">@</span>y.values[[<span class="dv">1</span>]]</span>
<span id="cb5-15"><a href="algorithms.html#cb5-15" tabindex="-1"></a>  </span>
<span id="cb5-16"><a href="algorithms.html#cb5-16" tabindex="-1"></a>  </span>
<span id="cb5-17"><a href="algorithms.html#cb5-17" tabindex="-1"></a>}</span>
<span id="cb5-18"><a href="algorithms.html#cb5-18" tabindex="-1"></a></span>
<span id="cb5-19"><a href="algorithms.html#cb5-19" tabindex="-1"></a>auc <span class="ot">&lt;-</span> auc_lm</span>
<span id="cb5-20"><a href="algorithms.html#cb5-20" tabindex="-1"></a></span>
<span id="cb5-21"><a href="algorithms.html#cb5-21" tabindex="-1"></a><span class="co"># Plot AUC values, mean, and confidence intervals</span></span>
<span id="cb5-22"><a href="algorithms.html#cb5-22" tabindex="-1"></a><span class="fu">plot</span>(auc, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">main =</span> <span class="st">&quot;AUC Distribution&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;Iteration&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;AUC&quot;</span>)</span>
<span id="cb5-23"><a href="algorithms.html#cb5-23" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fu">mean</span>(auc), <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">2</span>) </span>
<span id="cb5-24"><a href="algorithms.html#cb5-24" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fu">mean</span>(auc) <span class="sc">-</span> <span class="fl">1.96</span> <span class="sc">*</span> <span class="fu">sd</span>(auc), <span class="at">col =</span> <span class="st">&quot;green&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">3</span>) </span>
<span id="cb5-25"><a href="algorithms.html#cb5-25" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fu">mean</span>(auc) <span class="sc">+</span> <span class="fl">1.96</span> <span class="sc">*</span> <span class="fu">sd</span>(auc), <span class="at">col =</span> <span class="st">&quot;green&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">3</span>) </span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
</div>
</div>
<div id="trees" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Trees<a href="algorithms.html#trees" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="cart" class="section level3 hasAnchor" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> CART<a href="algorithms.html#cart" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="algorithms.html#cb6-1" tabindex="-1"></a>auc_cart <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb6-2"><a href="algorithms.html#cb6-2" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb6-3"><a href="algorithms.html#cb6-3" tabindex="-1"></a></span>
<span id="cb6-4"><a href="algorithms.html#cb6-4" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) {</span>
<span id="cb6-5"><a href="algorithms.html#cb6-5" tabindex="-1"></a>  idx <span class="ot">&lt;-</span> <span class="fu">unique</span>(<span class="fu">sample</span>(<span class="fu">nrow</span>(dataf), <span class="at">size =</span> <span class="fu">nrow</span>(dataf), <span class="at">replace =</span> <span class="cn">TRUE</span>))</span>
<span id="cb6-6"><a href="algorithms.html#cb6-6" tabindex="-1"></a>  trn <span class="ot">&lt;-</span> dataf[idx, ]</span>
<span id="cb6-7"><a href="algorithms.html#cb6-7" tabindex="-1"></a>  tst <span class="ot">&lt;-</span> dataf[<span class="sc">-</span>idx, ] </span>
<span id="cb6-8"><a href="algorithms.html#cb6-8" tabindex="-1"></a>  </span>
<span id="cb6-9"><a href="algorithms.html#cb6-9" tabindex="-1"></a>  <span class="co"># Fit a CART model</span></span>
<span id="cb6-10"><a href="algorithms.html#cb6-10" tabindex="-1"></a>  mdl <span class="ot">&lt;-</span> <span class="fu">rpart</span>(y <span class="sc">~</span> ., <span class="at">data =</span> trn, <span class="at">method =</span> <span class="st">&quot;class&quot;</span>)</span>
<span id="cb6-11"><a href="algorithms.html#cb6-11" tabindex="-1"></a>  </span>
<span id="cb6-12"><a href="algorithms.html#cb6-12" tabindex="-1"></a>  <span class="co"># Predict probabilities. Adjust if your &#39;y&#39; variable is factor with levels other than 0 and 1</span></span>
<span id="cb6-13"><a href="algorithms.html#cb6-13" tabindex="-1"></a>  phat <span class="ot">&lt;-</span> <span class="fu">predict</span>(mdl, tst, <span class="at">type =</span> <span class="st">&quot;prob&quot;</span>)[,<span class="dv">2</span>]</span>
<span id="cb6-14"><a href="algorithms.html#cb6-14" tabindex="-1"></a>  </span>
<span id="cb6-15"><a href="algorithms.html#cb6-15" tabindex="-1"></a>  <span class="co"># Calculate AUC</span></span>
<span id="cb6-16"><a href="algorithms.html#cb6-16" tabindex="-1"></a>  pred <span class="ot">&lt;-</span> <span class="fu">prediction</span>(phat, tst<span class="sc">$</span>y)</span>
<span id="cb6-17"><a href="algorithms.html#cb6-17" tabindex="-1"></a>  auc_cart[i] <span class="ot">&lt;-</span> <span class="fu">performance</span>(pred, <span class="st">&quot;auc&quot;</span>)<span class="sc">@</span>y.values[[<span class="dv">1</span>]]</span>
<span id="cb6-18"><a href="algorithms.html#cb6-18" tabindex="-1"></a>}</span>
<span id="cb6-19"><a href="algorithms.html#cb6-19" tabindex="-1"></a></span>
<span id="cb6-20"><a href="algorithms.html#cb6-20" tabindex="-1"></a>auc <span class="ot">&lt;-</span> auc_cart</span>
<span id="cb6-21"><a href="algorithms.html#cb6-21" tabindex="-1"></a></span>
<span id="cb6-22"><a href="algorithms.html#cb6-22" tabindex="-1"></a><span class="co"># Plot AUC values, mean, and confidence intervals</span></span>
<span id="cb6-23"><a href="algorithms.html#cb6-23" tabindex="-1"></a><span class="fu">plot</span>(auc, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">main =</span> <span class="st">&quot;AUC Distribution with CART&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;Iteration&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;AUC&quot;</span>)</span>
<span id="cb6-24"><a href="algorithms.html#cb6-24" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fu">mean</span>(auc), <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">2</span>) </span>
<span id="cb6-25"><a href="algorithms.html#cb6-25" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fu">mean</span>(auc) <span class="sc">-</span> <span class="fl">1.96</span> <span class="sc">*</span> <span class="fu">sd</span>(auc), <span class="at">col =</span> <span class="st">&quot;green&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">3</span>) </span>
<span id="cb6-26"><a href="algorithms.html#cb6-26" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fu">mean</span>(auc) <span class="sc">+</span> <span class="fl">1.96</span> <span class="sc">*</span> <span class="fu">sd</span>(auc), <span class="at">col =</span> <span class="st">&quot;green&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
<div id="bagging" class="section level3 hasAnchor" number="2.3.2">
<h3><span class="header-section-number">2.3.2</span> Bagging<a href="algorithms.html#bagging" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="algorithms.html#cb7-1" tabindex="-1"></a>auc_bag <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb7-2"><a href="algorithms.html#cb7-2" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb7-3"><a href="algorithms.html#cb7-3" tabindex="-1"></a>B <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb7-4"><a href="algorithms.html#cb7-4" tabindex="-1"></a></span>
<span id="cb7-5"><a href="algorithms.html#cb7-5" tabindex="-1"></a>num_vars <span class="ot">&lt;-</span> <span class="fu">ncol</span>(dataf) <span class="sc">-</span> <span class="dv">1</span> </span>
<span id="cb7-6"><a href="algorithms.html#cb7-6" tabindex="-1"></a></span>
<span id="cb7-7"><a href="algorithms.html#cb7-7" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) {</span>
<span id="cb7-8"><a href="algorithms.html#cb7-8" tabindex="-1"></a>  idx <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">nrow</span>(dataf), <span class="fu">nrow</span>(dataf), <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb7-9"><a href="algorithms.html#cb7-9" tabindex="-1"></a>  trn <span class="ot">&lt;-</span> dataf[idx, ]</span>
<span id="cb7-10"><a href="algorithms.html#cb7-10" tabindex="-1"></a>  tst <span class="ot">&lt;-</span> dataf[<span class="sc">-</span>idx, ]</span>
<span id="cb7-11"><a href="algorithms.html#cb7-11" tabindex="-1"></a>  </span>
<span id="cb7-12"><a href="algorithms.html#cb7-12" tabindex="-1"></a>  mdl <span class="ot">&lt;-</span> <span class="fu">randomForest</span>(y <span class="sc">~</span> ., <span class="at">data =</span> trn, <span class="at">ntree =</span> B, <span class="at">mtry =</span> num_vars)</span>
<span id="cb7-13"><a href="algorithms.html#cb7-13" tabindex="-1"></a>  </span>
<span id="cb7-14"><a href="algorithms.html#cb7-14" tabindex="-1"></a>  phat <span class="ot">&lt;-</span> <span class="fu">predict</span>(mdl, tst, <span class="at">type =</span> <span class="st">&quot;prob&quot;</span>)[,<span class="dv">2</span>]</span>
<span id="cb7-15"><a href="algorithms.html#cb7-15" tabindex="-1"></a>  </span>
<span id="cb7-16"><a href="algorithms.html#cb7-16" tabindex="-1"></a>  <span class="co"># Calculate AUC</span></span>
<span id="cb7-17"><a href="algorithms.html#cb7-17" tabindex="-1"></a>  pred <span class="ot">&lt;-</span> <span class="fu">prediction</span>(phat, <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(tst<span class="sc">$</span>y)))</span>
<span id="cb7-18"><a href="algorithms.html#cb7-18" tabindex="-1"></a>  auc_bag[i] <span class="ot">&lt;-</span> <span class="fu">performance</span>(pred, <span class="st">&quot;auc&quot;</span>)<span class="sc">@</span>y.values[[<span class="dv">1</span>]]</span>
<span id="cb7-19"><a href="algorithms.html#cb7-19" tabindex="-1"></a>}</span>
<span id="cb7-20"><a href="algorithms.html#cb7-20" tabindex="-1"></a></span>
<span id="cb7-21"><a href="algorithms.html#cb7-21" tabindex="-1"></a>auc <span class="ot">&lt;-</span> auc_bag</span>
<span id="cb7-22"><a href="algorithms.html#cb7-22" tabindex="-1"></a></span>
<span id="cb7-23"><a href="algorithms.html#cb7-23" tabindex="-1"></a><span class="co"># Plot AUC values, mean, and confidence intervals</span></span>
<span id="cb7-24"><a href="algorithms.html#cb7-24" tabindex="-1"></a><span class="fu">plot</span>(auc, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">main =</span> <span class="st">&quot;AUC Distribution with Bagging&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;Iteration&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;AUC&quot;</span>)</span>
<span id="cb7-25"><a href="algorithms.html#cb7-25" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fu">mean</span>(auc), <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span>
<span id="cb7-26"><a href="algorithms.html#cb7-26" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fu">mean</span>(auc) <span class="sc">-</span> <span class="fl">1.96</span> <span class="sc">*</span> <span class="fu">sd</span>(auc), <span class="at">col =</span> <span class="st">&quot;green&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">3</span>)</span>
<span id="cb7-27"><a href="algorithms.html#cb7-27" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fu">mean</span>(auc) <span class="sc">+</span> <span class="fl">1.96</span> <span class="sc">*</span> <span class="fu">sd</span>(auc), <span class="at">col =</span> <span class="st">&quot;green&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
</div>
<div id="rf" class="section level3 hasAnchor" number="2.3.3">
<h3><span class="header-section-number">2.3.3</span> RF<a href="algorithms.html#rf" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="algorithms.html#cb8-1" tabindex="-1"></a>auc_rf <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb8-2"><a href="algorithms.html#cb8-2" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb8-3"><a href="algorithms.html#cb8-3" tabindex="-1"></a>B <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb8-4"><a href="algorithms.html#cb8-4" tabindex="-1"></a></span>
<span id="cb8-5"><a href="algorithms.html#cb8-5" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) {</span>
<span id="cb8-6"><a href="algorithms.html#cb8-6" tabindex="-1"></a>  <span class="co"># Ensure unique indices for training data to avoid empty test set</span></span>
<span id="cb8-7"><a href="algorithms.html#cb8-7" tabindex="-1"></a>  idx <span class="ot">&lt;-</span> <span class="fu">unique</span>(<span class="fu">sample</span>(<span class="fu">nrow</span>(dataf), <span class="at">size =</span> <span class="fu">nrow</span>(dataf), <span class="at">replace =</span> <span class="cn">TRUE</span>))</span>
<span id="cb8-8"><a href="algorithms.html#cb8-8" tabindex="-1"></a>  trn <span class="ot">&lt;-</span> dataf[idx, ]</span>
<span id="cb8-9"><a href="algorithms.html#cb8-9" tabindex="-1"></a>  tst <span class="ot">&lt;-</span> dataf[<span class="sc">-</span>idx, ]</span>
<span id="cb8-10"><a href="algorithms.html#cb8-10" tabindex="-1"></a>  </span>
<span id="cb8-11"><a href="algorithms.html#cb8-11" tabindex="-1"></a>  <span class="co"># Fit a Random Forest model</span></span>
<span id="cb8-12"><a href="algorithms.html#cb8-12" tabindex="-1"></a>  mdl <span class="ot">&lt;-</span> <span class="fu">randomForest</span>(y <span class="sc">~</span> ., <span class="at">data =</span> trn, <span class="at">ntree =</span> B)</span>
<span id="cb8-13"><a href="algorithms.html#cb8-13" tabindex="-1"></a>  </span>
<span id="cb8-14"><a href="algorithms.html#cb8-14" tabindex="-1"></a>  <span class="co"># Predict probabilities for the positive class</span></span>
<span id="cb8-15"><a href="algorithms.html#cb8-15" tabindex="-1"></a>  phat <span class="ot">&lt;-</span> <span class="fu">predict</span>(mdl, tst, <span class="at">type =</span> <span class="st">&quot;prob&quot;</span>)[,<span class="dv">2</span>]</span>
<span id="cb8-16"><a href="algorithms.html#cb8-16" tabindex="-1"></a>  </span>
<span id="cb8-17"><a href="algorithms.html#cb8-17" tabindex="-1"></a>  <span class="co"># Calculate AUC</span></span>
<span id="cb8-18"><a href="algorithms.html#cb8-18" tabindex="-1"></a>  pred <span class="ot">&lt;-</span> <span class="fu">prediction</span>(phat, <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(tst<span class="sc">$</span>y))) </span>
<span id="cb8-19"><a href="algorithms.html#cb8-19" tabindex="-1"></a>  auc_rf[i] <span class="ot">&lt;-</span> <span class="fu">performance</span>(pred, <span class="st">&quot;auc&quot;</span>)<span class="sc">@</span>y.values[[<span class="dv">1</span>]]</span>
<span id="cb8-20"><a href="algorithms.html#cb8-20" tabindex="-1"></a>}</span>
<span id="cb8-21"><a href="algorithms.html#cb8-21" tabindex="-1"></a></span>
<span id="cb8-22"><a href="algorithms.html#cb8-22" tabindex="-1"></a>auc <span class="ot">&lt;-</span> auc_rf</span>
<span id="cb8-23"><a href="algorithms.html#cb8-23" tabindex="-1"></a></span>
<span id="cb8-24"><a href="algorithms.html#cb8-24" tabindex="-1"></a><span class="co"># Plot AUC values, mean, and confidence intervals</span></span>
<span id="cb8-25"><a href="algorithms.html#cb8-25" tabindex="-1"></a><span class="fu">plot</span>(auc, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">main =</span> <span class="st">&quot;AUC Distribution with RF&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;Iteration&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;AUC&quot;</span>)</span>
<span id="cb8-26"><a href="algorithms.html#cb8-26" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fu">mean</span>(auc), <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span>
<span id="cb8-27"><a href="algorithms.html#cb8-27" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fu">mean</span>(auc) <span class="sc">-</span> <span class="fl">1.96</span> <span class="sc">*</span> <span class="fu">sd</span>(auc), <span class="at">col =</span> <span class="st">&quot;green&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">3</span>)</span>
<span id="cb8-28"><a href="algorithms.html#cb8-28" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fu">mean</span>(auc) <span class="sc">+</span> <span class="fl">1.96</span> <span class="sc">*</span> <span class="fu">sd</span>(auc), <span class="at">col =</span> <span class="st">&quot;green&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
</div>
</div>
<div id="boosting" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Boosting<a href="algorithms.html#boosting" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="adaboost" class="section level3 hasAnchor" number="2.4.1">
<h3><span class="header-section-number">2.4.1</span> Adaboost<a href="algorithms.html#adaboost" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="gbm-boost" class="section level3 hasAnchor" number="2.4.2">
<h3><span class="header-section-number">2.4.2</span> GBM boost<a href="algorithms.html#gbm-boost" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="algorithms.html#cb9-1" tabindex="-1"></a>grid <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(</span>
<span id="cb9-2"><a href="algorithms.html#cb9-2" tabindex="-1"></a>  <span class="at">n.trees =</span> <span class="fu">seq</span>(<span class="dv">100</span>, <span class="dv">200</span>, <span class="at">by =</span> <span class="dv">100</span>),  <span class="co"># Number of trees</span></span>
<span id="cb9-3"><a href="algorithms.html#cb9-3" tabindex="-1"></a>  <span class="at">interaction.depth =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="at">by =</span> <span class="dv">1</span>),  <span class="co"># Max depth of trees</span></span>
<span id="cb9-4"><a href="algorithms.html#cb9-4" tabindex="-1"></a>  <span class="at">shrinkage =</span> <span class="fu">seq</span>(<span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="at">by =</span> <span class="fl">0.1</span>)  <span class="co"># Learning rate</span></span>
<span id="cb9-5"><a href="algorithms.html#cb9-5" tabindex="-1"></a>)</span>
<span id="cb9-6"><a href="algorithms.html#cb9-6" tabindex="-1"></a></span>
<span id="cb9-7"><a href="algorithms.html#cb9-7" tabindex="-1"></a>conf_lev <span class="ot">&lt;-</span> .<span class="dv">95</span></span>
<span id="cb9-8"><a href="algorithms.html#cb9-8" tabindex="-1"></a>num_max <span class="ot">&lt;-</span> <span class="dv">5</span> <span class="co"># Define number around the maximum</span></span>
<span id="cb9-9"><a href="algorithms.html#cb9-9" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">log</span>(<span class="dv">1</span><span class="sc">-</span>conf_lev)<span class="sc">/</span><span class="fu">log</span>(<span class="dv">1</span><span class="sc">-</span>num_max<span class="sc">/</span><span class="fu">nrow</span>(grid))</span>
<span id="cb9-10"><a href="algorithms.html#cb9-10" tabindex="-1"></a>ind <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">nrow</span>(grid), <span class="fu">nrow</span>(grid)<span class="sc">*</span>(n<span class="sc">/</span><span class="fu">nrow</span>(grid)), <span class="at">replace =</span> <span class="cn">FALSE</span>)</span>
<span id="cb9-11"><a href="algorithms.html#cb9-11" tabindex="-1"></a>rgrid <span class="ot">&lt;-</span> grid[ind, ]</span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="algorithms.html#cb10-1" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb10-2"><a href="algorithms.html#cb10-2" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb10-3"><a href="algorithms.html#cb10-3" tabindex="-1"></a></span>
<span id="cb10-4"><a href="algorithms.html#cb10-4" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> n, <span class="at">ncol =</span> <span class="dv">4</span>) </span>
<span id="cb10-5"><a href="algorithms.html#cb10-5" tabindex="-1"></a></span>
<span id="cb10-6"><a href="algorithms.html#cb10-6" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) {</span>
<span id="cb10-7"><a href="algorithms.html#cb10-7" tabindex="-1"></a>  <span class="co"># Bootstrap sampling for training and test sets</span></span>
<span id="cb10-8"><a href="algorithms.html#cb10-8" tabindex="-1"></a>  idx <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">nrow</span>(data), <span class="fu">nrow</span>(data), <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb10-9"><a href="algorithms.html#cb10-9" tabindex="-1"></a>  train_data <span class="ot">&lt;-</span> data[idx, ]</span>
<span id="cb10-10"><a href="algorithms.html#cb10-10" tabindex="-1"></a>  test_data <span class="ot">&lt;-</span> data[<span class="sc">-</span>idx, ]</span>
<span id="cb10-11"><a href="algorithms.html#cb10-11" tabindex="-1"></a>  </span>
<span id="cb10-12"><a href="algorithms.html#cb10-12" tabindex="-1"></a>  auc_vg <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb10-13"><a href="algorithms.html#cb10-13" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(rgrid)) {</span>
<span id="cb10-14"><a href="algorithms.html#cb10-14" tabindex="-1"></a>    auc_v <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb10-15"><a href="algorithms.html#cb10-15" tabindex="-1"></a>    <span class="cf">for</span> (k <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>v) {</span>
<span id="cb10-16"><a href="algorithms.html#cb10-16" tabindex="-1"></a>      v_idx <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">nrow</span>(train_data), <span class="fu">nrow</span>(train_data), <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb10-17"><a href="algorithms.html#cb10-17" tabindex="-1"></a>      val_data <span class="ot">&lt;-</span> train_data[<span class="sc">-</span>v_idx, ]</span>
<span id="cb10-18"><a href="algorithms.html#cb10-18" tabindex="-1"></a></span>
<span id="cb10-19"><a href="algorithms.html#cb10-19" tabindex="-1"></a>      <span class="co"># Fit GBM model</span></span>
<span id="cb10-20"><a href="algorithms.html#cb10-20" tabindex="-1"></a>      mdl <span class="ot">&lt;-</span> <span class="fu">gbm</span>(y <span class="sc">~</span> ., </span>
<span id="cb10-21"><a href="algorithms.html#cb10-21" tabindex="-1"></a>                 <span class="at">data =</span> train_data[v_idx, ], </span>
<span id="cb10-22"><a href="algorithms.html#cb10-22" tabindex="-1"></a>                 <span class="at">distribution =</span> <span class="st">&quot;bernoulli&quot;</span>,</span>
<span id="cb10-23"><a href="algorithms.html#cb10-23" tabindex="-1"></a>                 <span class="at">n.trees =</span> rgrid[j, <span class="st">&quot;n.trees&quot;</span>],</span>
<span id="cb10-24"><a href="algorithms.html#cb10-24" tabindex="-1"></a>                 <span class="at">interaction.depth =</span> rgrid[j, <span class="st">&quot;interaction.depth&quot;</span>],</span>
<span id="cb10-25"><a href="algorithms.html#cb10-25" tabindex="-1"></a>                 <span class="at">shrinkage =</span> rgrid[j, <span class="st">&quot;shrinkage&quot;</span>], </span>
<span id="cb10-26"><a href="algorithms.html#cb10-26" tabindex="-1"></a>                 <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb10-27"><a href="algorithms.html#cb10-27" tabindex="-1"></a></span>
<span id="cb10-28"><a href="algorithms.html#cb10-28" tabindex="-1"></a>      <span class="co"># Predict on validation set and calculate AUC</span></span>
<span id="cb10-29"><a href="algorithms.html#cb10-29" tabindex="-1"></a>      p <span class="ot">&lt;-</span> <span class="fu">predict</span>(mdl, <span class="at">newdata =</span> val_data, <span class="at">n.trees =</span> rgrid[j, <span class="st">&quot;n.trees&quot;</span>], <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb10-30"><a href="algorithms.html#cb10-30" tabindex="-1"></a>      pred <span class="ot">&lt;-</span> <span class="fu">prediction</span>(p, val_data<span class="sc">$</span>y)</span>
<span id="cb10-31"><a href="algorithms.html#cb10-31" tabindex="-1"></a>      auc_v[k] <span class="ot">&lt;-</span> <span class="fu">performance</span>(pred, <span class="st">&quot;auc&quot;</span>)<span class="sc">@</span>y.values[[<span class="dv">1</span>]]</span>
<span id="cb10-32"><a href="algorithms.html#cb10-32" tabindex="-1"></a>    }</span>
<span id="cb10-33"><a href="algorithms.html#cb10-33" tabindex="-1"></a>    auc_vg[j] <span class="ot">&lt;-</span> <span class="fu">mean</span>(auc_v)</span>
<span id="cb10-34"><a href="algorithms.html#cb10-34" tabindex="-1"></a>  }</span>
<span id="cb10-35"><a href="algorithms.html#cb10-35" tabindex="-1"></a></span>
<span id="cb10-36"><a href="algorithms.html#cb10-36" tabindex="-1"></a>  <span class="co"># Identify the best model</span></span>
<span id="cb10-37"><a href="algorithms.html#cb10-37" tabindex="-1"></a>  best_idx <span class="ot">&lt;-</span> <span class="fu">which.max</span>(auc_vg)</span>
<span id="cb10-38"><a href="algorithms.html#cb10-38" tabindex="-1"></a>  best_prm <span class="ot">&lt;-</span> rgrid[best_idx, ]</span>
<span id="cb10-39"><a href="algorithms.html#cb10-39" tabindex="-1"></a></span>
<span id="cb10-40"><a href="algorithms.html#cb10-40" tabindex="-1"></a>  <span class="co"># Train final model on the full training data and predict on test set</span></span>
<span id="cb10-41"><a href="algorithms.html#cb10-41" tabindex="-1"></a>  mdl_final <span class="ot">&lt;-</span> <span class="fu">gbm</span>(y <span class="sc">~</span> ., </span>
<span id="cb10-42"><a href="algorithms.html#cb10-42" tabindex="-1"></a>                   <span class="at">data =</span> train_data, </span>
<span id="cb10-43"><a href="algorithms.html#cb10-43" tabindex="-1"></a>                   <span class="at">distribution =</span> <span class="st">&quot;bernoulli&quot;</span>,</span>
<span id="cb10-44"><a href="algorithms.html#cb10-44" tabindex="-1"></a>                   <span class="at">n.trees =</span> best_prm[<span class="dv">1</span>, <span class="st">&quot;n.trees&quot;</span>],</span>
<span id="cb10-45"><a href="algorithms.html#cb10-45" tabindex="-1"></a>                   <span class="at">interaction.depth =</span> best_prm[<span class="st">&quot;interaction.depth&quot;</span>],</span>
<span id="cb10-46"><a href="algorithms.html#cb10-46" tabindex="-1"></a>                   <span class="at">shrinkage =</span> best_prm[<span class="st">&quot;shrinkage&quot;</span>],</span>
<span id="cb10-47"><a href="algorithms.html#cb10-47" tabindex="-1"></a>                   <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb10-48"><a href="algorithms.html#cb10-48" tabindex="-1"></a>  </span>
<span id="cb10-49"><a href="algorithms.html#cb10-49" tabindex="-1"></a></span>
<span id="cb10-50"><a href="algorithms.html#cb10-50" tabindex="-1"></a>  p_t <span class="ot">&lt;-</span> <span class="fu">predict</span>(mdl_final, <span class="at">newdata =</span> test_data, <span class="at">n.trees =</span> best_prm[<span class="dv">1</span>, <span class="st">&quot;n.trees&quot;</span>], <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb10-51"><a href="algorithms.html#cb10-51" tabindex="-1"></a>  pred_t <span class="ot">&lt;-</span> <span class="fu">prediction</span>(p_t, test_data<span class="sc">$</span>y)</span>
<span id="cb10-52"><a href="algorithms.html#cb10-52" tabindex="-1"></a>  auc_test <span class="ot">&lt;-</span> <span class="fu">performance</span>(pred_t, <span class="st">&quot;auc&quot;</span>)<span class="sc">@</span>y.values[[<span class="dv">1</span>]]</span>
<span id="cb10-53"><a href="algorithms.html#cb10-53" tabindex="-1"></a>  </span>
<span id="cb10-54"><a href="algorithms.html#cb10-54" tabindex="-1"></a>results[i, <span class="dv">1</span>] <span class="ot">&lt;-</span> auc_test </span>
<span id="cb10-55"><a href="algorithms.html#cb10-55" tabindex="-1"></a>results[i, <span class="dv">2</span>] <span class="ot">&lt;-</span> best_prm[<span class="dv">1</span>, <span class="st">&quot;n.trees&quot;</span>]</span>
<span id="cb10-56"><a href="algorithms.html#cb10-56" tabindex="-1"></a>results[i, <span class="dv">3</span>] <span class="ot">&lt;-</span> best_prm[<span class="dv">1</span>, <span class="st">&quot;interaction.depth&quot;</span>]</span>
<span id="cb10-57"><a href="algorithms.html#cb10-57" tabindex="-1"></a>results[i, <span class="dv">4</span>] <span class="ot">&lt;-</span> best_prm[<span class="dv">1</span>, <span class="st">&quot;shrinkage&quot;</span>]</span>
<span id="cb10-58"><a href="algorithms.html#cb10-58" tabindex="-1"></a>}</span>
<span id="cb10-59"><a href="algorithms.html#cb10-59" tabindex="-1"></a></span>
<span id="cb10-60"><a href="algorithms.html#cb10-60" tabindex="-1"></a>df_results <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(results)</span>
<span id="cb10-61"><a href="algorithms.html#cb10-61" tabindex="-1"></a><span class="fu">colnames</span>(df_results) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;AUC_Test&quot;</span>, <span class="st">&quot;n.trees&quot;</span>, <span class="st">&quot;interaction.depth&quot;</span>, <span class="st">&quot;shrinkage&quot;</span>)</span>
<span id="cb10-62"><a href="algorithms.html#cb10-62" tabindex="-1"></a></span>
<span id="cb10-63"><a href="algorithms.html#cb10-63" tabindex="-1"></a><span class="co"># Plotting</span></span>
<span id="cb10-64"><a href="algorithms.html#cb10-64" tabindex="-1"></a><span class="fu">plot</span>(df_results<span class="sc">$</span>AUC_Test, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">main =</span> <span class="st">&quot;AUC Test Distribution&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;Iteration&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;AUC&quot;</span>)</span>
<span id="cb10-65"><a href="algorithms.html#cb10-65" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fu">mean</span>(df_results<span class="sc">$</span>AUC_Test), <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span>
<span id="cb10-66"><a href="algorithms.html#cb10-66" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fu">mean</span>(df_results<span class="sc">$</span>AUC_Test) <span class="sc">-</span> <span class="fl">1.96</span> <span class="sc">*</span> <span class="fu">sd</span>(df_results<span class="sc">$</span>AUC_Test), <span class="at">col =</span> <span class="st">&quot;green&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">3</span>)</span>
<span id="cb10-67"><a href="algorithms.html#cb10-67" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fu">mean</span>(df_results<span class="sc">$</span>AUC_Test) <span class="sc">+</span> <span class="fl">1.96</span> <span class="sc">*</span> <span class="fu">sd</span>(df_results<span class="sc">$</span>AUC_Test), <span class="at">col =</span> <span class="st">&quot;green&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
</div>
<div id="xgboost" class="section level3 hasAnchor" number="2.4.3">
<h3><span class="header-section-number">2.4.3</span> XGBoost<a href="algorithms.html#xgboost" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="algorithms.html#cb11-1" tabindex="-1"></a>grid <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(</span>
<span id="cb11-2"><a href="algorithms.html#cb11-2" tabindex="-1"></a>  <span class="at">eta =</span> <span class="fu">seq</span>(<span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="at">by =</span> <span class="dv">0</span>), </span>
<span id="cb11-3"><a href="algorithms.html#cb11-3" tabindex="-1"></a>  <span class="at">max_depth =</span> <span class="fu">seq</span>(<span class="dv">6</span>, <span class="dv">14</span>, <span class="at">by =</span> <span class="dv">8</span>),</span>
<span id="cb11-4"><a href="algorithms.html#cb11-4" tabindex="-1"></a>  <span class="at">min_child_weight =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="dv">0</span>), </span>
<span id="cb11-5"><a href="algorithms.html#cb11-5" tabindex="-1"></a>  <span class="at">subsample =</span> <span class="fu">seq</span>(<span class="fl">0.6</span>, <span class="fl">0.8</span>, <span class="at">by =</span> <span class="fl">0.2</span>), </span>
<span id="cb11-6"><a href="algorithms.html#cb11-6" tabindex="-1"></a>  <span class="at">colsample_bytree =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="dv">0</span>),  </span>
<span id="cb11-7"><a href="algorithms.html#cb11-7" tabindex="-1"></a>  <span class="at">lambda =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="at">by =</span> <span class="dv">2</span>),  </span>
<span id="cb11-8"><a href="algorithms.html#cb11-8" tabindex="-1"></a>  <span class="at">alpha =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">3</span>, <span class="at">by =</span> <span class="dv">3</span>),  </span>
<span id="cb11-9"><a href="algorithms.html#cb11-9" tabindex="-1"></a>  <span class="at">gamma =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="fl">2.5</span>, <span class="at">by =</span> <span class="fl">2.5</span>), </span>
<span id="cb11-10"><a href="algorithms.html#cb11-10" tabindex="-1"></a>  <span class="at">nrounds =</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">50</span>)  </span>
<span id="cb11-11"><a href="algorithms.html#cb11-11" tabindex="-1"></a>)</span>
<span id="cb11-12"><a href="algorithms.html#cb11-12" tabindex="-1"></a></span>
<span id="cb11-13"><a href="algorithms.html#cb11-13" tabindex="-1"></a>conf_lev <span class="ot">&lt;-</span> .<span class="dv">95</span></span>
<span id="cb11-14"><a href="algorithms.html#cb11-14" tabindex="-1"></a>num_max <span class="ot">&lt;-</span> <span class="dv">5</span> <span class="co"># Define number around the maximum</span></span>
<span id="cb11-15"><a href="algorithms.html#cb11-15" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">log</span>(<span class="dv">1</span><span class="sc">-</span>conf_lev)<span class="sc">/</span><span class="fu">log</span>(<span class="dv">1</span><span class="sc">-</span>num_max<span class="sc">/</span><span class="fu">nrow</span>(grid))</span>
<span id="cb11-16"><a href="algorithms.html#cb11-16" tabindex="-1"></a>ind <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">nrow</span>(grid), <span class="fu">nrow</span>(grid)<span class="sc">*</span>(n<span class="sc">/</span><span class="fu">nrow</span>(grid)), <span class="at">replace =</span> <span class="cn">FALSE</span>)</span>
<span id="cb11-17"><a href="algorithms.html#cb11-17" tabindex="-1"></a>rgrid <span class="ot">&lt;-</span> grid[ind, ]</span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="algorithms.html#cb12-1" tabindex="-1"></a>xs <span class="ot">&lt;-</span> <span class="fu">model.matrix</span>(<span class="sc">~</span> . <span class="sc">-</span> <span class="dv">1</span> <span class="sc">-</span> y, <span class="at">data =</span> data)</span>
<span id="cb12-2"><a href="algorithms.html#cb12-2" tabindex="-1"></a>y <span class="ot">&lt;-</span> data<span class="sc">$</span>y</span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="algorithms.html#cb13-1" tabindex="-1"></a>nc <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="co">#detectCores - 1</span></span>
<span id="cb13-2"><a href="algorithms.html#cb13-2" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb13-3"><a href="algorithms.html#cb13-3" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb13-4"><a href="algorithms.html#cb13-4" tabindex="-1"></a></span>
<span id="cb13-5"><a href="algorithms.html#cb13-5" tabindex="-1"></a><span class="co"># Adjust the matrix size according to the number of hyperparameters + 1 for AUC</span></span>
<span id="cb13-6"><a href="algorithms.html#cb13-6" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> n, <span class="at">ncol =</span> <span class="fu">length</span>(rgrid[<span class="dv">1</span>,]) <span class="sc">+</span> <span class="dv">1</span>)</span>
<span id="cb13-7"><a href="algorithms.html#cb13-7" tabindex="-1"></a></span>
<span id="cb13-8"><a href="algorithms.html#cb13-8" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) {</span>
<span id="cb13-9"><a href="algorithms.html#cb13-9" tabindex="-1"></a>  idx <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">nrow</span>(xs), <span class="at">size =</span> <span class="fu">nrow</span>(xs), <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb13-10"><a href="algorithms.html#cb13-10" tabindex="-1"></a>  dx <span class="ot">&lt;-</span> xs[idx, ]</span>
<span id="cb13-11"><a href="algorithms.html#cb13-11" tabindex="-1"></a>  dy <span class="ot">&lt;-</span> y[idx]</span>
<span id="cb13-12"><a href="algorithms.html#cb13-12" tabindex="-1"></a>  tx <span class="ot">&lt;-</span> xs[<span class="sc">-</span>idx, ]</span>
<span id="cb13-13"><a href="algorithms.html#cb13-13" tabindex="-1"></a>  ty <span class="ot">&lt;-</span> y[<span class="sc">-</span>idx]</span>
<span id="cb13-14"><a href="algorithms.html#cb13-14" tabindex="-1"></a>  </span>
<span id="cb13-15"><a href="algorithms.html#cb13-15" tabindex="-1"></a>  auc_vg <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb13-16"><a href="algorithms.html#cb13-16" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(rgrid)) {</span>
<span id="cb13-17"><a href="algorithms.html#cb13-17" tabindex="-1"></a>    </span>
<span id="cb13-18"><a href="algorithms.html#cb13-18" tabindex="-1"></a></span>
<span id="cb13-19"><a href="algorithms.html#cb13-19" tabindex="-1"></a>    auc_v <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb13-20"><a href="algorithms.html#cb13-20" tabindex="-1"></a>    <span class="cf">for</span> (k <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>v) {</span>
<span id="cb13-21"><a href="algorithms.html#cb13-21" tabindex="-1"></a>      v_idx <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">nrow</span>(dx), <span class="fu">nrow</span>(dx), <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb13-22"><a href="algorithms.html#cb13-22" tabindex="-1"></a>      vx <span class="ot">&lt;-</span> dx[v_idx, ]</span>
<span id="cb13-23"><a href="algorithms.html#cb13-23" tabindex="-1"></a>      vy <span class="ot">&lt;-</span> dy[v_idx]</span>
<span id="cb13-24"><a href="algorithms.html#cb13-24" tabindex="-1"></a>      val_x <span class="ot">&lt;-</span> dx[<span class="sc">-</span>v_idx, ]  </span>
<span id="cb13-25"><a href="algorithms.html#cb13-25" tabindex="-1"></a>      val_y <span class="ot">&lt;-</span> dy[<span class="sc">-</span>v_idx]</span>
<span id="cb13-26"><a href="algorithms.html#cb13-26" tabindex="-1"></a></span>
<span id="cb13-27"><a href="algorithms.html#cb13-27" tabindex="-1"></a>      prm <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb13-28"><a href="algorithms.html#cb13-28" tabindex="-1"></a>          <span class="at">booster =</span> <span class="st">&quot;gbtree&quot;</span>,</span>
<span id="cb13-29"><a href="algorithms.html#cb13-29" tabindex="-1"></a>          <span class="at">objective =</span> <span class="st">&quot;binary:logistic&quot;</span>,</span>
<span id="cb13-30"><a href="algorithms.html#cb13-30" tabindex="-1"></a>          <span class="at">max_depth =</span> rgrid[j, <span class="st">&quot;max_depth&quot;</span>], </span>
<span id="cb13-31"><a href="algorithms.html#cb13-31" tabindex="-1"></a>          <span class="at">eta =</span> rgrid[j, <span class="st">&quot;eta&quot;</span>],</span>
<span id="cb13-32"><a href="algorithms.html#cb13-32" tabindex="-1"></a>          <span class="at">subsample =</span> rgrid[j, <span class="st">&quot;subsample&quot;</span>],</span>
<span id="cb13-33"><a href="algorithms.html#cb13-33" tabindex="-1"></a>          <span class="at">colsample_bytree =</span> rgrid[j, <span class="st">&quot;colsample_bytree&quot;</span>],</span>
<span id="cb13-34"><a href="algorithms.html#cb13-34" tabindex="-1"></a>          <span class="at">gamma =</span> rgrid[j, <span class="st">&quot;gamma&quot;</span>],</span>
<span id="cb13-35"><a href="algorithms.html#cb13-35" tabindex="-1"></a>          <span class="at">min_child_weight =</span> rgrid[j, <span class="st">&quot;min_child_weight&quot;</span>],</span>
<span id="cb13-36"><a href="algorithms.html#cb13-36" tabindex="-1"></a>          <span class="at">alpha =</span> rgrid[j, <span class="st">&quot;alpha&quot;</span>],</span>
<span id="cb13-37"><a href="algorithms.html#cb13-37" tabindex="-1"></a>          <span class="at">lambda =</span> rgrid[j, <span class="st">&quot;lambda&quot;</span>],</span>
<span id="cb13-38"><a href="algorithms.html#cb13-38" tabindex="-1"></a>          <span class="at">nthread =</span> nc</span>
<span id="cb13-39"><a href="algorithms.html#cb13-39" tabindex="-1"></a>      )</span>
<span id="cb13-40"><a href="algorithms.html#cb13-40" tabindex="-1"></a>      </span>
<span id="cb13-41"><a href="algorithms.html#cb13-41" tabindex="-1"></a>      dm_train <span class="ot">&lt;-</span> <span class="fu">xgb.DMatrix</span>(<span class="at">data =</span> vx, <span class="at">label =</span> vy) </span>
<span id="cb13-42"><a href="algorithms.html#cb13-42" tabindex="-1"></a>      mdl <span class="ot">&lt;-</span> <span class="fu">xgb.train</span>(<span class="at">params =</span> prm, <span class="at">data =</span> dm_train, <span class="at">nrounds =</span> rgrid[j, <span class="st">&quot;nrounds&quot;</span>], <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb13-43"><a href="algorithms.html#cb13-43" tabindex="-1"></a>      </span>
<span id="cb13-44"><a href="algorithms.html#cb13-44" tabindex="-1"></a>      p <span class="ot">&lt;-</span> <span class="fu">predict</span>(mdl, <span class="fu">xgb.DMatrix</span>(<span class="at">data =</span> val_x))</span>
<span id="cb13-45"><a href="algorithms.html#cb13-45" tabindex="-1"></a>      pred <span class="ot">&lt;-</span> <span class="fu">prediction</span>(p, val_y)</span>
<span id="cb13-46"><a href="algorithms.html#cb13-46" tabindex="-1"></a>      auc_v <span class="ot">&lt;-</span> <span class="fu">c</span>(auc_v, <span class="fu">performance</span>(pred, <span class="st">&quot;auc&quot;</span>)<span class="sc">@</span>y.values[[<span class="dv">1</span>]])</span>
<span id="cb13-47"><a href="algorithms.html#cb13-47" tabindex="-1"></a>    }</span>
<span id="cb13-48"><a href="algorithms.html#cb13-48" tabindex="-1"></a>    auc_vg <span class="ot">&lt;-</span> <span class="fu">c</span>(auc_vg, <span class="fu">mean</span>(auc_v))</span>
<span id="cb13-49"><a href="algorithms.html#cb13-49" tabindex="-1"></a>  }</span>
<span id="cb13-50"><a href="algorithms.html#cb13-50" tabindex="-1"></a></span>
<span id="cb13-51"><a href="algorithms.html#cb13-51" tabindex="-1"></a>  best_idx <span class="ot">&lt;-</span> <span class="fu">which.max</span>(auc_vg)</span>
<span id="cb13-52"><a href="algorithms.html#cb13-52" tabindex="-1"></a>  best_prm <span class="ot">&lt;-</span> rgrid[best_idx, ]</span>
<span id="cb13-53"><a href="algorithms.html#cb13-53" tabindex="-1"></a>  </span>
<span id="cb13-54"><a href="algorithms.html#cb13-54" tabindex="-1"></a>  best_prm_list <span class="ot">&lt;-</span> <span class="fu">as.list</span>(best_prm[<span class="sc">-</span><span class="fu">which</span>(<span class="fu">names</span>(best_prm) <span class="sc">==</span> <span class="st">&quot;nrounds&quot;</span>)])</span>
<span id="cb13-55"><a href="algorithms.html#cb13-55" tabindex="-1"></a></span>
<span id="cb13-56"><a href="algorithms.html#cb13-56" tabindex="-1"></a>  best_prm_list<span class="sc">$</span>booster <span class="ot">&lt;-</span> <span class="st">&quot;gbtree&quot;</span></span>
<span id="cb13-57"><a href="algorithms.html#cb13-57" tabindex="-1"></a>  best_prm_list<span class="sc">$</span>objective <span class="ot">&lt;-</span> <span class="st">&quot;binary:logistic&quot;</span></span>
<span id="cb13-58"><a href="algorithms.html#cb13-58" tabindex="-1"></a>  best_prm_list<span class="sc">$</span>nthread <span class="ot">&lt;-</span> nc</span>
<span id="cb13-59"><a href="algorithms.html#cb13-59" tabindex="-1"></a>  </span>
<span id="cb13-60"><a href="algorithms.html#cb13-60" tabindex="-1"></a>  dm_final <span class="ot">&lt;-</span> <span class="fu">xgb.DMatrix</span>(<span class="at">data =</span> dx, <span class="at">label =</span> dy)</span>
<span id="cb13-61"><a href="algorithms.html#cb13-61" tabindex="-1"></a>  dt_final <span class="ot">&lt;-</span> <span class="fu">xgb.DMatrix</span>(<span class="at">data =</span> tx, <span class="at">label =</span> ty)</span>
<span id="cb13-62"><a href="algorithms.html#cb13-62" tabindex="-1"></a>  </span>
<span id="cb13-63"><a href="algorithms.html#cb13-63" tabindex="-1"></a>  mdl_final <span class="ot">&lt;-</span> <span class="fu">xgb.train</span>(<span class="at">params =</span> best_prm_list, </span>
<span id="cb13-64"><a href="algorithms.html#cb13-64" tabindex="-1"></a>                         <span class="at">data =</span> dm_final, </span>
<span id="cb13-65"><a href="algorithms.html#cb13-65" tabindex="-1"></a>                         <span class="at">nrounds =</span> best_prm[ ,<span class="st">&quot;nrounds&quot;</span>],</span>
<span id="cb13-66"><a href="algorithms.html#cb13-66" tabindex="-1"></a>                         <span class="at">verbose =</span> <span class="cn">FALSE</span>) </span>
<span id="cb13-67"><a href="algorithms.html#cb13-67" tabindex="-1"></a>  </span>
<span id="cb13-68"><a href="algorithms.html#cb13-68" tabindex="-1"></a>  p_t <span class="ot">&lt;-</span> <span class="fu">predict</span>(mdl_final, dt_final)</span>
<span id="cb13-69"><a href="algorithms.html#cb13-69" tabindex="-1"></a>  pred_t <span class="ot">&lt;-</span> <span class="fu">prediction</span>(p_t, ty)</span>
<span id="cb13-70"><a href="algorithms.html#cb13-70" tabindex="-1"></a>  auc_test <span class="ot">&lt;-</span> <span class="fu">performance</span>(pred_t, <span class="st">&quot;auc&quot;</span>)<span class="sc">@</span>y.values[[<span class="dv">1</span>]]</span>
<span id="cb13-71"><a href="algorithms.html#cb13-71" tabindex="-1"></a></span>
<span id="cb13-72"><a href="algorithms.html#cb13-72" tabindex="-1"></a>  <span class="co"># Store AUC and hyperparameters in the results matrix</span></span>
<span id="cb13-73"><a href="algorithms.html#cb13-73" tabindex="-1"></a>  results[i, <span class="dv">1</span>] <span class="ot">&lt;-</span> auc_test</span>
<span id="cb13-74"><a href="algorithms.html#cb13-74" tabindex="-1"></a>  results[i, <span class="dv">2</span><span class="sc">:</span><span class="fu">ncol</span>(results)] <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(best_prm)</span>
<span id="cb13-75"><a href="algorithms.html#cb13-75" tabindex="-1"></a>}</span>
<span id="cb13-76"><a href="algorithms.html#cb13-76" tabindex="-1"></a></span>
<span id="cb13-77"><a href="algorithms.html#cb13-77" tabindex="-1"></a><span class="co"># Convert results to a dataframe for easy handling</span></span>
<span id="cb13-78"><a href="algorithms.html#cb13-78" tabindex="-1"></a>df_results <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(results)</span>
<span id="cb13-79"><a href="algorithms.html#cb13-79" tabindex="-1"></a><span class="fu">colnames</span>(df_results) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;AUC_Test&quot;</span>, <span class="fu">names</span>(rgrid[<span class="dv">1</span>,]))</span>
<span id="cb13-80"><a href="algorithms.html#cb13-80" tabindex="-1"></a></span>
<span id="cb13-81"><a href="algorithms.html#cb13-81" tabindex="-1"></a><span class="co"># Example of plotting, adjust as necessary</span></span>
<span id="cb13-82"><a href="algorithms.html#cb13-82" tabindex="-1"></a><span class="fu">plot</span>(df_results<span class="sc">$</span>AUC_Test, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">main =</span> <span class="st">&quot;AUC Test Distribution&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;Iteration&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;AUC&quot;</span>)</span>
<span id="cb13-83"><a href="algorithms.html#cb13-83" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fu">mean</span>(df_results<span class="sc">$</span>AUC_Test), <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span>
<span id="cb13-84"><a href="algorithms.html#cb13-84" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fu">mean</span>(df_results<span class="sc">$</span>AUC_Test) <span class="sc">-</span> <span class="fl">1.96</span> <span class="sc">*</span> <span class="fu">sd</span>(df_results<span class="sc">$</span>AUC_Test), <span class="at">col =</span> <span class="st">&quot;green&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">3</span>)</span>
<span id="cb13-85"><a href="algorithms.html#cb13-85" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fu">mean</span>(df_results<span class="sc">$</span>AUC_Test) <span class="sc">+</span> <span class="fl">1.96</span> <span class="sc">*</span> <span class="fu">sd</span>(df_results<span class="sc">$</span>AUC_Test), <span class="at">col =</span> <span class="st">&quot;green&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
</div>
<div id="light-gbm-boost" class="section level3 hasAnchor" number="2.4.4">
<h3><span class="header-section-number">2.4.4</span> Light GBM boost<a href="algorithms.html#light-gbm-boost" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="catboost" class="section level3 hasAnchor" number="2.4.5">
<h3><span class="header-section-number">2.4.5</span> Catboost<a href="algorithms.html#catboost" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
</div>
<div id="other-non-parametric" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> Other Non-parametric<a href="algorithms.html#other-non-parametric" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="nueralnet" class="section level3 hasAnchor" number="2.5.1">
<h3><span class="header-section-number">2.5.1</span> Nueralnet<a href="algorithms.html#nueralnet" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="svm" class="section level3 hasAnchor" number="2.5.2">
<h3><span class="header-section-number">2.5.2</span> SVM<a href="algorithms.html#svm" class="anchor-section" aria-label="Anchor link to header"></a></h3>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="binary-application.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/01_Algorithm_Skeletons.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
