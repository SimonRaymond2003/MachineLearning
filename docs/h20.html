<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 h20 | Machine Learning Applications</title>
  <meta name="description" content="Introduction" />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 h20 | Machine Learning Applications" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Introduction" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 h20 | Machine Learning Applications" />
  
  <meta name="twitter:description" content="Introduction" />
  

<meta name="author" content="Simon P. Raymond" />


<meta name="date" content="2024-12-29" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="multi-variable-classification.html"/>
<link rel="next" href="econometrics.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">MachineLearning</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About Myself</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#purpose"><i class="fa fa-check"></i><b>1.1</b> Purpose</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#notes-for-public"><i class="fa fa-check"></i><b>1.2</b> Notes for public</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#work-in-progress"><i class="fa fa-check"></i><b>1.3</b> Work in progress</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="algorithms.html"><a href="algorithms.html"><i class="fa fa-check"></i><b>2</b> Algorithms</a>
<ul>
<li class="chapter" data-level="2.1" data-path="algorithms.html"><a href="algorithms.html#data"><i class="fa fa-check"></i><b>2.1</b> Data</a></li>
<li class="chapter" data-level="2.2" data-path="algorithms.html"><a href="algorithms.html#parametric"><i class="fa fa-check"></i><b>2.2</b> Parametric</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="algorithms.html"><a href="algorithms.html#lm"><i class="fa fa-check"></i><b>2.2.1</b> LM</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="algorithms.html"><a href="algorithms.html#trees"><i class="fa fa-check"></i><b>2.3</b> Trees</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="algorithms.html"><a href="algorithms.html#cart"><i class="fa fa-check"></i><b>2.3.1</b> CART</a></li>
<li class="chapter" data-level="2.3.2" data-path="algorithms.html"><a href="algorithms.html#bagging"><i class="fa fa-check"></i><b>2.3.2</b> Bagging</a></li>
<li class="chapter" data-level="2.3.3" data-path="algorithms.html"><a href="algorithms.html#rf"><i class="fa fa-check"></i><b>2.3.3</b> RF</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="algorithms.html"><a href="algorithms.html#boosting"><i class="fa fa-check"></i><b>2.4</b> Boosting</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="algorithms.html"><a href="algorithms.html#adaboost"><i class="fa fa-check"></i><b>2.4.1</b> Adaboost</a></li>
<li class="chapter" data-level="2.4.2" data-path="algorithms.html"><a href="algorithms.html#gbm-boost"><i class="fa fa-check"></i><b>2.4.2</b> GBM boost</a></li>
<li class="chapter" data-level="2.4.3" data-path="algorithms.html"><a href="algorithms.html#xgboost"><i class="fa fa-check"></i><b>2.4.3</b> XGBoost</a></li>
<li class="chapter" data-level="2.4.4" data-path="algorithms.html"><a href="algorithms.html#light-gbm-boost"><i class="fa fa-check"></i><b>2.4.4</b> Light GBM boost</a></li>
<li class="chapter" data-level="2.4.5" data-path="algorithms.html"><a href="algorithms.html#catboost"><i class="fa fa-check"></i><b>2.4.5</b> Catboost</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="algorithms.html"><a href="algorithms.html#other-non-parametric"><i class="fa fa-check"></i><b>2.5</b> Other Non-parametric</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="algorithms.html"><a href="algorithms.html#knn"><i class="fa fa-check"></i><b>2.5.1</b> KNN</a></li>
<li class="chapter" data-level="2.5.2" data-path="algorithms.html"><a href="algorithms.html#nueralnet"><i class="fa fa-check"></i><b>2.5.2</b> Nueralnet</a></li>
<li class="chapter" data-level="2.5.3" data-path="algorithms.html"><a href="algorithms.html#svm"><i class="fa fa-check"></i><b>2.5.3</b> SVM</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="binary-application.html"><a href="binary-application.html"><i class="fa fa-check"></i><b>3</b> Binary Application</a>
<ul>
<li class="chapter" data-level="3.1" data-path="binary-application.html"><a href="binary-application.html#data-1"><i class="fa fa-check"></i><b>3.1</b> Data</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="binary-application.html"><a href="binary-application.html#data-prep"><i class="fa fa-check"></i><b>3.1.1</b> Data Prep</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="binary-application.html"><a href="binary-application.html#model-selection"><i class="fa fa-check"></i><b>3.2</b> Model Selection</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="binary-application.html"><a href="binary-application.html#functions"><i class="fa fa-check"></i><b>3.2.1</b> Functions</a></li>
<li class="chapter" data-level="3.2.2" data-path="binary-application.html"><a href="binary-application.html#xgb"><i class="fa fa-check"></i><b>3.2.2</b> XGB</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="binary-application.html"><a href="binary-application.html#comparisions"><i class="fa fa-check"></i><b>3.3</b> Comparisions</a></li>
<li class="chapter" data-level="3.4" data-path="binary-application.html"><a href="binary-application.html#statistic-selection"><i class="fa fa-check"></i><b>3.4</b> Statistic selection</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="binary-application.html"><a href="binary-application.html#section"><i class="fa fa-check"></i><b>3.4.1</b> 0.5</a></li>
<li class="chapter" data-level="3.4.2" data-path="binary-application.html"><a href="binary-application.html#youdens-j-statistic"><i class="fa fa-check"></i><b>3.4.2</b> Youden’s J Statistic</a></li>
<li class="chapter" data-level="3.4.3" data-path="binary-application.html"><a href="binary-application.html#fscore"><i class="fa fa-check"></i><b>3.4.3</b> Fscore</a></li>
<li class="chapter" data-level="3.4.4" data-path="binary-application.html"><a href="binary-application.html#roc-curve"><i class="fa fa-check"></i><b>3.4.4</b> ROC curve</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="regressional-application.html"><a href="regressional-application.html"><i class="fa fa-check"></i><b>4</b> Regressional Application</a>
<ul>
<li class="chapter" data-level="4.1" data-path="regressional-application.html"><a href="regressional-application.html#data-2"><i class="fa fa-check"></i><b>4.1</b> Data</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="regressional-application.html"><a href="regressional-application.html#data-prep-1"><i class="fa fa-check"></i><b>4.1.1</b> Data Prep</a></li>
<li class="chapter" data-level="4.1.2" data-path="regressional-application.html"><a href="regressional-application.html#data-explorations"><i class="fa fa-check"></i><b>4.1.2</b> Data Explorations</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="regressional-application.html"><a href="regressional-application.html#model-selection-1"><i class="fa fa-check"></i><b>4.2</b> Model Selection</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="regressional-application.html"><a href="regressional-application.html#rf-1"><i class="fa fa-check"></i><b>4.2.1</b> RF</a></li>
<li class="chapter" data-level="4.2.2" data-path="regressional-application.html"><a href="regressional-application.html#lm-1"><i class="fa fa-check"></i><b>4.2.2</b> LM</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="imbalanced-application.html"><a href="imbalanced-application.html"><i class="fa fa-check"></i><b>5</b> Imbalanced Application</a>
<ul>
<li class="chapter" data-level="5.1" data-path="imbalanced-application.html"><a href="imbalanced-application.html#data-3"><i class="fa fa-check"></i><b>5.1</b> Data</a></li>
<li class="chapter" data-level="5.2" data-path="imbalanced-application.html"><a href="imbalanced-application.html#approaches"><i class="fa fa-check"></i><b>5.2</b> Approaches</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="imbalanced-application.html"><a href="imbalanced-application.html#no-changes"><i class="fa fa-check"></i><b>5.2.1</b> No changes</a></li>
<li class="chapter" data-level="5.2.2" data-path="imbalanced-application.html"><a href="imbalanced-application.html#undersample"><i class="fa fa-check"></i><b>5.2.2</b> Undersample</a></li>
<li class="chapter" data-level="5.2.3" data-path="imbalanced-application.html"><a href="imbalanced-application.html#oversampling"><i class="fa fa-check"></i><b>5.2.3</b> Oversampling</a></li>
<li class="chapter" data-level="5.2.4" data-path="imbalanced-application.html"><a href="imbalanced-application.html#smoteing"><i class="fa fa-check"></i><b>5.2.4</b> Smoteing</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="imbalanced-application.html"><a href="imbalanced-application.html#statistic-selection-1"><i class="fa fa-check"></i><b>5.3</b> Statistic selection</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="speeds.html"><a href="speeds.html"><i class="fa fa-check"></i><b>6</b> Speeds</a>
<ul>
<li class="chapter" data-level="6.1" data-path="speeds.html"><a href="speeds.html#functions-to-run-the-tests"><i class="fa fa-check"></i><b>6.1</b> Functions to run the tests</a></li>
<li class="chapter" data-level="6.2" data-path="speeds.html"><a href="speeds.html#data-4"><i class="fa fa-check"></i><b>6.2</b> Data</a></li>
<li class="chapter" data-level="6.3" data-path="speeds.html"><a href="speeds.html#rows"><i class="fa fa-check"></i><b>6.3</b> 10,000 rows</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="speeds.html"><a href="speeds.html#with-a-normal-matrix"><i class="fa fa-check"></i><b>6.3.1</b> With a normal Matrix</a></li>
<li class="chapter" data-level="6.3.2" data-path="speeds.html"><a href="speeds.html#with-a-sparse-matrix"><i class="fa fa-check"></i><b>6.3.2</b> With a sparse matrix</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="speeds.html"><a href="speeds.html#rows-1"><i class="fa fa-check"></i><b>6.4</b> 500,000 rows</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="speeds.html"><a href="speeds.html#with-a-normal-matrix-1"><i class="fa fa-check"></i><b>6.4.1</b> With a normal Matrix</a></li>
<li class="chapter" data-level="6.4.2" data-path="speeds.html"><a href="speeds.html#with-a-sparse-matrix-1"><i class="fa fa-check"></i><b>6.4.2</b> With a sparse matrix</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="speeds.html"><a href="speeds.html#presentations"><i class="fa fa-check"></i><b>6.5</b> Presentations</a></li>
<li class="chapter" data-level="6.6" data-path="speeds.html"><a href="speeds.html#analysis"><i class="fa fa-check"></i><b>6.6</b> Analysis</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="speeds.html"><a href="speeds.html#graphs"><i class="fa fa-check"></i><b>6.6.1</b> Graphs</a></li>
<li class="chapter" data-level="6.6.2" data-path="speeds.html"><a href="speeds.html#takaways"><i class="fa fa-check"></i><b>6.6.2</b> Takaways</a></li>
<li class="chapter" data-level="6.6.3" data-path="speeds.html"><a href="speeds.html#things-to-change"><i class="fa fa-check"></i><b>6.6.3</b> Things to change</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="multi-variable-classification.html"><a href="multi-variable-classification.html"><i class="fa fa-check"></i><b>7</b> Multi Variable Classification</a>
<ul>
<li class="chapter" data-level="7.1" data-path="multi-variable-classification.html"><a href="multi-variable-classification.html#data-5"><i class="fa fa-check"></i><b>7.1</b> Data</a></li>
<li class="chapter" data-level="7.2" data-path="multi-variable-classification.html"><a href="multi-variable-classification.html#aucs"><i class="fa fa-check"></i><b>7.2</b> AUCs</a></li>
<li class="chapter" data-level="7.3" data-path="multi-variable-classification.html"><a href="multi-variable-classification.html#confusion-table"><i class="fa fa-check"></i><b>7.3</b> Confusion Table</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="h20.html"><a href="h20.html"><i class="fa fa-check"></i><b>8</b> h20</a>
<ul>
<li class="chapter" data-level="8.1" data-path="h20.html"><a href="h20.html#set-up"><i class="fa fa-check"></i><b>8.1</b> Set-Up</a></li>
<li class="chapter" data-level="8.2" data-path="h20.html"><a href="h20.html#eda"><i class="fa fa-check"></i><b>8.2</b> EDA</a></li>
<li class="chapter" data-level="8.3" data-path="h20.html"><a href="h20.html#models-h20"><i class="fa fa-check"></i><b>8.3</b> Models h20</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="h20.html"><a href="h20.html#random-forest"><i class="fa fa-check"></i><b>8.3.1</b> Random Forest</a></li>
<li class="chapter" data-level="8.3.2" data-path="h20.html"><a href="h20.html#gradient-boosting-machine"><i class="fa fa-check"></i><b>8.3.2</b> Gradient Boosting Machine</a></li>
<li class="chapter" data-level="8.3.3" data-path="h20.html"><a href="h20.html#automl"><i class="fa fa-check"></i><b>8.3.3</b> AutoML</a></li>
<li class="chapter" data-level="8.3.4" data-path="h20.html"><a href="h20.html#xgboost-1"><i class="fa fa-check"></i><b>8.3.4</b> XGBoost</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="econometrics.html"><a href="econometrics.html"><i class="fa fa-check"></i><b>9</b> Econometrics</a>
<ul>
<li class="chapter" data-level="9.1" data-path="econometrics.html"><a href="econometrics.html#a.-california-test-scores"><i class="fa fa-check"></i><b>9.1</b> A. California Test Scores</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="econometrics.html"><a href="econometrics.html#introduction"><i class="fa fa-check"></i><b>9.1.1</b> Introduction</a></li>
<li class="chapter" data-level="9.1.2" data-path="econometrics.html"><a href="econometrics.html#theory"><i class="fa fa-check"></i><b>9.1.2</b> Theory</a></li>
<li class="chapter" data-level="9.1.3" data-path="econometrics.html"><a href="econometrics.html#building-the-models"><i class="fa fa-check"></i><b>9.1.3</b> Building The models</a></li>
<li class="chapter" data-level="9.1.4" data-path="econometrics.html"><a href="econometrics.html#proofs"><i class="fa fa-check"></i><b>9.1.4</b> Proofs</a></li>
<li class="chapter" data-level="9.1.5" data-path="econometrics.html"><a href="econometrics.html#tests"><i class="fa fa-check"></i><b>9.1.5</b> Tests</a></li>
<li class="chapter" data-level="9.1.6" data-path="econometrics.html"><a href="econometrics.html#significances-and-tests"><i class="fa fa-check"></i><b>9.1.6</b> Significances and Tests</a></li>
<li class="chapter" data-level="9.1.7" data-path="econometrics.html"><a href="econometrics.html#conclusion"><i class="fa fa-check"></i><b>9.1.7</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="econometrics.html"><a href="econometrics.html#auto-correlation"><i class="fa fa-check"></i><b>9.2</b> Auto Correlation</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="parrallel-processing.html"><a href="parrallel-processing.html"><i class="fa fa-check"></i><b>10</b> Parrallel Processing</a>
<ul>
<li class="chapter" data-level="10.1" data-path="parrallel-processing.html"><a href="parrallel-processing.html#parallel-with-parlapply"><i class="fa fa-check"></i><b>10.1</b> 1. parallel with parLapply</a></li>
<li class="chapter" data-level="10.2" data-path="parrallel-processing.html"><a href="parrallel-processing.html#foreach-with-doparallel"><i class="fa fa-check"></i><b>10.2</b> 2. foreach with doParallel</a></li>
<li class="chapter" data-level="10.3" data-path="parrallel-processing.html"><a href="parrallel-processing.html#future-with-future.apply"><i class="fa fa-check"></i><b>10.3</b> 3. future with future.apply</a></li>
<li class="chapter" data-level="10.4" data-path="parrallel-processing.html"><a href="parrallel-processing.html#purrr-with-furrr"><i class="fa fa-check"></i><b>10.4</b> 4. purrr with furrr</a></li>
<li class="chapter" data-level="10.5" data-path="parrallel-processing.html"><a href="parrallel-processing.html#purrr-synchronously"><i class="fa fa-check"></i><b>10.5</b> 5. purrr Synchronously</a></li>
<li class="chapter" data-level="10.6" data-path="parrallel-processing.html"><a href="parrallel-processing.html#comparisions-1"><i class="fa fa-check"></i><b>10.6</b> comparisions</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="randomforestinsight.html"><a href="randomforestinsight.html"><i class="fa fa-check"></i><b>11</b> RandomForestInsight</a></li>
<li class="chapter" data-level="12" data-path="sequential-data-embedding.html"><a href="sequential-data-embedding.html"><i class="fa fa-check"></i><b>12</b> Sequential Data Embedding</a></li>
<li class="chapter" data-level="13" data-path="hcc_survey_analysis.html"><a href="hcc_survey_analysis.html"><i class="fa fa-check"></i><b>13</b> HCC_Survey_Analysis</a>
<ul>
<li class="chapter" data-level="13.1" data-path="hcc_survey_analysis.html"><a href="hcc_survey_analysis.html#our-data-and-purpose"><i class="fa fa-check"></i><b>13.1</b> Our data and Purpose</a></li>
<li class="chapter" data-level="13.2" data-path="hcc_survey_analysis.html"><a href="hcc_survey_analysis.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>13.2</b> Exploratory Data Analysis</a></li>
<li class="chapter" data-level="13.3" data-path="hcc_survey_analysis.html"><a href="hcc_survey_analysis.html#modeling-random-forest"><i class="fa fa-check"></i><b>13.3</b> Modeling Random Forest</a></li>
<li class="chapter" data-level="13.4" data-path="hcc_survey_analysis.html"><a href="hcc_survey_analysis.html#global-importance"><i class="fa fa-check"></i><b>13.4</b> Global Importance</a></li>
<li class="chapter" data-level="13.5" data-path="hcc_survey_analysis.html"><a href="hcc_survey_analysis.html#local-importance"><i class="fa fa-check"></i><b>13.5</b> Local Importance</a></li>
<li class="chapter" data-level="13.6" data-path="hcc_survey_analysis.html"><a href="hcc_survey_analysis.html#partial-dependence-plots"><i class="fa fa-check"></i><b>13.6</b> Partial Dependence Plots</a></li>
<li class="chapter" data-level="13.7" data-path="hcc_survey_analysis.html"><a href="hcc_survey_analysis.html#random-forest-explainer"><i class="fa fa-check"></i><b>13.7</b> Random Forest Explainer</a></li>
<li class="chapter" data-level="13.8" data-path="hcc_survey_analysis.html"><a href="hcc_survey_analysis.html#final-notes"><i class="fa fa-check"></i><b>13.8</b> Final Notes</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="what-is-stacked-ensambled.html"><a href="what-is-stacked-ensambled.html"><i class="fa fa-check"></i><b>14</b> What Is Stacked Ensambled</a></li>
<li class="chapter" data-level="15" data-path="intro-econ-stats.html"><a href="intro-econ-stats.html"><i class="fa fa-check"></i><b>15</b> Intro Econ Stats</a></li>
<li class="chapter" data-level="16" data-path="nfl.html"><a href="nfl.html"><i class="fa fa-check"></i><b>16</b> NFL</a>
<ul>
<li class="chapter" data-level="16.1" data-path="nfl.html"><a href="nfl.html#wbs"><i class="fa fa-check"></i><b>16.1</b> WBs</a></li>
<li class="chapter" data-level="16.2" data-path="nfl.html"><a href="nfl.html#rbs"><i class="fa fa-check"></i><b>16.2</b> RBs</a></li>
<li class="chapter" data-level="16.3" data-path="nfl.html"><a href="nfl.html#qbs"><i class="fa fa-check"></i><b>16.3</b> QBs</a></li>
<li class="chapter" data-level="16.4" data-path="nfl.html"><a href="nfl.html#plots-and-analysis"><i class="fa fa-check"></i><b>16.4</b> Plots and Analysis</a></li>
<li class="chapter" data-level="16.5" data-path="nfl.html"><a href="nfl.html#lists-to-do"><i class="fa fa-check"></i><b>16.5</b> Lists to do</a></li>
<li class="chapter" data-level="16.6" data-path="nfl.html"><a href="nfl.html#team-mates"><i class="fa fa-check"></i><b>16.6</b> team mates</a></li>
<li class="chapter" data-level="16.7" data-path="nfl.html"><a href="nfl.html#testing"><i class="fa fa-check"></i><b>16.7</b> Testing</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Machine Learning Applications</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="h20" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">Chapter 8</span> h20<a href="h20.html#h20" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="set-up" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> Set-Up<a href="h20.html#set-up" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="h20.html#cb187-1" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb187-2"><a href="h20.html#cb187-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb187-3"><a href="h20.html#cb187-3" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb187-4"><a href="h20.html#cb187-4" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb187-5"><a href="h20.html#cb187-5" tabindex="-1"></a><span class="fu">library</span>(DataExplorer)</span>
<span id="cb187-6"><a href="h20.html#cb187-6" tabindex="-1"></a><span class="fu">library</span>(caret)</span>
<span id="cb187-7"><a href="h20.html#cb187-7" tabindex="-1"></a><span class="fu">library</span>(GGally)</span></code></pre></div>
<pre><code>## Registered S3 method overwritten by &#39;GGally&#39;:
##   method from   
##   +.gg   ggplot2</code></pre>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="h20.html#cb189-1" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span></code></pre></div>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="h20.html#cb190-1" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb190-2"><a href="h20.html#cb190-2" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;machine failure.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 10000 Columns: 14
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr  (2): Product ID, Type
## dbl (12): UDI, Air temperature [K], Process temperature [K], Rotational spee...
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="h20.html#cb192-1" tabindex="-1"></a><span class="fu">glimpse</span>(data)</span></code></pre></div>
<pre><code>## Rows: 10,000
## Columns: 14
## $ UDI                       &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 1…
## $ `Product ID`              &lt;chr&gt; &quot;M14860&quot;, &quot;L47181&quot;, &quot;L47182&quot;, &quot;L47183&quot;, &quot;L47…
## $ Type                      &lt;chr&gt; &quot;M&quot;, &quot;L&quot;, &quot;L&quot;, &quot;L&quot;, &quot;L&quot;, &quot;M&quot;, &quot;L&quot;, &quot;L&quot;, &quot;M&quot;,…
## $ `Air temperature [K]`     &lt;dbl&gt; 298.1, 298.2, 298.1, 298.2, 298.2, 298.1, 29…
## $ `Process temperature [K]` &lt;dbl&gt; 308.6, 308.7, 308.5, 308.6, 308.7, 308.6, 30…
## $ `Rotational speed [rpm]`  &lt;dbl&gt; 1551, 1408, 1498, 1433, 1408, 1425, 1558, 15…
## $ `Torque [Nm]`             &lt;dbl&gt; 42.8, 46.3, 49.4, 39.5, 40.0, 41.9, 42.4, 40…
## $ `Tool wear [min]`         &lt;dbl&gt; 0, 3, 5, 7, 9, 11, 14, 16, 18, 21, 24, 29, 3…
## $ `Machine failure`         &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
## $ TWF                       &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
## $ HDF                       &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
## $ PWF                       &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
## $ OSF                       &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
## $ RNF                       &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…</code></pre>
<p>ID: A unique identifier for each observation in the dataset.
Product Id: A combined identifier that starts with the machine type followed by a numeric identifier.
Type: Categorizes the type of machine, which can affect its failure rates and operational characteristics.
Air Temperature [K]: The ambient air temperature around the machine, measured in Kelvin, which might influence machine performance.
Process Temperature [K]: The operational temperature of the machine during the process, also measured in Kelvin.
Rotational Speed [rpm]: Indicates how fast the machine operates, measured in rotations per minute.
Torque [Nm]: Measures the twisting force that causes rotation, in Newton-meters. High torque may indicate higher operational stress.
Tool Wear [min]: Tracks the amount of wear on the machine’s tools, suggesting when maintenance or replacement might be necessary.
Machine Failure: The target variable indicating if a failure occurred (1) or not (0).
Additional columns related to specific failure types include:</p>
<p>TWF (Tool Wear Failure): Indicates failures due to the tool wearing out.
HDF (Heat Dissipation Failure): Relates to failures caused by inadequate heat dissipation.
PWF (Power Failure): Associated with failures due to power issues.
OSF (Overstrain Failure): Indicates failures from overstressing the machine.
RNF (Random Failure): Captures failures that are random or do not fit into other specified categories.</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="h20.html#cb194-1" tabindex="-1"></a><span class="fu">library</span>(janitor)</span></code></pre></div>
<pre><code>## Warning: package &#39;janitor&#39; was built under R version 4.3.3</code></pre>
<pre><code>## 
## Attaching package: &#39;janitor&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     chisq.test, fisher.test</code></pre>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="h20.html#cb198-1" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb198-2"><a href="h20.html#cb198-2" tabindex="-1"></a>  <span class="fu">clean_names</span>()</span></code></pre></div>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="h20.html#cb199-1" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb199-2"><a href="h20.html#cb199-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(type, twf, hdf, pwf, osf, rnf, machine_failure), as.factor))</span>
<span id="cb199-3"><a href="h20.html#cb199-3" tabindex="-1"></a></span>
<span id="cb199-4"><a href="h20.html#cb199-4" tabindex="-1"></a>data <span class="ot">&lt;-</span> data[,<span class="sc">-</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)] <span class="co"># kill the two ids</span></span>
<span id="cb199-5"><a href="h20.html#cb199-5" tabindex="-1"></a></span>
<span id="cb199-6"><a href="h20.html#cb199-6" tabindex="-1"></a></span>
<span id="cb199-7"><a href="h20.html#cb199-7" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb199-8"><a href="h20.html#cb199-8" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">y =</span> machine_failure) <span class="sc">%&gt;%</span>  </span>
<span id="cb199-9"><a href="h20.html#cb199-9" tabindex="-1"></a>  <span class="fu">relocate</span>(y, <span class="at">.before =</span> <span class="dv">1</span>)        </span></code></pre></div>
<p>The data is ready for gerneral usage</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="h20.html#cb200-1" tabindex="-1"></a><span class="fu">introduce</span>(data)</span></code></pre></div>
<pre><code>## # A tibble: 1 × 9
##    rows columns discrete_columns continuous_columns all_missing_columns
##   &lt;int&gt;   &lt;int&gt;            &lt;int&gt;              &lt;int&gt;               &lt;int&gt;
## 1 10000      12                7                  5                   0
## # ℹ 4 more variables: total_missing_values &lt;int&gt;, complete_rows &lt;int&gt;,
## #   total_observations &lt;int&gt;, memory_usage &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="h20.html#cb202-1" tabindex="-1"></a><span class="fu">plot_missing</span>(data)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-106-1.png" width="672" /></p>
</div>
<div id="eda" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> EDA<a href="h20.html#eda" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="h20.html#cb203-1" tabindex="-1"></a><span class="co"># Histograms for numerical variables</span></span>
<span id="cb203-2"><a href="h20.html#cb203-2" tabindex="-1"></a><span class="fu">plot_histogram</span>(data)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-107-1.png" width="672" /></p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="h20.html#cb204-1" tabindex="-1"></a><span class="co"># For factor variables, use bar plots</span></span>
<span id="cb204-2"><a href="h20.html#cb204-2" tabindex="-1"></a><span class="fu">plot_bar</span>(data)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-108-1.png" width="672" /></p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="h20.html#cb205-1" tabindex="-1"></a><span class="co"># Summary statistics for numerical data</span></span>
<span id="cb205-2"><a href="h20.html#cb205-2" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb205-3"><a href="h20.html#cb205-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), <span class="fu">list</span>(<span class="at">mean =</span> mean, <span class="at">sd =</span> sd, <span class="at">median =</span> median, <span class="at">IQR =</span> IQR, <span class="at">min =</span> min, <span class="at">max =</span> max)))</span></code></pre></div>
<pre><code>## # A tibble: 1 × 30
##   air_temperature_k_mean air_temperature_k_sd air_temperature_k_median
##                    &lt;dbl&gt;                &lt;dbl&gt;                    &lt;dbl&gt;
## 1                   300.                 2.00                     300.
## # ℹ 27 more variables: air_temperature_k_IQR &lt;dbl&gt;,
## #   air_temperature_k_min &lt;dbl&gt;, air_temperature_k_max &lt;dbl&gt;,
## #   process_temperature_k_mean &lt;dbl&gt;, process_temperature_k_sd &lt;dbl&gt;,
## #   process_temperature_k_median &lt;dbl&gt;, process_temperature_k_IQR &lt;dbl&gt;,
## #   process_temperature_k_min &lt;dbl&gt;, process_temperature_k_max &lt;dbl&gt;,
## #   rotational_speed_rpm_mean &lt;dbl&gt;, rotational_speed_rpm_sd &lt;dbl&gt;,
## #   rotational_speed_rpm_median &lt;dbl&gt;, rotational_speed_rpm_IQR &lt;dbl&gt;, …</code></pre>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="h20.html#cb207-1" tabindex="-1"></a><span class="co"># Identify zero variance features</span></span>
<span id="cb207-2"><a href="h20.html#cb207-2" tabindex="-1"></a>zero_var_indices <span class="ot">&lt;-</span> <span class="fu">nearZeroVar</span>(data, <span class="at">saveMetrics =</span> <span class="cn">TRUE</span>)</span>
<span id="cb207-3"><a href="h20.html#cb207-3" tabindex="-1"></a></span>
<span id="cb207-4"><a href="h20.html#cb207-4" tabindex="-1"></a><span class="co"># View the metrics to determine which variables have zero or near-zero variance</span></span>
<span id="cb207-5"><a href="h20.html#cb207-5" tabindex="-1"></a><span class="fu">print</span>(zero_var_indices)</span></code></pre></div>
<pre><code>##                        freqRatio percentUnique zeroVar   nzv
## y                      28.498525          0.02   FALSE  TRUE
## type                    2.002002          0.03   FALSE FALSE
## air_temperature_k       1.207792          0.93   FALSE FALSE
## process_temperature_k   1.161172          0.82   FALSE FALSE
## rotational_speed_rpm    1.116279          9.41   FALSE FALSE
## torque_nm               1.040000          5.77   FALSE FALSE
## tool_wear_min           1.739130          2.46   FALSE FALSE
## twf                   216.391304          0.02   FALSE  TRUE
## hdf                    85.956522          0.02   FALSE  TRUE
## pwf                   104.263158          0.02   FALSE  TRUE
## osf                   101.040816          0.02   FALSE  TRUE
## rnf                   525.315789          0.02   FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="h20.html#cb209-1" tabindex="-1"></a><span class="co"># Optionally, print the names of columns with zero variance</span></span>
<span id="cb209-2"><a href="h20.html#cb209-2" tabindex="-1"></a>zero_var_columns <span class="ot">&lt;-</span> <span class="fu">names</span>(data)[zero_var_indices<span class="sc">$</span>nzv]</span>
<span id="cb209-3"><a href="h20.html#cb209-3" tabindex="-1"></a><span class="fu">print</span>(zero_var_columns)</span></code></pre></div>
<pre><code>## [1] &quot;y&quot;   &quot;twf&quot; &quot;hdf&quot; &quot;pwf&quot; &quot;osf&quot; &quot;rnf&quot;</code></pre>
<p>for now we wont care about the type of failure we just will care about whether it failed or not</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="h20.html#cb211-1" tabindex="-1"></a><span class="co"># right now i am forced to use the numerical positions of the collumns due to issues knitting into a book. in practice we want to use  select and name the columns</span></span>
<span id="cb211-2"><a href="h20.html#cb211-2" tabindex="-1"></a>data <span class="ot">&lt;-</span> data[, <span class="sc">-</span>(<span class="dv">8</span><span class="sc">:</span><span class="dv">12</span>)]</span></code></pre></div>
</div>
<div id="models-h20" class="section level2 hasAnchor" number="8.3">
<h2><span class="header-section-number">8.3</span> Models h20<a href="h20.html#models-h20" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="h20.html#cb212-1" tabindex="-1"></a><span class="fu">library</span>(h2o)</span></code></pre></div>
<pre><code>## Warning: package &#39;h2o&#39; was built under R version 4.3.3</code></pre>
<pre><code>## 
## ----------------------------------------------------------------------
## 
## Your next step is to start H2O:
##     &gt; h2o.init()
## 
## For H2O package documentation, ask for help:
##     &gt; ??h2o
## 
## After starting H2O, you can use the Web UI at http://localhost:54321
## For more information visit https://docs.h2o.ai
## 
## ----------------------------------------------------------------------</code></pre>
<pre><code>## 
## Attaching package: &#39;h2o&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:lubridate&#39;:
## 
##     day, hour, month, week, year</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     cor, sd, var</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     %*%, %in%, &amp;&amp;, ||, apply, as.factor, as.numeric, colnames,
##     colnames&lt;-, ifelse, is.character, is.factor, is.numeric, log,
##     log10, log1p, log2, round, signif, trunc</code></pre>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="h20.html#cb219-1" tabindex="-1"></a><span class="co">#dir.create(&quot;C:/Users/simon/Dropbox/github_ML/Codes&amp;Processes/h2o_logs&quot;)</span></span></code></pre></div>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="h20.html#cb220-1" tabindex="-1"></a><span class="fu">h2o.init</span>(<span class="at">max_mem_size =</span> <span class="st">&quot;12g&quot;</span>, <span class="at">log_dir =</span> <span class="st">&quot;C:/Users/simon/Dropbox/github_ML/Codes&amp;Processes/h2o_logs&quot;</span>)</span></code></pre></div>
<pre><code>## 
## H2O is not running yet, starting it now...
## 
## Note:  In case of errors look at the following log files:
##     C:\Users\simon\AppData\Local\Temp\RtmpYLIvSo\file948eb65276/h2o_simon_started_from_r.out
##     C:\Users\simon\AppData\Local\Temp\RtmpYLIvSo\file94823196abc/h2o_simon_started_from_r.err
## 
## 
## Starting H2O JVM and connecting:  Connection successful!
## 
## R is connected to the H2O cluster: 
##     H2O cluster uptime:         4 seconds 120 milliseconds 
##     H2O cluster timezone:       America/Halifax 
##     H2O data parsing timezone:  UTC 
##     H2O cluster version:        3.44.0.3 
##     H2O cluster version age:    1 year and 8 days 
##     H2O cluster name:           H2O_started_from_R_simon_dsf270 
##     H2O cluster total nodes:    1 
##     H2O cluster total memory:   10.66 GB 
##     H2O cluster total cores:    12 
##     H2O cluster allowed cores:  12 
##     H2O cluster healthy:        TRUE 
##     H2O Connection ip:          localhost 
##     H2O Connection port:        54321 
##     H2O Connection proxy:       NA 
##     H2O Internal Security:      FALSE 
##     R Version:                  R version 4.3.2 (2023-10-31 ucrt)</code></pre>
<pre><code>## Warning in h2o.clusterInfo(): 
## Your H2O cluster version is (1 year and 8 days) old. There may be a newer version available.
## Please download and install the latest version from: https://h2o-release.s3.amazonaws.com/h2o/latest_stable.html</code></pre>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="h20.html#cb223-1" tabindex="-1"></a>data_h2o <span class="ot">&lt;-</span> <span class="fu">as.h2o</span>(data)</span></code></pre></div>
<pre><code>##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%</code></pre>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="h20.html#cb225-1" tabindex="-1"></a>data_h2o<span class="sc">$</span>y <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(data_h2o<span class="sc">$</span>y)</span></code></pre></div>
<div id="random-forest" class="section level3 hasAnchor" number="8.3.1">
<h3><span class="header-section-number">8.3.1</span> Random Forest<a href="h20.html#random-forest" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="h20.html#cb226-1" tabindex="-1"></a>auc_values <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb226-2"><a href="h20.html#cb226-2" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>) {</span>
<span id="cb226-3"><a href="h20.html#cb226-3" tabindex="-1"></a>  <span class="co"># Split the data into train and test sets</span></span>
<span id="cb226-4"><a href="h20.html#cb226-4" tabindex="-1"></a>  splits <span class="ot">&lt;-</span> <span class="fu">h2o.splitFrame</span>(<span class="at">data =</span> data_h2o, <span class="at">ratios =</span> <span class="fl">0.8</span>)</span>
<span id="cb226-5"><a href="h20.html#cb226-5" tabindex="-1"></a>  train <span class="ot">&lt;-</span> splits[[<span class="dv">1</span>]]</span>
<span id="cb226-6"><a href="h20.html#cb226-6" tabindex="-1"></a>  test <span class="ot">&lt;-</span> splits[[<span class="dv">2</span>]]</span>
<span id="cb226-7"><a href="h20.html#cb226-7" tabindex="-1"></a></span>
<span id="cb226-8"><a href="h20.html#cb226-8" tabindex="-1"></a>  <span class="co"># Train a Random Forest model</span></span>
<span id="cb226-9"><a href="h20.html#cb226-9" tabindex="-1"></a>  rf_model <span class="ot">&lt;-</span> <span class="fu">h2o.randomForest</span>(</span>
<span id="cb226-10"><a href="h20.html#cb226-10" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">names</span>(train)[<span class="sc">-</span><span class="fu">which</span>(<span class="fu">names</span>(train) <span class="sc">==</span> <span class="st">&quot;y&quot;</span>)],  </span>
<span id="cb226-11"><a href="h20.html#cb226-11" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;y&quot;</span>,                                       </span>
<span id="cb226-12"><a href="h20.html#cb226-12" tabindex="-1"></a>    <span class="at">training_frame =</span> train,</span>
<span id="cb226-13"><a href="h20.html#cb226-13" tabindex="-1"></a>    <span class="at">ntrees =</span> <span class="dv">1200</span>                               </span>
<span id="cb226-14"><a href="h20.html#cb226-14" tabindex="-1"></a>  )</span>
<span id="cb226-15"><a href="h20.html#cb226-15" tabindex="-1"></a></span>
<span id="cb226-16"><a href="h20.html#cb226-16" tabindex="-1"></a>  <span class="co"># Perform predictions</span></span>
<span id="cb226-17"><a href="h20.html#cb226-17" tabindex="-1"></a>  predictions <span class="ot">&lt;-</span> <span class="fu">h2o.predict</span>(rf_model, test)</span>
<span id="cb226-18"><a href="h20.html#cb226-18" tabindex="-1"></a></span>
<span id="cb226-19"><a href="h20.html#cb226-19" tabindex="-1"></a>  <span class="co"># Get performance object</span></span>
<span id="cb226-20"><a href="h20.html#cb226-20" tabindex="-1"></a>  perf <span class="ot">&lt;-</span> <span class="fu">h2o.performance</span>(rf_model, <span class="at">newdata =</span> test)</span>
<span id="cb226-21"><a href="h20.html#cb226-21" tabindex="-1"></a></span>
<span id="cb226-22"><a href="h20.html#cb226-22" tabindex="-1"></a>  <span class="co"># Calculate AUC</span></span>
<span id="cb226-23"><a href="h20.html#cb226-23" tabindex="-1"></a>  auc_values[i] <span class="ot">&lt;-</span> <span class="fu">h2o.auc</span>(perf)</span>
<span id="cb226-24"><a href="h20.html#cb226-24" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |===============                                                       |  21%  |                                                                              |==================                                                    |  26%  |                                                                              |==========================================                            |  60%  |                                                                              |===============================================================       |  90%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |========                                                              |  11%  |                                                                              |===================                                                   |  28%  |                                                                              |============================================                          |  63%  |                                                                              |===================================================================== |  98%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |================================                                      |  45%  |                                                                              |===================================================                   |  72%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |===========                                                           |  15%  |                                                                              |====================                                                  |  28%  |                                                                              |===============================                                       |  44%  |                                                                              |==================================================                    |  72%  |                                                                              |==================================================================    |  94%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   5%  |                                                                              |=========                                                             |  13%  |                                                                              |=============                                                         |  18%  |                                                                              |====================                                                  |  29%  |                                                                              |===============================                                       |  44%  |                                                                              |==========================================                            |  60%  |                                                                              |=======================================================               |  79%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   2%  |                                                                              |========                                                              |  12%  |                                                                              |==============                                                        |  20%  |                                                                              |===================                                                   |  28%  |                                                                              |===============================                                       |  44%  |                                                                              |===================================================                   |  74%  |                                                                              |=================================================================     |  93%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   5%  |                                                                              |============                                                          |  17%  |                                                                              |=====================================                                 |  52%  |                                                                              |==============================================================        |  88%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=======                                                               |  10%  |                                                                              |=============                                                         |  19%  |                                                                              |===============================                                       |  44%  |                                                                              |====================================================                  |  74%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   6%  |                                                                              |==========                                                            |  14%  |                                                                              |===================                                                   |  27%  |                                                                              |===============================                                       |  45%  |                                                                              |==================================================                    |  71%  |                                                                              |==============================================================        |  88%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=======                                                               |   9%  |                                                                              |=============                                                         |  19%  |                                                                              |===================================                                   |  50%  |                                                                              |===============================================                       |  68%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   9%  |                                                                              |==========                                                            |  14%  |                                                                              |====================                                                  |  29%  |                                                                              |========================                                              |  34%  |                                                                              |==========================================                            |  59%  |                                                                              |============================================================          |  85%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   3%  |                                                                              |==========                                                            |  14%  |                                                                              |===============                                                       |  21%  |                                                                              |==============================                                        |  42%  |                                                                              |=====================================================                 |  75%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   5%  |                                                                              |========                                                              |  11%  |                                                                              |=================                                                     |  25%  |                                                                              |======================                                                |  31%  |                                                                              |===================================                                   |  50%  |                                                                              |=======================================                               |  56%  |                                                                              |======================================================                |  77%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |========                                                              |  11%  |                                                                              |=============                                                         |  19%  |                                                                              |=======================                                               |  33%  |                                                                              |=======================================                               |  56%  |                                                                              |=============================================================         |  87%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====================                                                  |  28%  |                                                                              |=========================================                             |  58%  |                                                                              |==========================================================            |  83%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   9%  |                                                                              |===============                                                       |  22%  |                                                                              |===========================                                           |  39%  |                                                                              |===================================================                   |  73%  |                                                                              |======================================================================|  99%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   3%  |                                                                              |=======                                                               |  10%  |                                                                              |=================                                                     |  24%  |                                                                              |=================================                                     |  47%  |                                                                              |=====================================================                 |  75%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |============                                                          |  16%  |                                                                              |=================================                                     |  48%  |                                                                              |======================================================                |  78%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |===========                                                           |  15%  |                                                                              |==================                                                    |  25%  |                                                                              |=====================================                                 |  52%  |                                                                              |=========================================================             |  82%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |==========                                                            |  14%  |                                                                              |=========================                                             |  36%  |                                                                              |===============================================                       |  67%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |=========                                                             |  13%  |                                                                              |=============                                                         |  18%  |                                                                              |========================                                              |  34%  |                                                                              |===============================                                       |  44%  |                                                                              |===================================================                   |  73%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |=============                                                         |  19%  |                                                                              |===================================                                   |  50%  |                                                                              |=========================================================             |  81%  |                                                                              |==================================================================    |  94%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   5%  |                                                                              |======                                                                |   8%  |                                                                              |==================                                                    |  26%  |                                                                              |==================================                                    |  49%  |                                                                              |=========================================================             |  82%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |===========                                                           |  15%  |                                                                              |======================                                                |  32%  |                                                                              |============================================                          |  63%  |                                                                              |==============================================================        |  89%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   5%  |                                                                              |========                                                              |  12%  |                                                                              |============                                                          |  17%  |                                                                              |======================                                                |  32%  |                                                                              |=================================                                     |  48%  |                                                                              |===============================================                       |  67%  |                                                                              |==================================================================    |  94%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |===========                                                           |  16%  |                                                                              |==========================                                            |  37%  |                                                                              |==============================================                        |  66%  |                                                                              |===================================================================   |  96%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |==========                                                            |  14%  |                                                                              |=============                                                         |  18%  |                                                                              |=====================                                                 |  30%  |                                                                              |=================================                                     |  46%  |                                                                              |====================================                                  |  52%  |                                                                              |=============================================                         |  64%  |                                                                              |======================================================                |  78%  |                                                                              |===================================================================== |  98%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |==========                                                            |  14%  |                                                                              |=====================                                                 |  29%  |                                                                              |=========================                                             |  35%  |                                                                              |====================================                                  |  51%  |                                                                              |==================================================                    |  72%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   8%  |                                                                              |==========                                                            |  14%  |                                                                              |=================                                                     |  24%  |                                                                              |===============================                                       |  44%  |                                                                              |=======================================================               |  78%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=========                                                             |  13%  |                                                                              |===================                                                   |  27%  |                                                                              |================================                                      |  46%  |                                                                              |================================================                      |  69%  |                                                                              |===========================================================           |  84%  |                                                                              |================================================================      |  92%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=======                                                               |  10%  |                                                                              |===================                                                   |  27%  |                                                                              |=================================                                     |  47%  |                                                                              |=================================================                     |  71%  |                                                                              |==================================================================    |  95%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   9%  |                                                                              |============                                                          |  17%  |                                                                              |=========================                                             |  36%  |                                                                              |==================================                                    |  49%  |                                                                              |===========================================================           |  85%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   9%  |                                                                              |===========                                                           |  16%  |                                                                              |===============                                                       |  22%  |                                                                              |==========================                                            |  36%  |                                                                              |===============================================                       |  68%  |                                                                              |=================================================================     |  94%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |========                                                              |  12%  |                                                                              |==============                                                        |  20%  |                                                                              |=======================                                               |  33%  |                                                                              |================================                                      |  46%  |                                                                              |=========================================                             |  58%  |                                                                              |==================================================                    |  72%  |                                                                              |=======================================================               |  78%  |                                                                              |===============================================================       |  90%  |                                                                              |==================================================================    |  94%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   2%  |                                                                              |=====                                                                 |   7%  |                                                                              |=============                                                         |  19%  |                                                                              |====================                                                  |  29%  |                                                                              |==============================                                        |  43%  |                                                                              |=========================================                             |  59%  |                                                                              |=======================================================               |  79%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |=========                                                             |  12%  |                                                                              |==============                                                        |  20%  |                                                                              |===========================                                           |  38%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   2%  |                                                                              |======                                                                |   9%  |                                                                              |==========                                                            |  14%  |                                                                              |============                                                          |  17%  |                                                                              |================                                                      |  23%  |                                                                              |=========================                                             |  35%  |                                                                              |==================================                                    |  49%  |                                                                              |============================================                          |  63%  |                                                                              |=======================================================               |  78%  |                                                                              |==========================================================            |  82%  |                                                                              |=============================================================         |  87%  |                                                                              |==================================================================    |  94%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |======                                                                |   9%  |                                                                              |=============                                                         |  18%  |                                                                              |===============                                                       |  22%  |                                                                              |======================                                                |  32%  |                                                                              |======================================                                |  54%  |                                                                              |==========================================================            |  83%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=                                                                     |   2%  |                                                                              |=====                                                                 |   7%  |                                                                              |============                                                          |  17%  |                                                                              |=====================                                                 |  30%  |                                                                              |=================================                                     |  47%  |                                                                              |============================================                          |  64%  |                                                                              |===========================================================           |  84%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   8%  |                                                                              |==============                                                        |  20%  |                                                                              |====================================                                  |  51%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |===========                                                           |  16%  |                                                                              |=============                                                         |  19%  |                                                                              |=================                                                     |  24%  |                                                                              |===========================                                           |  39%  |                                                                              |===========================================                           |  61%  |                                                                              |================================================================      |  92%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |========                                                              |  12%  |                                                                              |================                                                      |  23%  |                                                                              |===================================                                   |  50%  |                                                                              |====================================================                  |  75%  |                                                                              |====================================================================  |  97%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=                                                                     |   2%  |                                                                              |=====                                                                 |   7%  |                                                                              |=============                                                         |  19%  |                                                                              |===================                                                   |  28%  |                                                                              |============================                                          |  40%  |                                                                              |==================================                                    |  48%  |                                                                              |=====================================                                 |  52%  |                                                                              |==============================================                        |  65%  |                                                                              |==========================================================            |  83%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   3%  |                                                                              |======                                                                |   9%  |                                                                              |==============                                                        |  20%  |                                                                              |==================                                                    |  25%  |                                                                              |======================                                                |  31%  |                                                                              |================================                                      |  45%  |                                                                              |===========================================                           |  62%  |                                                                              |==================================================================    |  94%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=                                                                     |   2%  |                                                                              |=====                                                                 |   6%  |                                                                              |==============                                                        |  20%  |                                                                              |=======================                                               |  33%  |                                                                              |================================                                      |  46%  |                                                                              |====================================================                  |  74%  |                                                                              |================================================================      |  91%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |======                                                                |   8%  |                                                                              |==========                                                            |  15%  |                                                                              |=============                                                         |  19%  |                                                                              |====================                                                  |  28%  |                                                                              |============================                                          |  40%  |                                                                              |===================================                                   |  50%  |                                                                              |============================================                          |  63%  |                                                                              |====================================================                  |  75%  |                                                                              |=======================================================               |  78%  |                                                                              |===========================================================           |  85%  |                                                                              |==============================================================        |  88%  |                                                                              |================================================================      |  91%  |                                                                              |===================================================================   |  96%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |============                                                          |  18%  |                                                                              |=================================================================     |  93%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |=========                                                             |  12%  |                                                                              |============                                                          |  18%  |                                                                              |============================                                          |  40%  |                                                                              |===============================================                       |  67%  |                                                                              |===================================================================   |  96%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=======                                                               |  10%  |                                                                              |=================                                                     |  24%  |                                                                              |======================================                                |  55%  |                                                                              |===========================================================           |  84%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=======                                                               |  10%  |                                                                              |=========                                                             |  12%  |                                                                              |=======================                                               |  33%  |                                                                              |==============================                                        |  44%  |                                                                              |========================================                              |  57%  |                                                                              |=================================================                     |  70%  |                                                                              |============================================================          |  85%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=======                                                               |  10%  |                                                                              |=================                                                     |  24%  |                                                                              |=============================                                         |  41%  |                                                                              |=============================================                         |  64%  |                                                                              |==================================================================    |  95%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=======                                                               |   9%  |                                                                              |=========                                                             |  14%  |                                                                              |====================                                                  |  28%  |                                                                              |============================                                          |  40%  |                                                                              |====================================                                  |  51%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |========                                                              |  12%  |                                                                              |==========                                                            |  15%  |                                                                              |===========================                                           |  38%  |                                                                              |================================================                      |  68%  |                                                                              |================================================================      |  92%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=======                                                               |  10%  |                                                                              |===================                                                   |  27%  |                                                                              |=======================================                               |  56%  |                                                                              |===========================================================           |  84%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   9%  |                                                                              |========                                                              |  12%  |                                                                              |============                                                          |  18%  |                                                                              |=====================                                                 |  30%  |                                                                              |================================                                      |  45%  |                                                                              |======================================                                |  54%  |                                                                              |==================================================                    |  71%  |                                                                              |====================================================================  |  98%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |============                                                          |  17%  |                                                                              |==============================                                        |  43%  |                                                                              |===================================================                   |  73%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |======                                                                |   9%  |                                                                              |=========                                                             |  13%  |                                                                              |============                                                          |  17%  |                                                                              |===============                                                       |  21%  |                                                                              |==================                                                    |  25%  |                                                                              |====================                                                  |  29%  |                                                                              |==============================                                        |  42%  |                                                                              |===================================                                   |  50%  |                                                                              |=========================================                             |  59%  |                                                                              |=============================================================         |  87%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=======                                                               |  10%  |                                                                              |==============                                                        |  20%  |                                                                              |=============================                                         |  42%  |                                                                              |=======================================                               |  56%  |                                                                              |=================================================                     |  70%  |                                                                              |==============================================================        |  89%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=                                                                     |   2%  |                                                                              |=========                                                             |  12%  |                                                                              |=============                                                         |  19%  |                                                                              |=====================                                                 |  30%  |                                                                              |==================================                                    |  49%  |                                                                              |============================================                          |  63%  |                                                                              |=============================================================         |  87%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   5%  |                                                                              |==========                                                            |  14%  |                                                                              |=============                                                         |  18%  |                                                                              |=====================                                                 |  30%  |                                                                              |============================                                          |  40%  |                                                                              |=====================================                                 |  53%  |                                                                              |===================================================                   |  73%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |===========                                                           |  15%  |                                                                              |==============================                                        |  43%  |                                                                              |====================================================                  |  75%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   3%  |                                                                              |=======                                                               |  11%  |                                                                              |==========                                                            |  14%  |                                                                              |===============                                                       |  21%  |                                                                              |==========================                                            |  37%  |                                                                              |====================================                                  |  51%  |                                                                              |==========================================                            |  60%  |                                                                              |==============================================                        |  65%  |                                                                              |======================================================                |  77%  |                                                                              |==============================================================        |  88%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |===========                                                           |  15%  |                                                                              |==============                                                        |  20%  |                                                                              |===========================                                           |  38%  |                                                                              |================================================                      |  69%  |                                                                              |===================================================================   |  96%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   3%  |                                                                              |=====                                                                 |   7%  |                                                                              |=========                                                             |  13%  |                                                                              |============                                                          |  17%  |                                                                              |=================                                                     |  24%  |                                                                              |==========================                                            |  36%  |                                                                              |==========================                                            |  37%  |                                                                              |==================================                                    |  48%  |                                                                              |========================================                              |  57%  |                                                                              |==========================================                            |  60%  |                                                                              |================================================                      |  69%  |                                                                              |========================================================              |  80%  |                                                                              |=================================================================     |  93%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   5%  |                                                                              |=========                                                             |  13%  |                                                                              |==================                                                    |  26%  |                                                                              |=====================                                                 |  30%  |                                                                              |================================                                      |  46%  |                                                                              |=================================================                     |  70%  |                                                                              |===========================================================           |  85%  |                                                                              |====================================================================  |  98%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   3%  |                                                                              |========                                                              |  11%  |                                                                              |==============                                                        |  21%  |                                                                              |=======================                                               |  33%  |                                                                              |================================                                      |  46%  |                                                                              |=========================================                             |  59%  |                                                                              |=============================================================         |  87%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   5%  |                                                                              |========                                                              |  12%  |                                                                              |===========                                                           |  15%  |                                                                              |=====================                                                 |  30%  |                                                                              |==========================                                            |  37%  |                                                                              |========================================                              |  57%  |                                                                              |========================================================              |  80%  |                                                                              |=========================================================             |  82%  |                                                                              |==============================================================        |  88%  |                                                                              |================================================================      |  92%  |                                                                              |===================================================================   |  95%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   5%  |                                                                              |=====                                                                 |   7%  |                                                                              |==========                                                            |  15%  |                                                                              |===============                                                       |  22%  |                                                                              |==================                                                    |  25%  |                                                                              |=====================                                                 |  29%  |                                                                              |=========================                                             |  36%  |                                                                              |================================                                      |  46%  |                                                                              |====================================                                  |  51%  |                                                                              |============================================                          |  63%  |                                                                              |===============================================                       |  67%  |                                                                              |======================================================                |  77%  |                                                                              |============================================================          |  85%  |                                                                              |===================================================================   |  95%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=======                                                               |  10%  |                                                                              |=========                                                             |  13%  |                                                                              |============                                                          |  17%  |                                                                              |===============                                                       |  22%  |                                                                              |========================                                              |  34%  |                                                                              |================================                                      |  45%  |                                                                              |=========================================                             |  58%  |                                                                              |==================================================                    |  71%  |                                                                              |===========================================================           |  85%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=======                                                               |  10%  |                                                                              |==========                                                            |  15%  |                                                                              |================                                                      |  22%  |                                                                              |========================                                              |  34%  |                                                                              |===============================                                       |  45%  |                                                                              |========================================                              |  57%  |                                                                              |==================================================                    |  71%  |                                                                              |=====================================================                 |  75%  |                                                                              |==========================================================            |  82%  |                                                                              |==================================================================    |  95%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=                                                                     |   2%  |                                                                              |====                                                                  |   6%  |                                                                              |==========                                                            |  15%  |                                                                              |==============                                                        |  20%  |                                                                              |================                                                      |  23%  |                                                                              |==================                                                    |  26%  |                                                                              |======================                                                |  32%  |                                                                              |========================                                              |  35%  |                                                                              |===========================                                           |  38%  |                                                                              |===============================                                       |  44%  |                                                                              |====================================                                  |  51%  |                                                                              |======================================                                |  54%  |                                                                              |========================================                              |  57%  |                                                                              |==============================================                        |  66%  |                                                                              |=====================================================                 |  76%  |                                                                              |========================================================              |  79%  |                                                                              |===============================================================       |  91%  |                                                                              |===================================================================   |  96%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |=======                                                               |  10%  |                                                                              |===========                                                           |  16%  |                                                                              |======================                                                |  32%  |                                                                              |===========================                                           |  39%  |                                                                              |=====================================                                 |  54%  |                                                                              |====================================================                  |  75%  |                                                                              |==================================================================    |  95%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=                                                                     |   1%  |                                                                              |===                                                                   |   4%  |                                                                              |=====                                                                 |   8%  |                                                                              |========                                                              |  12%  |                                                                              |===========                                                           |  15%  |                                                                              |=============                                                         |  19%  |                                                                              |===============                                                       |  21%  |                                                                              |=================                                                     |  24%  |                                                                              |===================                                                   |  28%  |                                                                              |=====================                                                 |  31%  |                                                                              |========================                                              |  34%  |                                                                              |============================                                          |  40%  |                                                                              |===============================                                       |  44%  |                                                                              |=======================================                               |  56%  |                                                                              |=================================================                     |  71%  |                                                                              |===============================================================       |  90%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |=======                                                               |  10%  |                                                                              |=============                                                         |  18%  |                                                                              |=====================                                                 |  30%  |                                                                              |===============================                                       |  44%  |                                                                              |========================================                              |  57%  |                                                                              |==================================================                    |  72%  |                                                                              |============================================================          |  86%  |                                                                              |================================================================      |  91%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   3%  |                                                                              |====                                                                  |   6%  |                                                                              |=======                                                               |  10%  |                                                                              |==========                                                            |  15%  |                                                                              |============                                                          |  17%  |                                                                              |===============                                                       |  21%  |                                                                              |===================                                                   |  27%  |                                                                              |==========================                                            |  36%  |                                                                              |====================================                                  |  52%  |                                                                              |===========================================                           |  62%  |                                                                              |=======================================================               |  78%  |                                                                              |============================================================          |  86%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |=====                                                                 |   7%  |                                                                              |==============                                                        |  20%  |                                                                              |==================                                                    |  25%  |                                                                              |============================                                          |  40%  |                                                                              |=================================                                     |  47%  |                                                                              |========================================                              |  57%  |                                                                              |================================================                      |  68%  |                                                                              |==================================================                    |  71%  |                                                                              |=====================================================                 |  75%  |                                                                              |==============================================================        |  88%  |                                                                              |=================================================================     |  93%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   3%  |                                                                              |====                                                                  |   6%  |                                                                              |=========                                                             |  13%  |                                                                              |================                                                      |  22%  |                                                                              |==========================                                            |  37%  |                                                                              |===================================                                   |  50%  |                                                                              |==============================================                        |  66%  |                                                                              |===========================================================           |  84%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |=======                                                               |  10%  |                                                                              |==========                                                            |  14%  |                                                                              |============                                                          |  18%  |                                                                              |================                                                      |  23%  |                                                                              |======================                                                |  31%  |                                                                              |===============================                                       |  44%  |                                                                              |=======================================                               |  56%  |                                                                              |============================================                          |  63%  |                                                                              |===============================================                       |  66%  |                                                                              |=================================================                     |  70%  |                                                                              |====================================================                  |  74%  |                                                                              |======================================================                |  78%  |                                                                              |==============================================================        |  88%  |                                                                              |================================================================      |  92%  |                                                                              |====================================================================  |  97%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |=====                                                                 |   7%  |                                                                              |=========                                                             |  13%  |                                                                              |================                                                      |  22%  |                                                                              |==========================                                            |  37%  |                                                                              |================================                                      |  46%  |                                                                              |=========================================                             |  58%  |                                                                              |===========================================                           |  62%  |                                                                              |==============================================                        |  66%  |                                                                              |=================================================                     |  70%  |                                                                              |==========================================================            |  83%  |                                                                              |===============================================================       |  90%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   3%  |                                                                              |======                                                                |   9%  |                                                                              |==============                                                        |  20%  |                                                                              |========================                                              |  35%  |                                                                              |============================                                          |  40%  |                                                                              |==============================                                        |  43%  |                                                                              |====================================                                  |  52%  |                                                                              |=========================================                             |  59%  |                                                                              |===============================================                       |  68%  |                                                                              |==========================================================            |  83%  |                                                                              |================================================================      |  92%  |                                                                              |===================================================================   |  95%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |====                                                                  |   5%  |                                                                              |========                                                              |  11%  |                                                                              |==========                                                            |  14%  |                                                                              |=============                                                         |  18%  |                                                                              |===============                                                       |  21%  |                                                                              |================                                                      |  24%  |                                                                              |==================                                                    |  26%  |                                                                              |=======================                                               |  32%  |                                                                              |=========================                                             |  36%  |                                                                              |===========================                                           |  39%  |                                                                              |================================                                      |  45%  |                                                                              |======================================                                |  55%  |                                                                              |================================================                      |  69%  |                                                                              |==================================================                    |  72%  |                                                                              |=========================================================             |  82%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=                                                                     |   2%  |                                                                              |====                                                                  |   6%  |                                                                              |================                                                      |  23%  |                                                                              |==========================                                            |  37%  |                                                                              |====================================                                  |  52%  |                                                                              |=============================================                         |  64%  |                                                                              |======================================================                |  77%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |=========                                                             |  13%  |                                                                              |===========                                                           |  16%  |                                                                              |==================                                                    |  25%  |                                                                              |============================                                          |  40%  |                                                                              |=====================================                                 |  53%  |                                                                              |===============================================                       |  67%  |                                                                              |==========================================================            |  82%  |                                                                              |===================================================================   |  96%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |======                                                                |   8%  |                                                                              |=============                                                         |  19%  |                                                                              |====================                                                  |  29%  |                                                                              |==============================                                        |  43%  |                                                                              |===================================                                   |  49%  |                                                                              |========================================                              |  57%  |                                                                              |==================================================                    |  71%  |                                                                              |======================================================                |  77%  |                                                                              |==================================================================    |  94%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===================================================                   |  73%  |                                                                              |=======================================================               |  78%  |                                                                              |=========================================================             |  82%  |                                                                              |============================================================          |  85%  |                                                                              |==============================================================        |  89%  |                                                                              |================================================================      |  92%  |                                                                              |===================================================================   |  96%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |====                                                                  |   6%  |                                                                              |======                                                                |   9%  |                                                                              |=========                                                             |  13%  |                                                                              |===========                                                           |  16%  |                                                                              |==============                                                        |  20%  |                                                                              |================                                                      |  23%  |                                                                              |==================                                                    |  26%  |                                                                              |======================                                                |  31%  |                                                                              |========================                                              |  34%  |                                                                              |=========================                                             |  36%  |                                                                              |==============================                                        |  42%  |                                                                              |=======================================                               |  56%  |                                                                              |=================================================                     |  69%  |                                                                              |===========================================================           |  84%  |                                                                              |==============================================================        |  88%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |====                                                                  |   6%  |                                                                              |======                                                                |   9%  |                                                                              |==========                                                            |  14%  |                                                                              |============                                                          |  17%  |                                                                              |==============                                                        |  20%  |                                                                              |================                                                      |  23%  |                                                                              |===================                                                   |  27%  |                                                                              |==========================                                            |  38%  |                                                                              |===================================                                   |  50%  |                                                                              |===========================================                           |  62%  |                                                                              |====================================================                  |  74%  |                                                                              |============================================================          |  85%  |                                                                              |==============================================================        |  89%  |                                                                              |=================================================================     |  92%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   5%  |                                                                              |=====                                                                 |   7%  |                                                                              |=========                                                             |  13%  |                                                                              |=============                                                         |  18%  |                                                                              |=================                                                     |  24%  |                                                                              |=====================                                                 |  30%  |                                                                              |============================                                          |  40%  |                                                                              |===================================                                   |  49%  |                                                                              |==============================================                        |  65%  |                                                                              |==================================================                    |  71%  |                                                                              |=====================================================                 |  76%  |                                                                              |==============================================================        |  89%  |                                                                              |================================================================      |  92%  |                                                                              |===================================================================   |  95%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |=====                                                                 |   7%  |                                                                              |========                                                              |  12%  |                                                                              |===========                                                           |  16%  |                                                                              |==============                                                        |  19%  |                                                                              |================                                                      |  22%  |                                                                              |==================                                                    |  26%  |                                                                              |======================                                                |  32%  |                                                                              |==============================                                        |  42%  |                                                                              |=======================================                               |  56%  |                                                                              |==========================================                            |  60%  |                                                                              |=============================================                         |  64%  |                                                                              |===============================================                       |  68%  |                                                                              |===================================================                   |  72%  |                                                                              |======================================================                |  76%  |                                                                              |=======================================================               |  79%  |                                                                              |===========================================================           |  84%  |                                                                              |==================================================================    |  94%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   5%  |                                                                              |=====                                                                 |   8%  |                                                                              |=========                                                             |  13%  |                                                                              |===============                                                       |  21%  |                                                                              |=========================                                             |  36%  |                                                                              |============================================                          |  63%  |                                                                              |===================================================================   |  95%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |========                                                              |  11%  |                                                                              |==============                                                        |  20%  |                                                                              |=======================                                               |  33%  |                                                                              |=========================                                             |  35%  |                                                                              |==================================                                    |  49%  |                                                                              |=========================================                             |  58%  |                                                                              |========================================================              |  80%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   4%  |                                                                              |========                                                              |  11%  |                                                                              |================                                                      |  22%  |                                                                              |=========================                                             |  35%  |                                                                              |================================                                      |  46%  |                                                                              |=====================================                                 |  53%  |                                                                              |========================================                              |  57%  |                                                                              |==========================================                            |  60%  |                                                                              |=============================================                         |  65%  |                                                                              |=====================================================                 |  75%  |                                                                              |============================================================          |  86%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=========                                                             |  13%  |                                                                              |============                                                          |  17%  |                                                                              |==============                                                        |  20%  |                                                                              |==================                                                    |  25%  |                                                                              |=====================                                                 |  29%  |                                                                              |=======================                                               |  33%  |                                                                              |===========================                                           |  39%  |                                                                              |==================================                                    |  49%  |                                                                              |=====================================                                 |  53%  |                                                                              |==============================================                        |  66%  |                                                                              |=================================================                     |  70%  |                                                                              |===================================================                   |  73%  |                                                                              |===============================================================       |  90%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=                                                                     |   2%  |                                                                              |======                                                                |   9%  |                                                                              |==============                                                        |  20%  |                                                                              |=======================                                               |  32%  |                                                                              |================================                                      |  45%  |                                                                              |===================================================                   |  72%  |                                                                              |================================================================      |  91%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   2%  |                                                                              |===                                                                   |   5%  |                                                                              |=========                                                             |  14%  |                                                                              |================                                                      |  23%  |                                                                              |=========================                                             |  36%  |                                                                              |==================================                                    |  48%  |                                                                              |=======================================                               |  56%  |                                                                              |==========================================                            |  60%  |                                                                              |============================================                          |  63%  |                                                                              |===============================================                       |  67%  |                                                                              |=================================================                     |  70%  |                                                                              |====================================================                  |  74%  |                                                                              |======================================================                |  77%  |                                                                              |=============================================================         |  87%  |                                                                              |=================================================================     |  93%  |                                                                              |===================================================================== |  98%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |====                                                                  |   6%  |                                                                              |========                                                              |  11%  |                                                                              |=========                                                             |  12%  |                                                                              |==========                                                            |  14%  |                                                                              |=============                                                         |  18%  |                                                                              |==============                                                        |  20%  |                                                                              |=================                                                     |  24%  |                                                                              |====================                                                  |  28%  |                                                                              |=======================                                               |  32%  |                                                                              |==========================                                            |  37%  |                                                                              |=================================                                     |  48%  |                                                                              |====================================                                  |  51%  |                                                                              |=========================================                             |  59%  |                                                                              |===============================================                       |  66%  |                                                                              |========================================================              |  79%  |                                                                              |===========================================================           |  84%  |                                                                              |===================================================================== |  98%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   3%  |                                                                              |=======                                                               |  10%  |                                                                              |==============                                                        |  20%  |                                                                              |======================                                                |  32%  |                                                                              |=============================                                         |  41%  |                                                                              |=================================                                     |  47%  |                                                                              |===================================                                   |  50%  |                                                                              |=====================================                                 |  53%  |                                                                              |========================================                              |  57%  |                                                                              |==========================================                            |  60%  |                                                                              |============================================                          |  63%  |                                                                              |==============================================                        |  65%  |                                                                              |==================================================                    |  71%  |                                                                              |====================================================                  |  75%  |                                                                              |======================================================                |  78%  |                                                                              |=========================================================             |  81%  |                                                                              |==========================================================            |  83%  |                                                                              |=============================================================         |  87%  |                                                                              |================================================================      |  92%  |                                                                              |==================================================================    |  94%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |====                                                                  |   6%  |                                                                              |========                                                              |  12%  |                                                                              |==========                                                            |  15%  |                                                                              |============                                                          |  18%  |                                                                              |==============                                                        |  21%  |                                                                              |================                                                      |  23%  |                                                                              |====================                                                  |  28%  |                                                                              |======================                                                |  31%  |                                                                              |========================                                              |  34%  |                                                                              |=============================                                         |  41%  |                                                                              |================================                                      |  45%  |                                                                              |======================================                                |  54%  |                                                                              |==============================================                        |  65%  |                                                                              |=======================================================               |  78%  |                                                                              |==============================================================        |  88%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   5%  |                                                                              |====                                                                  |   6%  |                                                                              |=======                                                               |  10%  |                                                                              |===========                                                           |  16%  |                                                                              |=============                                                         |  19%  |                                                                              |===============                                                       |  22%  |                                                                              |====================                                                  |  29%  |                                                                              |===============================                                       |  44%  |                                                                              |=========================================                             |  59%  |                                                                              |==============================================                        |  65%  |                                                                              |================================================                      |  69%  |                                                                              |=======================================================               |  79%  |                                                                              |===============================================================       |  89%  |                                                                              |===================================================================   |  96%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   2%  |                                                                              |=====                                                                 |   7%  |                                                                              |=======                                                               |  10%  |                                                                              |=========                                                             |  14%  |                                                                              |============                                                          |  17%  |                                                                              |==============                                                        |  20%  |                                                                              |=================                                                     |  24%  |                                                                              |====================                                                  |  29%  |                                                                              |==========================                                            |  37%  |                                                                              |===================================                                   |  50%  |                                                                              |===========================================                           |  61%  |                                                                              |==============================================================        |  88%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%</code></pre>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="h20.html#cb228-1" tabindex="-1"></a><span class="co"># Calculate the mean AUC value    </span></span>
<span id="cb228-2"><a href="h20.html#cb228-2" tabindex="-1"></a><span class="fu">mean</span>(auc_values)</span></code></pre></div>
<pre><code>## [1] 0.9728363</code></pre>
</div>
<div id="gradient-boosting-machine" class="section level3 hasAnchor" number="8.3.2">
<h3><span class="header-section-number">8.3.2</span> Gradient Boosting Machine<a href="h20.html#gradient-boosting-machine" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>note that cartesian uses all the grid values. the random version just selects random values from the grid which is very valid</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="h20.html#cb230-1" tabindex="-1"></a><span class="co"># Define the hyperparameter grid with added ntrees and learn_rate_annealing options</span></span>
<span id="cb230-2"><a href="h20.html#cb230-2" tabindex="-1"></a>hyper_params <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb230-3"><a href="h20.html#cb230-3" tabindex="-1"></a>  <span class="at">max_depth =</span> <span class="fu">seq</span>(<span class="dv">3</span>, <span class="dv">6</span>, <span class="at">by =</span> <span class="dv">3</span>), </span>
<span id="cb230-4"><a href="h20.html#cb230-4" tabindex="-1"></a>  <span class="at">min_rows =</span> <span class="fu">c</span>(<span class="dv">10</span>), </span>
<span id="cb230-5"><a href="h20.html#cb230-5" tabindex="-1"></a>  <span class="at">learn_rate =</span> <span class="fu">seq</span>(<span class="fl">0.01</span>, <span class="fl">0.2</span>, <span class="at">by =</span> <span class="fl">0.04</span>), </span>
<span id="cb230-6"><a href="h20.html#cb230-6" tabindex="-1"></a>  <span class="at">learn_rate_annealing =</span> <span class="fu">seq</span>(<span class="fl">0.99</span>, <span class="dv">1</span>, <span class="at">length.out =</span> <span class="dv">2</span>),</span>
<span id="cb230-7"><a href="h20.html#cb230-7" tabindex="-1"></a>  <span class="at">col_sample_rate_per_tree =</span> <span class="fu">seq</span>(<span class="fl">0.75</span>, <span class="dv">1</span>, <span class="at">length.out =</span> <span class="dv">2</span>), </span>
<span id="cb230-8"><a href="h20.html#cb230-8" tabindex="-1"></a>  <span class="at">col_sample_rate =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="at">length.out =</span> <span class="dv">1</span>), </span>
<span id="cb230-9"><a href="h20.html#cb230-9" tabindex="-1"></a>  <span class="at">ntrees =</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">250</span>, <span class="dv">500</span>, <span class="dv">750</span>),</span>
<span id="cb230-10"><a href="h20.html#cb230-10" tabindex="-1"></a>  <span class="at">min_split_improvement =</span> <span class="fu">c</span>(<span class="fl">1e-5</span>)</span>
<span id="cb230-11"><a href="h20.html#cb230-11" tabindex="-1"></a>)</span>
<span id="cb230-12"><a href="h20.html#cb230-12" tabindex="-1"></a></span>
<span id="cb230-13"><a href="h20.html#cb230-13" tabindex="-1"></a>search_criteria <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">strategy =</span> <span class="st">&quot;Cartesian&quot;</span>)</span></code></pre></div>
<p>How is column sampling implemented for GBM?
For an example model using:</p>
<p>100-column dataset</p>
<p>col_sample_rate_per_tree=0.754</p>
<p>col_sample_rate=0.8 (Refers to available columns after per-tree sampling)</p>
<p>For each tree, the floor is used to determine the number - in this example, (0.754 * 100)=75 out of the 100 - of columns that are randomly picked, and then the floor is used to determine the number - in this case, (0.754 * 0.8 * 100)=60 - of columns that are then randomly chosen for each split decision (out of the 75).</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="h20.html#cb231-1" tabindex="-1"></a><span class="co"># Grid search setup with added parameters</span></span>
<span id="cb231-2"><a href="h20.html#cb231-2" tabindex="-1"></a>grid_result <span class="ot">&lt;-</span> <span class="fu">h2o.grid</span>(</span>
<span id="cb231-3"><a href="h20.html#cb231-3" tabindex="-1"></a>  <span class="at">algorithm =</span> <span class="st">&quot;gbm&quot;</span>,</span>
<span id="cb231-4"><a href="h20.html#cb231-4" tabindex="-1"></a>  <span class="at">grid_id =</span> <span class="st">&quot;gbm_grid_search_extended&quot;</span>,</span>
<span id="cb231-5"><a href="h20.html#cb231-5" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">setdiff</span>(<span class="fu">names</span>(data_h2o), <span class="st">&quot;y&quot;</span>),</span>
<span id="cb231-6"><a href="h20.html#cb231-6" tabindex="-1"></a>  <span class="at">y =</span> <span class="st">&quot;y&quot;</span>,</span>
<span id="cb231-7"><a href="h20.html#cb231-7" tabindex="-1"></a>  <span class="at">training_frame =</span> data_h2o,</span>
<span id="cb231-8"><a href="h20.html#cb231-8" tabindex="-1"></a>  <span class="at">hyper_params =</span> hyper_params,</span>
<span id="cb231-9"><a href="h20.html#cb231-9" tabindex="-1"></a>  <span class="at">search_criteria =</span> search_criteria,</span>
<span id="cb231-10"><a href="h20.html#cb231-10" tabindex="-1"></a>  <span class="at">nfolds =</span> <span class="dv">5</span></span>
<span id="cb231-11"><a href="h20.html#cb231-11" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%</code></pre>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="h20.html#cb233-1" tabindex="-1"></a><span class="co"># Retrieve the grid results, sorted by AUC</span></span>
<span id="cb233-2"><a href="h20.html#cb233-2" tabindex="-1"></a>full_grid <span class="ot">&lt;-</span> <span class="fu">h2o.getGrid</span>(<span class="at">grid_id =</span> <span class="st">&quot;gbm_grid_search_extended&quot;</span>, <span class="at">sort_by =</span> <span class="st">&quot;auc&quot;</span>, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)</span>
<span id="cb233-3"><a href="h20.html#cb233-3" tabindex="-1"></a></span>
<span id="cb233-4"><a href="h20.html#cb233-4" tabindex="-1"></a><span class="co"># Extract the grid results into a data frame</span></span>
<span id="cb233-5"><a href="h20.html#cb233-5" tabindex="-1"></a>full_summary_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(full_grid<span class="sc">@</span>summary_table)</span>
<span id="cb233-6"><a href="h20.html#cb233-6" tabindex="-1"></a></span>
<span id="cb233-7"><a href="h20.html#cb233-7" tabindex="-1"></a><span class="co"># Print the structure of the data frame</span></span>
<span id="cb233-8"><a href="h20.html#cb233-8" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">str</span>(full_summary_df))</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    160 obs. of  10 variables:
##  $ col_sample_rate         : num  1 1 1 1 1 1 1 1 1 1 ...
##  $ col_sample_rate_per_tree: num  1 1 1 1 1 1 0.75 1 0.75 1 ...
##  $ learn_rate              : num  0.09 0.05 0.13 0.05 0.13 0.17 0.13 0.17 0.01 0.05 ...
##  $ learn_rate_annealing    : num  0.99 1 0.99 0.99 1 0.99 1 0.99 1 1 ...
##  $ max_depth               : num  6 6 6 6 6 6 6 6 6 6 ...
##  $ min_rows                : num  10 10 10 10 10 10 10 10 10 10 ...
##  $ min_split_improvement   : num  1e-05 1e-05 1e-05 1e-05 1e-05 1e-05 1e-05 1e-05 1e-05 1e-05 ...
##  $ ntrees                  : num  500 250 250 500 100 750 100 100 750 100 ...
##  $ model_ids               : chr  &quot;gbm_grid_search_extended_model_106&quot; &quot;gbm_grid_search_extended_model_74&quot; &quot;gbm_grid_search_extended_model_68&quot; &quot;gbm_grid_search_extended_model_104&quot; ...
##  $ auc                     : num  0.979 0.978 0.977 0.977 0.976 ...
##  - attr(*, &quot;header&quot;)= chr &quot;Hyper-Parameter Search Summary&quot;
##  - attr(*, &quot;formats&quot;)= chr [1:10] &quot;%.5f&quot; &quot;%.5f&quot; &quot;%.5f&quot; &quot;%.5f&quot; ...
##  - attr(*, &quot;description&quot;)= chr &quot;ordered by decreasing auc&quot;
## NULL</code></pre>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="h20.html#cb235-1" tabindex="-1"></a>splits <span class="ot">&lt;-</span> <span class="fu">h2o.splitFrame</span>(<span class="at">data =</span> data_h2o, <span class="at">ratios =</span> <span class="fl">0.8</span>)</span>
<span id="cb235-2"><a href="h20.html#cb235-2" tabindex="-1"></a>train <span class="ot">&lt;-</span> splits[[<span class="dv">1</span>]]</span>
<span id="cb235-3"><a href="h20.html#cb235-3" tabindex="-1"></a>test <span class="ot">&lt;-</span> splits[[<span class="dv">2</span>]]</span>
<span id="cb235-4"><a href="h20.html#cb235-4" tabindex="-1"></a></span>
<span id="cb235-5"><a href="h20.html#cb235-5" tabindex="-1"></a>best_model <span class="ot">&lt;-</span> <span class="fu">h2o.getModel</span>(full_grid<span class="sc">@</span>model_ids[[<span class="dv">1</span>]])</span>
<span id="cb235-6"><a href="h20.html#cb235-6" tabindex="-1"></a></span>
<span id="cb235-7"><a href="h20.html#cb235-7" tabindex="-1"></a>predictions <span class="ot">&lt;-</span> <span class="fu">h2o.predict</span>(best_model, test)</span></code></pre></div>
<pre><code>##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%</code></pre>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="h20.html#cb237-1" tabindex="-1"></a>actual <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">as.vector</span>(test<span class="sc">$</span>y), <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;1&quot;</span>, <span class="st">&quot;0&quot;</span>))</span>
<span id="cb237-2"><a href="h20.html#cb237-2" tabindex="-1"></a>predicted <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">as.vector</span>(predictions<span class="sc">$</span>predict), <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;1&quot;</span>, <span class="st">&quot;0&quot;</span>)) <span class="co"># maxed f1 score</span></span>
<span id="cb237-3"><a href="h20.html#cb237-3" tabindex="-1"></a></span>
<span id="cb237-4"><a href="h20.html#cb237-4" tabindex="-1"></a>confusion_matrix <span class="ot">&lt;-</span> <span class="fu">table</span>(<span class="at">Actual =</span> actual, <span class="at">Predicted =</span> predicted)</span>
<span id="cb237-5"><a href="h20.html#cb237-5" tabindex="-1"></a><span class="fu">print</span>(confusion_matrix)</span></code></pre></div>
<pre><code>##       Predicted
## Actual    1    0
##      1   66    2
##      0    0 1848</code></pre>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="h20.html#cb239-1" tabindex="-1"></a><span class="co"># Access the best model from the grid search</span></span>
<span id="cb239-2"><a href="h20.html#cb239-2" tabindex="-1"></a>best_model_id <span class="ot">&lt;-</span> grid_result<span class="sc">@</span>model_ids[[<span class="dv">1</span>]]</span>
<span id="cb239-3"><a href="h20.html#cb239-3" tabindex="-1"></a>best_model <span class="ot">&lt;-</span> <span class="fu">h2o.getModel</span>(best_model_id)</span>
<span id="cb239-4"><a href="h20.html#cb239-4" tabindex="-1"></a></span>
<span id="cb239-5"><a href="h20.html#cb239-5" tabindex="-1"></a><span class="co"># Retrieve the panel with all parameters used by the best model</span></span>
<span id="cb239-6"><a href="h20.html#cb239-6" tabindex="-1"></a>best_params <span class="ot">&lt;-</span> best_model<span class="sc">@</span>allparameters</span>
<span id="cb239-7"><a href="h20.html#cb239-7" tabindex="-1"></a></span>
<span id="cb239-8"><a href="h20.html#cb239-8" tabindex="-1"></a><span class="co"># Display winning hyperparameters</span></span>
<span id="cb239-9"><a href="h20.html#cb239-9" tabindex="-1"></a>best_params <span class="ot">&lt;-</span> best_model<span class="sc">@</span>allparameters</span>
<span id="cb239-10"><a href="h20.html#cb239-10" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Winning Hyperparameters:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Winning Hyperparameters:</code></pre>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="h20.html#cb241-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">&quot;Max Depth: %d</span><span class="sc">\n</span><span class="st">&quot;</span>, best_params<span class="sc">$</span>max_depth))</span></code></pre></div>
<pre><code>## Max Depth: 6</code></pre>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="h20.html#cb243-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">&quot;Min Rows: %d</span><span class="sc">\n</span><span class="st">&quot;</span>, best_params<span class="sc">$</span>min_rows))</span></code></pre></div>
<pre><code>## Min Rows: 10</code></pre>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="h20.html#cb245-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">&quot;Learn Rate: %.2f</span><span class="sc">\n</span><span class="st">&quot;</span>, best_params<span class="sc">$</span>learn_rate))</span></code></pre></div>
<pre><code>## Learn Rate: 0.09</code></pre>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="h20.html#cb247-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">&quot;Learn Rate Annealing: %.2f</span><span class="sc">\n</span><span class="st">&quot;</span>, best_params<span class="sc">$</span>learn_rate_annealing))</span></code></pre></div>
<pre><code>## Learn Rate Annealing: 0.99</code></pre>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="h20.html#cb249-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">&quot;Sample Rate: %.2f</span><span class="sc">\n</span><span class="st">&quot;</span>, best_params<span class="sc">$</span>col_sample_rate_per_tree))</span></code></pre></div>
<pre><code>## Sample Rate: 1.00</code></pre>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="h20.html#cb251-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">&quot;Column Sample Rate: %.2f</span><span class="sc">\n</span><span class="st">&quot;</span>, best_params<span class="sc">$</span>col_sample_rate))</span></code></pre></div>
<pre><code>## Column Sample Rate: 1.00</code></pre>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="h20.html#cb253-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">&quot;Number of Trees (ntrees): %d</span><span class="sc">\n</span><span class="st">&quot;</span>, best_params<span class="sc">$</span>ntrees))</span></code></pre></div>
<pre><code>## Number of Trees (ntrees): 500</code></pre>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="h20.html#cb255-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">&quot;Minimum Split Improvement: %.1e</span><span class="sc">\n</span><span class="st">&quot;</span>, best_params<span class="sc">$</span>min_split_improvement))</span></code></pre></div>
<pre><code>## Minimum Split Improvement: 1.0e-05</code></pre>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="h20.html#cb257-1" tabindex="-1"></a><span class="co"># Retrieve the parameters used by the best model</span></span>
<span id="cb257-2"><a href="h20.html#cb257-2" tabindex="-1"></a></span>
<span id="cb257-3"><a href="h20.html#cb257-3" tabindex="-1"></a><span class="co"># Loop to perform repeated train-test split and model evaluation</span></span>
<span id="cb257-4"><a href="h20.html#cb257-4" tabindex="-1"></a>r <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb257-5"><a href="h20.html#cb257-5" tabindex="-1"></a>auc_scores <span class="ot">&lt;-</span> <span class="fu">numeric</span>(r)</span>
<span id="cb257-6"><a href="h20.html#cb257-6" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>r) {</span>
<span id="cb257-7"><a href="h20.html#cb257-7" tabindex="-1"></a>  splits <span class="ot">&lt;-</span> <span class="fu">h2o.splitFrame</span>(<span class="at">data =</span> data_h2o, <span class="at">ratios =</span> <span class="fl">0.8</span>, <span class="at">seed =</span> i)</span>
<span id="cb257-8"><a href="h20.html#cb257-8" tabindex="-1"></a>  train <span class="ot">&lt;-</span> splits[[<span class="dv">1</span>]]</span>
<span id="cb257-9"><a href="h20.html#cb257-9" tabindex="-1"></a>  test <span class="ot">&lt;-</span> splits[[<span class="dv">2</span>]]</span>
<span id="cb257-10"><a href="h20.html#cb257-10" tabindex="-1"></a>  </span>
<span id="cb257-11"><a href="h20.html#cb257-11" tabindex="-1"></a>  <span class="co"># Train the model with the best parameters from the grid search</span></span>
<span id="cb257-12"><a href="h20.html#cb257-12" tabindex="-1"></a>  model <span class="ot">&lt;-</span> <span class="fu">h2o.gbm</span>(</span>
<span id="cb257-13"><a href="h20.html#cb257-13" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">setdiff</span>(<span class="fu">names</span>(train), <span class="st">&quot;y&quot;</span>), </span>
<span id="cb257-14"><a href="h20.html#cb257-14" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;y&quot;</span>, </span>
<span id="cb257-15"><a href="h20.html#cb257-15" tabindex="-1"></a>    <span class="at">training_frame =</span> train,</span>
<span id="cb257-16"><a href="h20.html#cb257-16" tabindex="-1"></a>    <span class="at">validation_frame =</span> test,</span>
<span id="cb257-17"><a href="h20.html#cb257-17" tabindex="-1"></a>    <span class="at">learn_rate =</span> best_params<span class="sc">$</span>learn_rate,</span>
<span id="cb257-18"><a href="h20.html#cb257-18" tabindex="-1"></a>    <span class="at">max_depth =</span> best_params<span class="sc">$</span>max_depth,</span>
<span id="cb257-19"><a href="h20.html#cb257-19" tabindex="-1"></a>    <span class="at">col_sample_rate_per_tree =</span> best_params<span class="sc">$</span>col_sample_rate_per_tree,</span>
<span id="cb257-20"><a href="h20.html#cb257-20" tabindex="-1"></a>    <span class="at">col_sample_rate =</span> best_params<span class="sc">$</span>col_sample_rate,</span>
<span id="cb257-21"><a href="h20.html#cb257-21" tabindex="-1"></a>    <span class="at">ntrees =</span> best_params<span class="sc">$</span>ntrees,</span>
<span id="cb257-22"><a href="h20.html#cb257-22" tabindex="-1"></a>    <span class="at">learn_rate_annealing =</span> best_params<span class="sc">$</span>learn_rate_annealing,</span>
<span id="cb257-23"><a href="h20.html#cb257-23" tabindex="-1"></a>    <span class="at">min_split_improvement =</span> best_params<span class="sc">$</span>min_split_improvement</span>
<span id="cb257-24"><a href="h20.html#cb257-24" tabindex="-1"></a>  )</span>
<span id="cb257-25"><a href="h20.html#cb257-25" tabindex="-1"></a>  perf <span class="ot">&lt;-</span> <span class="fu">h2o.performance</span>(model, <span class="at">newdata =</span> test)</span>
<span id="cb257-26"><a href="h20.html#cb257-26" tabindex="-1"></a>  auc_scores[i] <span class="ot">&lt;-</span> <span class="fu">h2o.auc</span>(perf)</span>
<span id="cb257-27"><a href="h20.html#cb257-27" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>##   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   3%  |                                                                              |======                                                                |   9%  |                                                                              |=================================                                     |  47%  |                                                                              |=====================================                                 |  53%  |                                                                              |========================================                              |  57%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |=======                                                               |   9%  |                                                                              |========================                                              |  35%  |                                                                              |===================================                                   |  50%  |                                                                              |================================================                      |  68%  |                                                                              |======================================================                |  77%  |                                                                              |=================================================================     |  93%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |========                                                              |  12%  |                                                                              |======================                                                |  32%  |                                                                              |================================                                      |  45%  |                                                                              |=========================================                             |  59%  |                                                                              |==================================================                    |  71%  |                                                                              |============================================================          |  86%  |                                                                              |====================================================================  |  98%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |=======                                                               |  10%  |                                                                              |================                                                      |  23%  |                                                                              |===============================                                       |  45%  |                                                                              |========================================                              |  57%  |                                                                              |================================================                      |  69%  |                                                                              |===========================================================           |  84%  |                                                                              |===================================================================   |  95%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   8%  |                                                                              |=========                                                             |  13%  |                                                                              |====================                                                  |  29%  |                                                                              |==============================                                        |  42%  |                                                                              |========================================                              |  57%  |                                                                              |=======================================================               |  79%  |                                                                              |===============================================================       |  91%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   9%  |                                                                              |============                                                          |  17%  |                                                                              |============================                                          |  40%  |                                                                              |==================================                                    |  48%  |                                                                              |============================================                          |  63%  |                                                                              |=====================================================                 |  76%  |                                                                              |=============================================================         |  88%  |                                                                              |======================================================================|  99%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   8%  |                                                                              |==========                                                            |  14%  |                                                                              |=======================                                               |  32%  |                                                                              |================================                                      |  45%  |                                                                              |=======================================                               |  56%  |                                                                              |================================================                      |  69%  |                                                                              |========================================================              |  79%  |                                                                              |==================================================================    |  94%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   5%  |                                                                              |========                                                              |  12%  |                                                                              |================                                                      |  23%  |                                                                              |=======================                                               |  33%  |                                                                              |=================================                                     |  47%  |                                                                              |=========================================                             |  58%  |                                                                              |==================================================                    |  71%  |                                                                              |==========================================================            |  82%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   5%  |                                                                              |========                                                              |  11%  |                                                                              |=================                                                     |  24%  |                                                                              |==================================                                    |  49%  |                                                                              |=========================================                             |  59%  |                                                                              |==================================================                    |  71%  |                                                                              |===========================================================           |  85%  |                                                                              |==================================================================    |  95%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |========                                                              |  12%  |                                                                              |====================                                                  |  28%  |                                                                              |==============================                                        |  43%  |                                                                              |========================================                              |  58%  |                                                                              |=================================================                     |  70%  |                                                                              |============================================================          |  86%  |                                                                              |===================================================================   |  96%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=                                                                     |   2%  |                                                                              |=====                                                                 |   7%  |                                                                              |=================                                                     |  25%  |                                                                              |=========================                                             |  35%  |                                                                              |=============================                                         |  41%  |                                                                              |=======================================                               |  56%  |                                                                              |==================================================                    |  72%  |                                                                              |==============================================================        |  89%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |========                                                              |  12%  |                                                                              |=======================                                               |  32%  |                                                                              |============================                                          |  40%  |                                                                              |=================================                                     |  47%  |                                                                              |===========================================                           |  62%  |                                                                              |==================================================                    |  72%  |                                                                              |============================================================          |  86%  |                                                                              |==================================================================    |  94%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   9%  |                                                                              |===========                                                           |  15%  |                                                                              |===================                                                   |  27%  |                                                                              |==========================                                            |  37%  |                                                                              |==================================                                    |  49%  |                                                                              |============================================                          |  62%  |                                                                              |=================================================                     |  69%  |                                                                              |=========================================================             |  81%  |                                                                              |===============================================================       |  90%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |==========                                                            |  14%  |                                                                              |==================                                                    |  26%  |                                                                              |==============================                                        |  43%  |                                                                              |=======================================                               |  56%  |                                                                              |================================================                      |  68%  |                                                                              |========================================================              |  80%  |                                                                              |=================================================================     |  93%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   5%  |                                                                              |======                                                                |   9%  |                                                                              |==============                                                        |  20%  |                                                                              |======================                                                |  31%  |                                                                              |==============================                                        |  43%  |                                                                              |=======================================                               |  55%  |                                                                              |============================================                          |  63%  |                                                                              |=====================================================                 |  76%  |                                                                              |==========================================================            |  83%  |                                                                              |===================================================================== |  98%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   5%  |                                                                              |========                                                              |  12%  |                                                                              |========================                                              |  35%  |                                                                              |=================================                                     |  48%  |                                                                              |========================================                              |  58%  |                                                                              |==================================================                    |  71%  |                                                                              |=========================================================             |  82%  |                                                                              |===================================================================   |  96%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |==========                                                            |  14%  |                                                                              |==================                                                    |  26%  |                                                                              |============================                                          |  41%  |                                                                              |===================================                                   |  50%  |                                                                              |============================================                          |  62%  |                                                                              |=================================================                     |  71%  |                                                                              |==========================================================            |  83%  |                                                                              |====================================================================  |  98%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   8%  |                                                                              |=========                                                             |  13%  |                                                                              |=======================                                               |  33%  |                                                                              |================================                                      |  46%  |                                                                              |=========================================                             |  59%  |                                                                              |===============================================                       |  67%  |                                                                              |=======================================================               |  78%  |                                                                              |===============================================================       |  90%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=======                                                               |   9%  |                                                                              |===========                                                           |  16%  |                                                                              |=================                                                     |  24%  |                                                                              |========================                                              |  34%  |                                                                              |=================================                                     |  47%  |                                                                              |========================================                              |  57%  |                                                                              |=============================================                         |  64%  |                                                                              |=====================================================                 |  75%  |                                                                              |================================================================      |  92%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   5%  |                                                                              |=======                                                               |  10%  |                                                                              |===============                                                       |  21%  |                                                                              |=====================                                                 |  31%  |                                                                              |=============================                                         |  41%  |                                                                              |===================================                                   |  50%  |                                                                              |========================================                              |  57%  |                                                                              |===============================================                       |  67%  |                                                                              |=========================================================             |  82%  |                                                                              |==================================================================    |  94%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |=======                                                               |  10%  |                                                                              |=============                                                         |  18%  |                                                                              |======================                                                |  32%  |                                                                              |======================================                                |  54%  |                                                                              |==========================================                            |  60%  |                                                                              |===================================================                   |  72%  |                                                                              |==========================================================            |  82%  |                                                                              |=================================================================     |  92%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=                                                                     |   1%  |                                                                              |===                                                                   |   4%  |                                                                              |==========                                                            |  15%  |                                                                              |==================                                                    |  25%  |                                                                              |==========================                                            |  38%  |                                                                              |==================================                                    |  48%  |                                                                              |=======================================                               |  56%  |                                                                              |===============================================                       |  67%  |                                                                              |======================================================                |  77%  |                                                                              |=============================================================         |  87%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   3%  |                                                                              |======                                                                |   8%  |                                                                              |===============                                                       |  21%  |                                                                              |=====================                                                 |  31%  |                                                                              |=============================                                         |  41%  |                                                                              |====================================                                  |  51%  |                                                                              |=========================================                             |  58%  |                                                                              |================================================                      |  69%  |                                                                              |==========================================================            |  82%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   5%  |                                                                              |=======                                                               |  10%  |                                                                              |==============                                                        |  20%  |                                                                              |=======================                                               |  33%  |                                                                              |================================                                      |  46%  |                                                                              |========================================                              |  57%  |                                                                              |====================================================                  |  74%  |                                                                              |==========================================================            |  82%  |                                                                              |===================================================================== |  98%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   8%  |                                                                              |========                                                              |  11%  |                                                                              |===============                                                       |  21%  |                                                                              |========================                                              |  35%  |                                                                              |================================                                      |  45%  |                                                                              |===========================================                           |  62%  |                                                                              |================================================                      |  68%  |                                                                              |=======================================================               |  79%  |                                                                              |=================================================================     |  93%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |=======                                                               |  10%  |                                                                              |================                                                      |  22%  |                                                                              |=======================                                               |  32%  |                                                                              |==============================                                        |  43%  |                                                                              |===================================                                   |  51%  |                                                                              |===========================================                           |  61%  |                                                                              |=================================================                     |  70%  |                                                                              |===============================================================       |  90%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   5%  |                                                                              |=======                                                               |  11%  |                                                                              |================                                                      |  22%  |                                                                              |=========================                                             |  36%  |                                                                              |=================================                                     |  47%  |                                                                              |============================================                          |  63%  |                                                                              |===================================================                   |  72%  |                                                                              |==========================================================            |  83%  |                                                                              |===================================================================   |  96%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   5%  |                                                                              |=====                                                                 |   7%  |                                                                              |===========                                                           |  16%  |                                                                              |====================                                                  |  29%  |                                                                              |============================                                          |  40%  |                                                                              |===================================                                   |  50%  |                                                                              |========================================                              |  58%  |                                                                              |================================================                      |  68%  |                                                                              |============================================================          |  86%  |                                                                              |===================================================================   |  96%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |=========                                                             |  13%  |                                                                              |==================                                                    |  26%  |                                                                              |===========================                                           |  39%  |                                                                              |====================================                                  |  51%  |                                                                              |============================================                          |  63%  |                                                                              |==================================================                    |  71%  |                                                                              |==========================================================            |  83%  |                                                                              |============================================================          |  86%  |                                                                              |====================================================================  |  98%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |========                                                              |  11%  |                                                                              |==========                                                            |  15%  |                                                                              |==================                                                    |  26%  |                                                                              |===========================                                           |  38%  |                                                                              |==============================                                        |  43%  |                                                                              |========================================                              |  57%  |                                                                              |==============================================                        |  66%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====================================                                 |  53%  |                                                                              |============================================                          |  63%  |                                                                              |====================================================                  |  74%  |                                                                              |======================================================                |  77%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |=====                                                                 |   7%  |                                                                              |=============                                                         |  19%  |                                                                              |======================                                                |  31%  |                                                                              |===============================                                       |  44%  |                                                                              |======================================                                |  55%  |                                                                              |================================================                      |  69%  |                                                                              |=======================================================               |  79%  |                                                                              |===========================================================           |  85%  |                                                                              |=================================================================     |  93%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |======                                                                |   8%  |                                                                              |======                                                                |   9%  |                                                                              |=================                                                     |  24%  |                                                                              |==========================                                            |  38%  |                                                                              |===================================                                   |  50%  |                                                                              |===================================================                   |  73%  |                                                                              |=========================================================             |  82%  |                                                                              |===================================================================   |  95%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |==================================================                    |  71%  |                                                                              |============================================================          |  85%  |                                                                              |===================================================================   |  96%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |========                                                              |  11%  |                                                                              |====================                                                  |  28%  |                                                                              |=============================                                         |  41%  |                                                                              |======================================                                |  54%  |                                                                              |===============================================                       |  67%  |                                                                              |============================================================          |  86%  |                                                                              |====================================================================  |  97%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=======                                                               |  10%  |                                                                              |==========                                                            |  15%  |                                                                              |======================                                                |  31%  |                                                                              |=========================================                             |  58%  |                                                                              |===============================================                       |  67%  |                                                                              |==========================================================            |  82%  |                                                                              |=================================================================     |  93%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |=========                                                             |  13%  |                                                                              |======================                                                |  31%  |                                                                              |===============================                                       |  45%  |                                                                              |========================================                              |  58%  |                                                                              |================================================                      |  69%  |                                                                              |===========================================================           |  84%  |                                                                              |===================================================================   |  96%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |========                                                              |  11%  |                                                                              |=================                                                     |  24%  |                                                                              |=========================                                             |  35%  |                                                                              |==================================                                    |  48%  |                                                                              |==========================================                            |  60%  |                                                                              |===========================================================           |  85%  |                                                                              |====================================================================  |  98%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   8%  |                                                                              |=========                                                             |  13%  |                                                                              |=====================                                                 |  29%  |                                                                              |=================================                                     |  47%  |                                                                              |=========================================                             |  58%  |                                                                              |===============================================                       |  67%  |                                                                              |=======================================================               |  78%  |                                                                              |===========================================================           |  85%  |                                                                              |====================================================================  |  97%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |======                                                                |   9%  |                                                                              |===================                                                   |  27%  |                                                                              |==============================                                        |  43%  |                                                                              |==================================                                    |  48%  |                                                                              |============================================                          |  63%  |                                                                              |===============================================                       |  68%  |                                                                              |================================================                      |  69%  |                                                                              |========================================================              |  80%  |                                                                              |=========================================================             |  81%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   5%  |                                                                              |========                                                              |  11%  |                                                                              |================                                                      |  23%  |                                                                              |========================                                              |  34%  |                                                                              |================================                                      |  45%  |                                                                              |=======================================                               |  55%  |                                                                              |===============================================                       |  67%  |                                                                              |=======================================================               |  79%  |                                                                              |===============================================================       |  90%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |=======                                                               |  10%  |                                                                              |================                                                      |  23%  |                                                                              |=========================                                             |  36%  |                                                                              |================================                                      |  45%  |                                                                              |=========================================                             |  58%  |                                                                              |====================================================                  |  74%  |                                                                              |==========================================================            |  83%  |                                                                              |==============================================================        |  89%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   5%  |                                                                              |=======                                                               |  11%  |                                                                              |======================                                                |  31%  |                                                                              |==================================                                    |  48%  |                                                                              |=====================================                                 |  53%  |                                                                              |=================================================                     |  70%  |                                                                              |=========================================================             |  82%  |                                                                              |===================================================================   |  96%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   8%  |                                                                              |=========                                                             |  13%  |                                                                              |=====================                                                 |  30%  |                                                                              |================================                                      |  46%  |                                                                              |========================================                              |  57%  |                                                                              |=================================================                     |  70%  |                                                                              |============================================================          |  86%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |=======                                                               |  10%  |                                                                              |================                                                      |  23%  |                                                                              |=========================                                             |  36%  |                                                                              |===============================                                       |  45%  |                                                                              |============================================                          |  62%  |                                                                              |===================================================                   |  73%  |                                                                              |=============================================================         |  87%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |========                                                              |  12%  |                                                                              |==============                                                        |  21%  |                                                                              |=======================                                               |  33%  |                                                                              |==============================                                        |  43%  |                                                                              |==========================================                            |  59%  |                                                                              |=====================================================                 |  75%  |                                                                              |==============================================================        |  89%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   8%  |                                                                              |==========                                                            |  14%  |                                                                              |=====================                                                 |  29%  |                                                                              |=============================                                         |  41%  |                                                                              |==================================                                    |  49%  |                                                                              |===========================================                           |  62%  |                                                                              |====================================================                  |  74%  |                                                                              |==============================================================        |  89%  |                                                                              |===================================================================== |  98%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |==========                                                            |  14%  |                                                                              |===================                                                   |  28%  |                                                                              |===========================                                           |  39%  |                                                                              |=================================                                     |  47%  |                                                                              |========================================                              |  57%  |                                                                              |==================================================                    |  71%  |                                                                              |===========================================================           |  85%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |========                                                              |  12%  |                                                                              |=================                                                     |  24%  |                                                                              |=========================                                             |  35%  |                                                                              |===================================                                   |  50%  |                                                                              |===========================================                           |  62%  |                                                                              |=====================================================                 |  75%  |                                                                              |===================================================================   |  95%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |=========                                                             |  12%  |                                                                              |===============                                                       |  21%  |                                                                              |========================                                              |  34%  |                                                                              |================================                                      |  46%  |                                                                              |========================================                              |  57%  |                                                                              |=====================================================                 |  76%  |                                                                              |==================================================================    |  94%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |======                                                                |   8%  |                                                                              |================                                                      |  23%  |                                                                              |=========================                                             |  35%  |                                                                              |==============================                                        |  42%  |                                                                              |=====================================                                 |  53%  |                                                                              |==============================================                        |  66%  |                                                                              |======================================================                |  77%  |                                                                              |===============================================================       |  90%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |=========                                                             |  12%  |                                                                              |================                                                      |  23%  |                                                                              |========================                                              |  35%  |                                                                              |==============================                                        |  43%  |                                                                              |=======================================                               |  56%  |                                                                              |===============================================                       |  67%  |                                                                              |=======================================================               |  79%  |                                                                              |=================================================================     |  93%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |=========                                                             |  12%  |                                                                              |=============                                                         |  18%  |                                                                              |=======================                                               |  33%  |                                                                              |=================================                                     |  48%  |                                                                              |==========================================                            |  60%  |                                                                              |====================================================                  |  74%  |                                                                              |============================================================          |  86%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |========                                                              |  11%  |                                                                              |===============                                                       |  21%  |                                                                              |=======================                                               |  33%  |                                                                              |===============================                                       |  44%  |                                                                              |========================================                              |  57%  |                                                                              |===============================================                       |  68%  |                                                                              |========================================================              |  80%  |                                                                              |===============================================================       |  90%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   8%  |                                                                              |=========                                                             |  13%  |                                                                              |===================                                                   |  27%  |                                                                              |=============================                                         |  41%  |                                                                              |=======================================                               |  55%  |                                                                              |================================================                      |  68%  |                                                                              |==========================================================            |  82%  |                                                                              |===============================================================       |  90%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   5%  |                                                                              |======                                                                |   9%  |                                                                              |============                                                          |  17%  |                                                                              |====================                                                  |  28%  |                                                                              |=========================                                             |  36%  |                                                                              |========================================                              |  58%  |                                                                              |==================================================                    |  71%  |                                                                              |==========================================================            |  83%  |                                                                              |===================================================================   |  95%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   5%  |                                                                              |====                                                                  |   6%  |                                                                              |==================                                                    |  26%  |                                                                              |===========================                                           |  39%  |                                                                              |====================================                                  |  51%  |                                                                              |============================================                          |  63%  |                                                                              |=====================================================                 |  76%  |                                                                              |===============================================================       |  89%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   8%  |                                                                              |========                                                              |  11%  |                                                                              |=========                                                             |  13%  |                                                                              |===============                                                       |  21%  |                                                                              |===================                                                   |  27%  |                                                                              |=========================                                             |  36%  |                                                                              |=================================                                     |  48%  |                                                                              |=========================================                             |  59%  |                                                                              |========================================================              |  80%  |                                                                              |=========================================================             |  81%  |                                                                              |===================================================================== |  98%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |===========                                                           |  15%  |                                                                              |===================                                                   |  27%  |                                                                              |=========================                                             |  36%  |                                                                              |=================================                                     |  47%  |                                                                              |==============================================                        |  65%  |                                                                              |====================================================                  |  74%  |                                                                              |==================================================================    |  95%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |=========                                                             |  12%  |                                                                              |=================                                                     |  24%  |                                                                              |=============================                                         |  41%  |                                                                              |=====================================                                 |  53%  |                                                                              |===========================================                           |  62%  |                                                                              |====================================================                  |  74%  |                                                                              |================================================================      |  91%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   9%  |                                                                              |==========                                                            |  14%  |                                                                              |======================                                                |  32%  |                                                                              |==============================                                        |  43%  |                                                                              |========================================                              |  57%  |                                                                              |===============================================                       |  68%  |                                                                              |========================================================              |  81%  |                                                                              |================================================================      |  92%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   8%  |                                                                              |========                                                              |  12%  |                                                                              |==================                                                    |  26%  |                                                                              |===========================                                           |  38%  |                                                                              |====================================                                  |  52%  |                                                                              |===========================================                           |  61%  |                                                                              |=====================================================                 |  76%  |                                                                              |============================================================          |  85%  |                                                                              |===================================================================   |  96%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   8%  |                                                                              |=========                                                             |  13%  |                                                                              |===========                                                           |  16%  |                                                                              |===============                                                       |  21%  |                                                                              |============================                                          |  40%  |                                                                              |=====================================                                 |  53%  |                                                                              |=======================================                               |  56%  |                                                                              |==================================================                    |  71%  |                                                                              |=====================================================                 |  76%  |                                                                              |===============================================================       |  90%  |                                                                              |===================================================================   |  96%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=============================================                         |  64%  |                                                                              |==================================================                    |  71%  |                                                                              |===========================================================           |  84%  |                                                                              |===================================================================   |  95%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |========                                                              |  11%  |                                                                              |==================                                                    |  26%  |                                                                              |===========================                                           |  38%  |                                                                              |=====================================                                 |  53%  |                                                                              |===============================================                       |  67%  |                                                                              |=========================================================             |  81%  |                                                                              |=================================================================     |  93%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   9%  |                                                                              |=========                                                             |  13%  |                                                                              |=====================                                                 |  29%  |                                                                              |====================================                                  |  51%  |                                                                              |===============================================                       |  67%  |                                                                              |=========================================================             |  81%  |                                                                              |===============================================================       |  90%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=======                                                               |  10%  |                                                                              |==========                                                            |  14%  |                                                                              |===================                                                   |  28%  |                                                                              |============================                                          |  40%  |                                                                              |====================================                                  |  51%  |                                                                              |====================================================                  |  75%  |                                                                              |============================================================          |  85%  |                                                                              |====================================================================  |  98%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=======                                                               |  10%  |                                                                              |=========                                                             |  13%  |                                                                              |==================                                                    |  25%  |                                                                              |==========================                                            |  37%  |                                                                              |=====================================                                 |  53%  |                                                                              |===============================================                       |  67%  |                                                                              |==========================================================            |  83%  |                                                                              |====================================================================  |  97%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |========                                                              |  12%  |                                                                              |=====================                                                 |  31%  |                                                                              |=============================                                         |  42%  |                                                                              |=======================================                               |  55%  |                                                                              |=================================================                     |  69%  |                                                                              |========================================================              |  80%  |                                                                              |=================================================================     |  93%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   8%  |                                                                              |==========                                                            |  14%  |                                                                              |===================                                                   |  27%  |                                                                              |==============================                                        |  43%  |                                                                              |=======================================                               |  56%  |                                                                              |================================================                      |  68%  |                                                                              |========================================================              |  81%  |                                                                              |==================================================================    |  95%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |=======                                                               |  10%  |                                                                              |==================                                                    |  26%  |                                                                              |===========================                                           |  38%  |                                                                              |======================================                                |  54%  |                                                                              |=================================================                     |  71%  |                                                                              |================================================================      |  91%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   8%  |                                                                              |========                                                              |  12%  |                                                                              |=======================                                               |  32%  |                                                                              |==============================                                        |  43%  |                                                                              |======================================                                |  54%  |                                                                              |==============================================                        |  66%  |                                                                              |=======================================================               |  79%  |                                                                              |==============================================================        |  88%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   5%  |                                                                              |==========                                                            |  14%  |                                                                              |=====================                                                 |  29%  |                                                                              |===================================                                   |  49%  |                                                                              |=============================================                         |  64%  |                                                                              |=====================================================                 |  75%  |                                                                              |===============================================================       |  90%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |===========                                                           |  15%  |                                                                              |===================                                                   |  27%  |                                                                              |=============================                                         |  41%  |                                                                              |====================================                                  |  52%  |                                                                              |=============================================                         |  65%  |                                                                              |======================================================                |  78%  |                                                                              |=============================================================         |  87%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   5%  |                                                                              |=======                                                               |  10%  |                                                                              |==================                                                    |  25%  |                                                                              |=============================                                         |  41%  |                                                                              |=======================================                               |  56%  |                                                                              |============================================                          |  63%  |                                                                              |=====================================================                 |  76%  |                                                                              |==============================================================        |  89%  |                                                                              |==================================================================    |  94%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   2%  |                                                                              |======                                                                |   9%  |                                                                              |=======                                                               |  11%  |                                                                              |===================                                                   |  27%  |                                                                              |======================================                                |  54%  |                                                                              |================================================                      |  69%  |                                                                              |=================================================================     |  92%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   8%  |                                                                              |==========                                                            |  15%  |                                                                              |=====================                                                 |  30%  |                                                                              |=============================                                         |  41%  |                                                                              |=============================================                         |  64%  |                                                                              |====================================================                  |  74%  |                                                                              |=============================================================         |  87%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |=========                                                             |  13%  |                                                                              |====================                                                  |  29%  |                                                                              |==============================                                        |  43%  |                                                                              |=======================================                               |  56%  |                                                                              |================================================                      |  69%  |                                                                              |=======================================================               |  78%  |                                                                              |=============================================================         |  87%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |=======                                                               |  10%  |                                                                              |====================                                                  |  29%  |                                                                              |==============================                                        |  42%  |                                                                              |=======================================                               |  56%  |                                                                              |================================================                      |  68%  |                                                                              |==========================================================            |  83%  |                                                                              |================================================================      |  91%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |========                                                              |  11%  |                                                                              |=================                                                     |  24%  |                                                                              |========================                                              |  35%  |                                                                              |===============================                                       |  45%  |                                                                              |=========================================                             |  58%  |                                                                              |====================================================                  |  74%  |                                                                              |==========================================================            |  83%  |                                                                              |==================================================================    |  94%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   5%  |                                                                              |=========                                                             |  13%  |                                                                              |====================                                                  |  29%  |                                                                              |===============================                                       |  44%  |                                                                              |============================================                          |  63%  |                                                                              |====================================================                  |  74%  |                                                                              |=============================================================         |  88%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   5%  |                                                                              |=========                                                             |  12%  |                                                                              |=====================                                                 |  30%  |                                                                              |================================                                      |  45%  |                                                                              |==========================================                            |  60%  |                                                                              |====================================================                  |  75%  |                                                                              |============================================================          |  86%  |                                                                              |===================================================================== |  98%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=======                                                               |   9%  |                                                                              |===============                                                       |  21%  |                                                                              |=========================                                             |  36%  |                                                                              |==================================                                    |  48%  |                                                                              |============================================                          |  63%  |                                                                              |====================================================                  |  75%  |                                                                              |==============================================================        |  89%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   3%  |                                                                              |========                                                              |  11%  |                                                                              |================                                                      |  23%  |                                                                              |=========================                                             |  36%  |                                                                              |==================================                                    |  49%  |                                                                              |==============================================                        |  66%  |                                                                              |=======================================================               |  79%  |                                                                              |==============================================================        |  88%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   8%  |                                                                              |============                                                          |  17%  |                                                                              |========================                                              |  34%  |                                                                              |==============================                                        |  43%  |                                                                              |======================================                                |  54%  |                                                                              |===============================================                       |  67%  |                                                                              |=====================================================                 |  76%  |                                                                              |================================================================      |  91%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   5%  |                                                                              |========                                                              |  11%  |                                                                              |=================                                                     |  24%  |                                                                              |==========================                                            |  37%  |                                                                              |====================================                                  |  52%  |                                                                              |============================================                          |  63%  |                                                                              |========================================================              |  79%  |                                                                              |============================================================          |  86%  |                                                                              |====================================================================  |  98%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=======                                                               |  10%  |                                                                              |==========                                                            |  15%  |                                                                              |===========================                                           |  38%  |                                                                              |====================================                                  |  52%  |                                                                              |==============================================                        |  66%  |                                                                              |========================================================              |  80%  |                                                                              |=============================================================         |  87%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |=======                                                               |   9%  |                                                                              |==================                                                    |  26%  |                                                                              |============================                                          |  40%  |                                                                              |=========================================                             |  58%  |                                                                              |=====================================================                 |  76%  |                                                                              |==============================================================        |  89%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   6%  |                                                                              |=======                                                               |  10%  |                                                                              |====================                                                  |  29%  |                                                                              |=============================                                         |  42%  |                                                                              |=============================================                         |  64%  |                                                                              |=========================================================             |  82%  |                                                                              |================================================================      |  92%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   8%  |                                                                              |========                                                              |  12%  |                                                                              |========================                                              |  34%  |                                                                              |=================================                                     |  47%  |                                                                              |========================================                              |  57%  |                                                                              |===================================================                   |  72%  |                                                                              |===========================================================           |  84%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   8%  |                                                                              |==========                                                            |  14%  |                                                                              |====================                                                  |  29%  |                                                                              |===============================                                       |  44%  |                                                                              |=========================================                             |  59%  |                                                                              |=================================================                     |  70%  |                                                                              |==========================================================            |  83%  |                                                                              |==================================================================    |  95%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   5%  |                                                                              |========                                                              |  11%  |                                                                              |================                                                      |  23%  |                                                                              |==========================                                            |  37%  |                                                                              |====================================                                  |  51%  |                                                                              |=============================================                         |  64%  |                                                                              |======================================================                |  78%  |                                                                              |============================================================          |  86%  |                                                                              |===================================================================   |  96%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |=========                                                             |  12%  |                                                                              |===================                                                   |  28%  |                                                                              |==============================                                        |  42%  |                                                                              |======================================                                |  54%  |                                                                              |================================================                      |  68%  |                                                                              |========================================================              |  80%  |                                                                              |===================================================================   |  95%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |=======                                                               |  10%  |                                                                              |=====================                                                 |  30%  |                                                                              |==============================                                        |  43%  |                                                                              |========================================                              |  57%  |                                                                              |=================================================                     |  70%  |                                                                              |=================================================================     |  92%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=======                                                               |  10%  |                                                                              |===========                                                           |  15%  |                                                                              |==============================                                        |  42%  |                                                                              |=======================================                               |  56%  |                                                                              |=================================================                     |  70%  |                                                                              |=========================================================             |  81%  |                                                                              |================================================================      |  91%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |=======                                                               |  10%  |                                                                              |==============                                                        |  20%  |                                                                              |=======================                                               |  33%  |                                                                              |================================                                      |  46%  |                                                                              |==========================================                            |  60%  |                                                                              |==================================================                    |  72%  |                                                                              |=============================================================         |  88%  |                                                                              |===================================================================== |  98%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   5%  |                                                                              |=========                                                             |  13%  |                                                                              |================                                                      |  23%  |                                                                              |==========================                                            |  38%  |                                                                              |====================================                                  |  51%  |                                                                              |===========================================                           |  62%  |                                                                              |====================================================                  |  75%  |                                                                              |=======================================================               |  79%  |                                                                              |================================================================      |  92%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |=======                                                               |  11%  |                                                                              |=========================                                             |  35%  |                                                                              |================================                                      |  46%  |                                                                              |=======================================                               |  56%  |                                                                              |================================================                      |  68%  |                                                                              |=====================================================                 |  76%  |                                                                              |===============================================================       |  90%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   5%  |                                                                              |======                                                                |   8%  |                                                                              |================                                                      |  23%  |                                                                              |==========================                                            |  37%  |                                                                              |======================================                                |  55%  |                                                                              |===============================================                       |  67%  |                                                                              |========================================================              |  80%  |                                                                              |============================================================          |  86%  |                                                                              |====================================================================  |  97%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |=====                                                                 |   7%  |                                                                              |=========                                                             |  12%  |                                                                              |========================                                              |  34%  |                                                                              |==================================                                    |  48%  |                                                                              |========================================                              |  57%  |                                                                              |=================================================                     |  70%  |                                                                              |=======================================================               |  79%  |                                                                              |==================================================================    |  95%  |                                                                              |======================================================================| 100%</code></pre>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="h20.html#cb259-1" tabindex="-1"></a>mean_auc <span class="ot">&lt;-</span> <span class="fu">mean</span>(auc_scores)</span>
<span id="cb259-2"><a href="h20.html#cb259-2" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Average AUC over&quot;</span>, r, <span class="st">&quot;trials:&quot;</span>, mean_auc))</span></code></pre></div>
<pre><code>## [1] &quot;Average AUC over 100 trials: 0.974888800717688&quot;</code></pre>
</div>
<div id="automl" class="section level3 hasAnchor" number="8.3.3">
<h3><span class="header-section-number">8.3.3</span> AutoML<a href="h20.html#automl" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="h20.html#cb261-1" tabindex="-1"></a><span class="co"># Step 1: Define your target variable</span></span>
<span id="cb261-2"><a href="h20.html#cb261-2" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="st">&quot;y&quot;</span>  </span>
<span id="cb261-3"><a href="h20.html#cb261-3" tabindex="-1"></a></span>
<span id="cb261-4"><a href="h20.html#cb261-4" tabindex="-1"></a><span class="co"># Step 2: Define predictors </span></span>
<span id="cb261-5"><a href="h20.html#cb261-5" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(<span class="fu">names</span>(data_h2o), y)  </span>
<span id="cb261-6"><a href="h20.html#cb261-6" tabindex="-1"></a></span>
<span id="cb261-7"><a href="h20.html#cb261-7" tabindex="-1"></a><span class="co"># Step 3: Run AutoML</span></span>
<span id="cb261-8"><a href="h20.html#cb261-8" tabindex="-1"></a>aml <span class="ot">&lt;-</span> <span class="fu">h2o.automl</span>(</span>
<span id="cb261-9"><a href="h20.html#cb261-9" tabindex="-1"></a>  <span class="at">x =</span> x, </span>
<span id="cb261-10"><a href="h20.html#cb261-10" tabindex="-1"></a>  <span class="at">y =</span> y,</span>
<span id="cb261-11"><a href="h20.html#cb261-11" tabindex="-1"></a>  <span class="at">training_frame =</span> data_h2o,</span>
<span id="cb261-12"><a href="h20.html#cb261-12" tabindex="-1"></a>  <span class="at">max_models =</span> <span class="dv">20</span>,  </span>
<span id="cb261-13"><a href="h20.html#cb261-13" tabindex="-1"></a>  <span class="at">max_runtime_secs =</span> <span class="dv">3600</span><span class="sc">*</span><span class="dv">5</span></span>
<span id="cb261-14"><a href="h20.html#cb261-14" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>##   |                                                                              |                                                                      |   0%  |                                                                              |=                                                                     |   2%
## 05:18:59.467: AutoML: XGBoost is not available; skipping it.  |                                                                              |==                                                                    |   3%  |                                                                              |====                                                                  |   5%  |                                                                              |====                                                                  |   6%  |                                                                              |=====                                                                 |   7%  |                                                                              |======                                                                |   8%  |                                                                              |======                                                                |   9%  |                                                                              |========                                                              |  11%  |                                                                              |========                                                              |  12%  |                                                                              |============                                                          |  17%  |                                                                              |=============                                                         |  18%  |                                                                              |==============                                                        |  20%  |                                                                              |==============                                                        |  21%  |                                                                              |===============                                                       |  21%  |                                                                              |================                                                      |  23%  |                                                                              |================                                                      |  24%  |                                                                              |==================                                                    |  26%  |                                                                              |===================                                                   |  26%  |                                                                              |===============================                                       |  44%  |                                                                              |=====================================                                 |  53%  |                                                                              |===========================================                           |  62%  |                                                                              |======================================================                |  76%  |                                                                              |========================================================              |  79%  |                                                                              |======================================================================| 100%</code></pre>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="h20.html#cb263-1" tabindex="-1"></a><span class="co"># Step 4: View the AutoML Leaderboard</span></span>
<span id="cb263-2"><a href="h20.html#cb263-2" tabindex="-1"></a>lb <span class="ot">&lt;-</span> <span class="fu">h2o.get_leaderboard</span>(aml, <span class="at">extra_columns =</span> <span class="st">&quot;ALL&quot;</span>)</span>
<span id="cb263-3"><a href="h20.html#cb263-3" tabindex="-1"></a><span class="fu">print</span>(lb)</span></code></pre></div>
<pre><code>##                                                 model_id       auc    logloss
## 1    StackedEnsemble_AllModels_1_AutoML_1_20241229_51859 0.9772958 0.04725423
## 2                          GBM_3_AutoML_1_20241229_51859 0.9768935 0.05192053
## 3 StackedEnsemble_BestOfFamily_1_AutoML_1_20241229_51859 0.9758105 0.04888945
## 4             GBM_grid_1_AutoML_1_20241229_51859_model_1 0.9744953 0.05889433
## 5                          GBM_2_AutoML_1_20241229_51859 0.9734788 0.05307717
## 6                          GBM_4_AutoML_1_20241229_51859 0.9733428 0.05647616
##       aucpr mean_per_class_error      rmse        mse training_time_ms
## 1 0.8239358            0.1456038 0.1092502 0.01193562            26824
## 2 0.7956109            0.1475445 0.1139472 0.01298396             3705
## 3 0.8109416            0.1333128 0.1113926 0.01240830            30222
## 4 0.7262399            0.2077319 0.1279477 0.01637062             5786
## 5 0.7864638            0.1514777 0.1159855 0.01345263             1241
## 6 0.7679228            0.1723078 0.1199868 0.01439684             5492
##   predict_time_per_row_ms            algo
## 1                0.071819 StackedEnsemble
## 2                0.064883             GBM
## 3                0.080489 StackedEnsemble
## 4                0.092447             GBM
## 5                0.086089             GBM
## 6                0.084048             GBM
## 
## [22 rows x 10 columns]</code></pre>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="h20.html#cb265-1" tabindex="-1"></a><span class="co"># Step 5: Get the best model</span></span>
<span id="cb265-2"><a href="h20.html#cb265-2" tabindex="-1"></a>best_model <span class="ot">&lt;-</span> aml<span class="sc">@</span>leader</span>
<span id="cb265-3"><a href="h20.html#cb265-3" tabindex="-1"></a></span>
<span id="cb265-4"><a href="h20.html#cb265-4" tabindex="-1"></a><span class="fu">h2o.performance</span>(best_model, data_h2o) </span></code></pre></div>
<pre><code>## H2OBinomialMetrics: stackedensemble
## 
## MSE:  0.00340925
## RMSE:  0.05838878
## LogLoss:  0.01656
## Mean Per-Class Error:  0.02991256
## AUC:  0.9997015
## AUCPR:  0.9923206
## Gini:  0.9994031
## 
## Confusion Matrix (vertical: actual; across: predicted) for F1-optimal threshold:
##           0   1    Error       Rate
## 0      9653   8 0.000828    =8/9661
## 1        20 319 0.058997    =20/339
## Totals 9673 327 0.002800  =28/10000
## 
## Maximum Metrics: Maximum metrics at their respective thresholds
##                         metric threshold       value idx
## 1                       max f1  0.379277    0.957958 133
## 2                       max f2  0.249510    0.957998 168
## 3                 max f0point5  0.436426    0.974922 122
## 4                 max accuracy  0.379277    0.997200 133
## 5                max precision  0.999748    1.000000   0
## 6                   max recall  0.178150    1.000000 193
## 7              max specificity  0.999748    1.000000   0
## 8             max absolute_mcc  0.379277    0.956676 133
## 9   max min_per_class_accuracy  0.194902    0.992030 187
## 10 max mean_per_class_accuracy  0.178150    0.995394 193
## 11                     max tns  0.999748 9661.000000   0
## 12                     max fns  0.999748  306.000000   0
## 13                     max fps  0.000089 9661.000000 399
## 14                     max tps  0.178150  339.000000 193
## 15                     max tnr  0.999748    1.000000   0
## 16                     max fnr  0.999748    0.902655   0
## 17                     max fpr  0.000089    1.000000 399
## 18                     max tpr  0.178150    1.000000 193
## 
## Gains/Lift Table: Extract with `h2o.gainsLift(&lt;model&gt;, &lt;data&gt;)` or `h2o.gainsLift(&lt;model&gt;, valid=&lt;T/F&gt;, xval=&lt;T/F&gt;)`</code></pre>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="h20.html#cb267-1" tabindex="-1"></a><span class="co"># Retrieve the best model from AutoML</span></span>
<span id="cb267-2"><a href="h20.html#cb267-2" tabindex="-1"></a>best_model <span class="ot">&lt;-</span> aml<span class="sc">@</span>leader</span>
<span id="cb267-3"><a href="h20.html#cb267-3" tabindex="-1"></a></span>
<span id="cb267-4"><a href="h20.html#cb267-4" tabindex="-1"></a><span class="co"># Initialize a vector to store AUC scores or any other performance metric</span></span>
<span id="cb267-5"><a href="h20.html#cb267-5" tabindex="-1"></a>performance_scores <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="dv">100</span>)</span>
<span id="cb267-6"><a href="h20.html#cb267-6" tabindex="-1"></a></span>
<span id="cb267-7"><a href="h20.html#cb267-7" tabindex="-1"></a><span class="co"># Loop to perform the train-test split, predict, and calculate performance 100 times</span></span>
<span id="cb267-8"><a href="h20.html#cb267-8" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>) {</span>
<span id="cb267-9"><a href="h20.html#cb267-9" tabindex="-1"></a>  <span class="co"># Split the data into 80% training and 20% testing</span></span>
<span id="cb267-10"><a href="h20.html#cb267-10" tabindex="-1"></a>  splits <span class="ot">&lt;-</span> <span class="fu">h2o.splitFrame</span>(<span class="at">data =</span> data_h2o, <span class="at">ratios =</span> <span class="fl">0.8</span>)</span>
<span id="cb267-11"><a href="h20.html#cb267-11" tabindex="-1"></a>  train <span class="ot">&lt;-</span> splits[[<span class="dv">1</span>]]</span>
<span id="cb267-12"><a href="h20.html#cb267-12" tabindex="-1"></a>  test <span class="ot">&lt;-</span> splits[[<span class="dv">2</span>]]</span>
<span id="cb267-13"><a href="h20.html#cb267-13" tabindex="-1"></a>  </span>
<span id="cb267-14"><a href="h20.html#cb267-14" tabindex="-1"></a>  pred <span class="ot">&lt;-</span> <span class="fu">h2o.predict</span>(best_model, test)</span>
<span id="cb267-15"><a href="h20.html#cb267-15" tabindex="-1"></a>  </span>
<span id="cb267-16"><a href="h20.html#cb267-16" tabindex="-1"></a>  <span class="co"># Evaluate performance</span></span>
<span id="cb267-17"><a href="h20.html#cb267-17" tabindex="-1"></a>  perf <span class="ot">&lt;-</span> <span class="fu">h2o.performance</span>(best_model, <span class="at">newdata =</span> test)</span>
<span id="cb267-18"><a href="h20.html#cb267-18" tabindex="-1"></a>  auc_score <span class="ot">&lt;-</span> <span class="fu">h2o.auc</span>(perf)</span>
<span id="cb267-19"><a href="h20.html#cb267-19" tabindex="-1"></a>  performance_scores[i] <span class="ot">&lt;-</span> auc_score</span>
<span id="cb267-20"><a href="h20.html#cb267-20" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
##   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%</code></pre>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="h20.html#cb269-1" tabindex="-1"></a><span class="co"># Calculate average performance across all splits</span></span>
<span id="cb269-2"><a href="h20.html#cb269-2" tabindex="-1"></a>average_performance <span class="ot">&lt;-</span> <span class="fu">mean</span>(performance_scores)</span>
<span id="cb269-3"><a href="h20.html#cb269-3" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Average AUC over 100 trials: &quot;</span>, average_performance))</span></code></pre></div>
<pre><code>## [1] &quot;Average AUC over 100 trials:  0.999699865299846&quot;</code></pre>
<p>now we get the info about the winning model</p>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="h20.html#cb271-1" tabindex="-1"></a>best_model<span class="sc">@</span>model_id</span></code></pre></div>
<pre><code>## [1] &quot;StackedEnsemble_AllModels_1_AutoML_1_20241229_51859&quot;</code></pre>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="h20.html#cb273-1" tabindex="-1"></a>best_model<span class="sc">@</span>parameters</span></code></pre></div>
<pre><code>## $model_id
## [1] &quot;StackedEnsemble_AllModels_1_AutoML_1_20241229_51859&quot;
## 
## $training_frame
## [1] &quot;AutoML_1_20241229_51859_training_RTMP_sid_b5df_5&quot;
## 
## $base_models
## $base_models[[1]]
## $base_models[[1]]$`__meta`
## $base_models[[1]]$`__meta`$schema_version
## [1] 3
## 
## $base_models[[1]]$`__meta`$schema_name
## [1] &quot;KeyV3&quot;
## 
## $base_models[[1]]$`__meta`$schema_type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## 
## $base_models[[1]]$name
## [1] &quot;GBM_3_AutoML_1_20241229_51859&quot;
## 
## $base_models[[1]]$type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## $base_models[[1]]$URL
## NULL
## 
## 
## $base_models[[2]]
## $base_models[[2]]$`__meta`
## $base_models[[2]]$`__meta`$schema_version
## [1] 3
## 
## $base_models[[2]]$`__meta`$schema_name
## [1] &quot;KeyV3&quot;
## 
## $base_models[[2]]$`__meta`$schema_type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## 
## $base_models[[2]]$name
## [1] &quot;GBM_grid_1_AutoML_1_20241229_51859_model_1&quot;
## 
## $base_models[[2]]$type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## $base_models[[2]]$URL
## NULL
## 
## 
## $base_models[[3]]
## $base_models[[3]]$`__meta`
## $base_models[[3]]$`__meta`$schema_version
## [1] 3
## 
## $base_models[[3]]$`__meta`$schema_name
## [1] &quot;KeyV3&quot;
## 
## $base_models[[3]]$`__meta`$schema_type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## 
## $base_models[[3]]$name
## [1] &quot;GBM_2_AutoML_1_20241229_51859&quot;
## 
## $base_models[[3]]$type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## $base_models[[3]]$URL
## NULL
## 
## 
## $base_models[[4]]
## $base_models[[4]]$`__meta`
## $base_models[[4]]$`__meta`$schema_version
## [1] 3
## 
## $base_models[[4]]$`__meta`$schema_name
## [1] &quot;KeyV3&quot;
## 
## $base_models[[4]]$`__meta`$schema_type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## 
## $base_models[[4]]$name
## [1] &quot;GBM_4_AutoML_1_20241229_51859&quot;
## 
## $base_models[[4]]$type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## $base_models[[4]]$URL
## NULL
## 
## 
## $base_models[[5]]
## $base_models[[5]]$`__meta`
## $base_models[[5]]$`__meta`$schema_version
## [1] 3
## 
## $base_models[[5]]$`__meta`$schema_name
## [1] &quot;KeyV3&quot;
## 
## $base_models[[5]]$`__meta`$schema_type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## 
## $base_models[[5]]$name
## [1] &quot;GBM_1_AutoML_1_20241229_51859&quot;
## 
## $base_models[[5]]$type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## $base_models[[5]]$URL
## NULL
## 
## 
## $base_models[[6]]
## $base_models[[6]]$`__meta`
## $base_models[[6]]$`__meta`$schema_version
## [1] 3
## 
## $base_models[[6]]$`__meta`$schema_name
## [1] &quot;KeyV3&quot;
## 
## $base_models[[6]]$`__meta`$schema_type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## 
## $base_models[[6]]$name
## [1] &quot;GBM_5_AutoML_1_20241229_51859&quot;
## 
## $base_models[[6]]$type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## $base_models[[6]]$URL
## NULL
## 
## 
## $base_models[[7]]
## $base_models[[7]]$`__meta`
## $base_models[[7]]$`__meta`$schema_version
## [1] 3
## 
## $base_models[[7]]$`__meta`$schema_name
## [1] &quot;KeyV3&quot;
## 
## $base_models[[7]]$`__meta`$schema_type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## 
## $base_models[[7]]$name
## [1] &quot;GBM_grid_1_AutoML_1_20241229_51859_model_5&quot;
## 
## $base_models[[7]]$type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## $base_models[[7]]$URL
## NULL
## 
## 
## $base_models[[8]]
## $base_models[[8]]$`__meta`
## $base_models[[8]]$`__meta`$schema_version
## [1] 3
## 
## $base_models[[8]]$`__meta`$schema_name
## [1] &quot;KeyV3&quot;
## 
## $base_models[[8]]$`__meta`$schema_type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## 
## $base_models[[8]]$name
## [1] &quot;XRT_1_AutoML_1_20241229_51859&quot;
## 
## $base_models[[8]]$type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## $base_models[[8]]$URL
## NULL
## 
## 
## $base_models[[9]]
## $base_models[[9]]$`__meta`
## $base_models[[9]]$`__meta`$schema_version
## [1] 3
## 
## $base_models[[9]]$`__meta`$schema_name
## [1] &quot;KeyV3&quot;
## 
## $base_models[[9]]$`__meta`$schema_type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## 
## $base_models[[9]]$name
## [1] &quot;GBM_grid_1_AutoML_1_20241229_51859_model_2&quot;
## 
## $base_models[[9]]$type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## $base_models[[9]]$URL
## NULL
## 
## 
## $base_models[[10]]
## $base_models[[10]]$`__meta`
## $base_models[[10]]$`__meta`$schema_version
## [1] 3
## 
## $base_models[[10]]$`__meta`$schema_name
## [1] &quot;KeyV3&quot;
## 
## $base_models[[10]]$`__meta`$schema_type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## 
## $base_models[[10]]$name
## [1] &quot;DRF_1_AutoML_1_20241229_51859&quot;
## 
## $base_models[[10]]$type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## $base_models[[10]]$URL
## NULL
## 
## 
## $base_models[[11]]
## $base_models[[11]]$`__meta`
## $base_models[[11]]$`__meta`$schema_version
## [1] 3
## 
## $base_models[[11]]$`__meta`$schema_name
## [1] &quot;KeyV3&quot;
## 
## $base_models[[11]]$`__meta`$schema_type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## 
## $base_models[[11]]$name
## [1] &quot;GBM_grid_1_AutoML_1_20241229_51859_model_4&quot;
## 
## $base_models[[11]]$type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## $base_models[[11]]$URL
## NULL
## 
## 
## $base_models[[12]]
## $base_models[[12]]$`__meta`
## $base_models[[12]]$`__meta`$schema_version
## [1] 3
## 
## $base_models[[12]]$`__meta`$schema_name
## [1] &quot;KeyV3&quot;
## 
## $base_models[[12]]$`__meta`$schema_type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## 
## $base_models[[12]]$name
## [1] &quot;GBM_grid_1_AutoML_1_20241229_51859_model_3&quot;
## 
## $base_models[[12]]$type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## $base_models[[12]]$URL
## NULL
## 
## 
## $base_models[[13]]
## $base_models[[13]]$`__meta`
## $base_models[[13]]$`__meta`$schema_version
## [1] 3
## 
## $base_models[[13]]$`__meta`$schema_name
## [1] &quot;KeyV3&quot;
## 
## $base_models[[13]]$`__meta`$schema_type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## 
## $base_models[[13]]$name
## [1] &quot;DeepLearning_grid_3_AutoML_1_20241229_51859_model_1&quot;
## 
## $base_models[[13]]$type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## $base_models[[13]]$URL
## NULL
## 
## 
## $base_models[[14]]
## $base_models[[14]]$`__meta`
## $base_models[[14]]$`__meta`$schema_version
## [1] 3
## 
## $base_models[[14]]$`__meta`$schema_name
## [1] &quot;KeyV3&quot;
## 
## $base_models[[14]]$`__meta`$schema_type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## 
## $base_models[[14]]$name
## [1] &quot;DeepLearning_grid_3_AutoML_1_20241229_51859_model_2&quot;
## 
## $base_models[[14]]$type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## $base_models[[14]]$URL
## NULL
## 
## 
## $base_models[[15]]
## $base_models[[15]]$`__meta`
## $base_models[[15]]$`__meta`$schema_version
## [1] 3
## 
## $base_models[[15]]$`__meta`$schema_name
## [1] &quot;KeyV3&quot;
## 
## $base_models[[15]]$`__meta`$schema_type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## 
## $base_models[[15]]$name
## [1] &quot;DeepLearning_grid_1_AutoML_1_20241229_51859_model_1&quot;
## 
## $base_models[[15]]$type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## $base_models[[15]]$URL
## NULL
## 
## 
## $base_models[[16]]
## $base_models[[16]]$`__meta`
## $base_models[[16]]$`__meta`$schema_version
## [1] 3
## 
## $base_models[[16]]$`__meta`$schema_name
## [1] &quot;KeyV3&quot;
## 
## $base_models[[16]]$`__meta`$schema_type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## 
## $base_models[[16]]$name
## [1] &quot;DeepLearning_grid_2_AutoML_1_20241229_51859_model_2&quot;
## 
## $base_models[[16]]$type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## $base_models[[16]]$URL
## NULL
## 
## 
## $base_models[[17]]
## $base_models[[17]]$`__meta`
## $base_models[[17]]$`__meta`$schema_version
## [1] 3
## 
## $base_models[[17]]$`__meta`$schema_name
## [1] &quot;KeyV3&quot;
## 
## $base_models[[17]]$`__meta`$schema_type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## 
## $base_models[[17]]$name
## [1] &quot;DeepLearning_grid_1_AutoML_1_20241229_51859_model_2&quot;
## 
## $base_models[[17]]$type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## $base_models[[17]]$URL
## NULL
## 
## 
## $base_models[[18]]
## $base_models[[18]]$`__meta`
## $base_models[[18]]$`__meta`$schema_version
## [1] 3
## 
## $base_models[[18]]$`__meta`$schema_name
## [1] &quot;KeyV3&quot;
## 
## $base_models[[18]]$`__meta`$schema_type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## 
## $base_models[[18]]$name
## [1] &quot;DeepLearning_1_AutoML_1_20241229_51859&quot;
## 
## $base_models[[18]]$type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## $base_models[[18]]$URL
## NULL
## 
## 
## $base_models[[19]]
## $base_models[[19]]$`__meta`
## $base_models[[19]]$`__meta`$schema_version
## [1] 3
## 
## $base_models[[19]]$`__meta`$schema_name
## [1] &quot;KeyV3&quot;
## 
## $base_models[[19]]$`__meta`$schema_type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## 
## $base_models[[19]]$name
## [1] &quot;DeepLearning_grid_2_AutoML_1_20241229_51859_model_1&quot;
## 
## $base_models[[19]]$type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## $base_models[[19]]$URL
## NULL
## 
## 
## $base_models[[20]]
## $base_models[[20]]$`__meta`
## $base_models[[20]]$`__meta`$schema_version
## [1] 3
## 
## $base_models[[20]]$`__meta`$schema_name
## [1] &quot;KeyV3&quot;
## 
## $base_models[[20]]$`__meta`$schema_type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## 
## $base_models[[20]]$name
## [1] &quot;GLM_1_AutoML_1_20241229_51859&quot;
## 
## $base_models[[20]]$type
## [1] &quot;Key&lt;Keyed&gt;&quot;
## 
## $base_models[[20]]$URL
## NULL
## 
## 
## 
## $metalearner_algorithm
## [1] &quot;glm&quot;
## 
## $metalearner_nfolds
## [1] 5
## 
## $metalearner_transform
## [1] &quot;Logit&quot;
## 
## $seed
## [1] &quot;3501269604985256214&quot;
## 
## $keep_levelone_frame
## [1] TRUE
## 
## $x
## [1] &quot;type&quot;                  &quot;air_temperature_k&quot;     &quot;process_temperature_k&quot;
## [4] &quot;rotational_speed_rpm&quot;  &quot;torque_nm&quot;             &quot;tool_wear_min&quot;        
## 
## $y
## [1] &quot;y&quot;</code></pre>
<p>its stacked ensambled so we need to get the models that are in the stack</p>
<p>lets get the base models</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="h20.html#cb275-1" tabindex="-1"></a>base_models <span class="ot">&lt;-</span> best_model<span class="sc">@</span>model<span class="sc">$</span>base_models</span>
<span id="cb275-2"><a href="h20.html#cb275-2" tabindex="-1"></a>base_models</span></code></pre></div>
<pre><code>##  [1] &quot;GBM_3_AutoML_1_20241229_51859&quot;                      
##  [2] &quot;GBM_grid_1_AutoML_1_20241229_51859_model_1&quot;         
##  [3] &quot;GBM_2_AutoML_1_20241229_51859&quot;                      
##  [4] &quot;GBM_4_AutoML_1_20241229_51859&quot;                      
##  [5] &quot;GBM_1_AutoML_1_20241229_51859&quot;                      
##  [6] &quot;GBM_5_AutoML_1_20241229_51859&quot;                      
##  [7] &quot;GBM_grid_1_AutoML_1_20241229_51859_model_5&quot;         
##  [8] &quot;XRT_1_AutoML_1_20241229_51859&quot;                      
##  [9] &quot;GBM_grid_1_AutoML_1_20241229_51859_model_2&quot;         
## [10] &quot;DRF_1_AutoML_1_20241229_51859&quot;                      
## [11] &quot;GBM_grid_1_AutoML_1_20241229_51859_model_4&quot;         
## [12] &quot;GBM_grid_1_AutoML_1_20241229_51859_model_3&quot;         
## [13] &quot;DeepLearning_grid_3_AutoML_1_20241229_51859_model_1&quot;
## [14] &quot;DeepLearning_grid_3_AutoML_1_20241229_51859_model_2&quot;
## [15] &quot;DeepLearning_grid_1_AutoML_1_20241229_51859_model_1&quot;
## [16] &quot;DeepLearning_grid_2_AutoML_1_20241229_51859_model_2&quot;
## [17] &quot;DeepLearning_grid_1_AutoML_1_20241229_51859_model_2&quot;
## [18] &quot;DeepLearning_1_AutoML_1_20241229_51859&quot;             
## [19] &quot;DeepLearning_grid_2_AutoML_1_20241229_51859_model_1&quot;
## [20] &quot;GLM_1_AutoML_1_20241229_51859&quot;</code></pre>
<p>now the meta one</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="h20.html#cb277-1" tabindex="-1"></a>metalearner <span class="ot">&lt;-</span> best_model<span class="sc">@</span>model<span class="sc">$</span>metalearner</span>
<span id="cb277-2"><a href="h20.html#cb277-2" tabindex="-1"></a>metalearner</span></code></pre></div>
<pre><code>## $`__meta`
## $`__meta`$schema_version
## [1] 3
## 
## $`__meta`$schema_name
## [1] &quot;ModelKeyV3&quot;
## 
## $`__meta`$schema_type
## [1] &quot;Key&lt;Model&gt;&quot;
## 
## 
## $name
## [1] &quot;metalearner_AUTO_StackedEnsemble_AllModels_1_AutoML_1_20241229_51859&quot;
## 
## $type
## [1] &quot;Key&lt;Model&gt;&quot;
## 
## $URL
## [1] &quot;/3/Models/metalearner_AUTO_StackedEnsemble_AllModels_1_AutoML_1_20241229_51859&quot;</code></pre>
<p>=</p>
<p>GLM: Generalized Linear Model
DRF: Distributed Random Forest
GBM: Gradient Boosting Machine
DeepLearning: Neural Networks
StackedEnsemble: Ensemble methods
XGBoost: eXtreme Gradient Boosting (if available in your H2O installation</p>
</div>
<div id="xgboost-1" class="section level3 hasAnchor" number="8.3.4">
<h3><span class="header-section-number">8.3.4</span> XGBoost<a href="h20.html#xgboost-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>we need to set up the gpus for this</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="h20.html#cb279-1" tabindex="-1"></a><span class="co"># Check if XGBoost is available</span></span>
<span id="cb279-2"><a href="h20.html#cb279-2" tabindex="-1"></a><span class="fu">h2o.xgboost.available</span>()</span></code></pre></div>
<pre><code>## [1] &quot;Cannot build a XGboost model - no backend found.&quot;</code></pre>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb282"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb282-1"><a href="h20.html#cb282-1" tabindex="-1"></a><span class="fu">h2o.shutdown</span>(<span class="at">prompt =</span> <span class="cn">FALSE</span>)</span></code></pre></div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="multi-variable-classification.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="econometrics.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/07_H2O.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
